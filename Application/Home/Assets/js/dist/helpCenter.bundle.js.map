{"version":3,"sources":["webpack:///helpCenter.bundle.js","webpack:///./../js/entry/helpCenter.js","webpack:///./../js/api/helpCenter.js","webpack:///./../js/page/help.js","webpack:///./../js/page/information.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_require","combinePageModule","init","help","information","72","concatApi","api","getInformationList","78","$","getList","url","page","max_page","disable","flag","window","scroll","document","scrollTop","height","parseInt","append","get","p","msg","status","result","complete","trigger","collapse","click","$this","this","$scope","closest","$item","$items","find","not","$content","$contents","stop","slideUp","slideToggle","addClass","removeClass","call","80","_getInformationList","self","limitHeight","event","pn","data","hasClass","_ref","_ref2","$els","locationList","_$this$data","location","val","inforForm","on","type","success","fail","$loadingMmore","loadingMmore","dataForm","serializeArray","push","name","value","ret","html","renderList","infoList","pagecount","forEach","item","date","transformDate","create_time","m","d","y","id","title","description","dateObj","Date","getMonth","getFullYear","getDate","indexInit","banner","inforTab","Swiper","autoplay","loop","pagination","calculateHeight","paginationClickable","tab"],"mappings":"AAAAA,cAAc,IAERC;;;AAIA,SAASC,EAAQC,EAASC,GAE/B,YAEA,IAAIC,GCVuBD,qBAAQ,GAA9BE,EDYmBD,ECZnBC,iBAENF,8BAAQ,IAAwBG,OAEhCD,GACCE,KAAMJ,kBAAQ,IACdK,YAAaL,yBAAQ,ODkBhBM;;;AAIA,SAASR,EAAQC,EAASC,GAE/B,YAGA,IAAIC,GEhCeD,iBAAQ,IAAtBO,EAAFN,EAAEM,UACNC,GAECC,mBAAmB,iBAIpBX,GAAOC,QAAUQ,EAAUC,IFsCrBE;;;AAIA,SAASZ,EAAQC,EAASC,IAEH,SAASW,GAAI,YGnD1Cb,GAAOC,SACNa,QADgB,SACRC,EAAKC,EAAMC,GAElB,GAAIC,IAAU,EACbC,GAAO,CAERH,IAAc,EACdC,GAAsB,EAEtBJ,EAAEO,QAAQC,OAAO,WACb,IAAIH,GACIL,EAAES,UAAUC,aAAeV,EAAES,UAAUE,SAAWX,EAAEO,QAAQI,SAAU,CAEzE,GAAGL,EACF,MAKD,IAFAA,GAAO,EAEJH,EAAOS,SAASR,GAGxB,MAFAJ,GAAE,YAAYa,OAAO,sCACrBR,GAAU,GACH,CAGFL,GAAEc,IAAIZ,GAAKa,EAAEZ,GAAM,SAASa,GACxBA,EAAIC,SAENd,IACAH,EAAE,qBAAqBa,OAAOG,EAAIE,UAElC,QAAQC,SAAS,WAClBb,GAAO,OAIXc,QAAQ,WAEfC,SAtCgB,WAwCfrB,EAAE,iCAAiCsB,MAAM,WACxC,GAAIC,GAAQvB,EAAEwB,MACbC,EAASF,EAAMG,QAAQ,iBACvBC,EAAQJ,EAAMG,QAAQ,kBACtBE,EAASH,EAAOI,KAAK,kBAAkBC,IAAIH,GAC3CI,EAAWJ,EAAME,KAAK,qBACtBG,EAAYJ,EAAOC,KAAK,oBAExBG,GAAUC,OAAOC,QAAQ,KACzBH,EAASE,OAAOE,YAAY,KAC5BR,EAAMS,SAAS,UACfR,EAAOS,YAAY,gBHwDOC,KAAKlD,EAASC,eAAkC,KAIxEkD;;;AAIA,SAASpD,EAAQC,EAASC,IAEH,SAASW,GAAI,YAEzC,IAAIV,GIvHwBD,uBAAQ,IAA/BmD,EJyHqBlD,EIzHrBQ,kBACNT,0BAAQ,IAGRF,EAAOC,SACNI,KADgB,WAEf,GAAIiD,GAAOjB,IAEXxB,GAAE,qBAAqB0C,cAGvB1C,EAAE,mBAAmBsB,MAAM,SAASqB,GACnC,GAAIpB,GAAQvB,EAAEwB,MACboB,EAAKrB,EAAMsB,KAAK,MAAQ,GAAM,CAG5BtB,GAAMuB,SAAS,aAAevB,EAAMuB,SAAS,aAIhDvB,EAAMa,SAAS,oBAEfK,EAAK3C,mBAAmB,EAAG,SAAAiD,GAAaA,EAAV/B,GAE7BO,GAAMsB,KAAK,OAAQD,IACjB,SAAAI,GAAwBA,EAArBhC,SAOPhB,EAAE,IAAKyC,EAAKQ,KAAKC,cAAc5B,MAAM,WAChC,GAAAC,GAAQvB,EAAEwB,MADkC2B,EAEhC5B,EAAMsB,OAAnBO,EAAFD,EAAEC,SACFC,EAAMZ,EAAKQ,KAAKG,SAASC,MACzB5B,EAASgB,EAAKQ,KAAKC,YAEpBzB,GAAOI,KAAK,KAAKQ,YAAY,UAE7Bd,EAAMa,SAAS,UAEZgB,EAAW,KAAOC,IACpBZ,EAAKQ,KAAKG,SAASC,IAAID,GAEvBX,EAAK3C,mBAAmB,MAK1B2C,EAAKQ,KAAKK,UAAUC,GAAG,SAAU,WAEhC,MADAd,GAAK3C,mBAAmB,IACjB,KAUTA,mBA1DgB,SA0DG0D,EAAKC,EAASC,GAChC,GAAIjB,GAAMjB,KACTmC,EAAgBlB,EAAKQ,KAAKW,aAC1BhB,EAAa,GAARY,EAAY,EAAIG,EAAcd,KAAK,MACxCgB,EAAWpB,EAAKQ,KAAKK,UAAUQ,gBAOhC,OALAD,GAASE,MACRC,KAAM,IACNC,MAAOrB,IAGDJ,EAAmBqB,EAAU,SAAEK,GAEnC,GAAIC,GAAO1B,EAAK2B,WAAWF,EAAIrB,KAEpB,IAARW,GACFf,EAAKQ,KAAKoB,SAASF,KAAKA,GACxBR,EAActB,YAAY,4BACxBQ,KAAK,KAAM,IAEbJ,EAAKQ,KAAKoB,SAASxD,OAAOsD,GAGN,kBAAXV,IACTA,EAAQS,GAGNA,EAAII,WAAa1B,EACnBe,EAAcvB,SAAS,oBAEvBuB,EAActB,YAAY,qBAIzB,SAAC6B,GAEHP,EAActB,YAAY,YAER,kBAARqB,IACTA,EAAKQ,KAINV,KAAM,QACJrC,SAAS,WACXwC,EAActB,YAAY,cAG9BY,MACCW,aAAc5D,EAAE,mBAChBoD,SAAUpD,EAAE,eACZkD,aAAclD,EAAE,oBAChBqE,SAAUrE,EAAE,gBACZsD,UAAWtD,EAAE,yBAGdoE,WAlHgB,SAkHLvB,GACV,GAAIsB,GAAO,GACV1B,EAAOjB,IAsBR,OApBAqB,GAAK0B,QAAQ,SAACC,GACb,GAAIC,GAAOhC,EAAKiC,cAAcF,EAAKG,YAEnCR,IAAA,8GAEyBM,EAAKG,EAF9B,8BAE6DH,EAAKI,EAFlE,2CAGwBJ,EAAKK,EAH7B,uKAOkCN,EAAKO,GAPvC,YAOqDP,EAAKQ,MAP1D,KAOoER,EAAKQ,MAPzE,4EAUMR,EAAKS,YAVX,+CAWkCT,EAAKO,GAXvC,kFAiBMZ,GAERO,cA5IgB,SA4IFD,GAEb,GAAIS,GAAU,GAAIC,MAAKV,GACtBG,EAAIM,EAAQE,WAAa,EACzBN,EAAII,EAAQG,cACZR,EAAIK,EAAQI,SAKb,OAHAV,GAAIA,EAAI,GAAK,IAAMA,EAAIA,EACvBC,EAAIA,EAAI,GAAK,IAAMA,EAAIA,GAGtBC,IACAF,IACAC,MAGFU,UA5JgB,WA6Jf/D,KAAKgE,SACLhE,KAAKiE,YAEND,OAhKgB,WAiKf,GAAIE,GAASrG,0BAAQ,GAEf,IAAIqG,GAAO,oBACPC,SAAU,IACVC,MAAM,EAENC,WAAY,yBACZC,iBAAiB,EACjBC,qBAAqB,KAG7BN,SA5Ka,WA6KZpG,uBAAQ,IAERW,EAAE,gBAAgBgG,UJgHO1D,KAAKlD,EAASC,eAAkC","file":"helpCenter.bundle.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/*!*********************************!*\\\n  !*** ../js/entry/helpCenter.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 3);\n\t\n\tvar combinePageModule = _require.combinePageModule;\n\t\n\t\n\t__webpack_require__(/*! modules/globalEffect */ 27).init();\n\t\n\tcombinePageModule({\n\t\thelp: __webpack_require__(/*! page/help */ 78),\n\t\tinformation: __webpack_require__(/*! page/information */ 80)\n\t});\n\n/***/ },\n\n/***/ 72:\n/*!*******************************!*\\\n  !*** ../js/api/helpCenter.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*首页接口*/\n\tvar _require = __webpack_require__(/*! ./config */ 25);\n\t\n\tvar concatApi = _require.concatApi;\n\tvar api = {\n\t\t//获取资讯列表数据\n\t\tgetInformationList: '/Article-lists'\n\t\n\t};\n\t// 通行证接口\n\tmodule.exports = concatApi(api);\n\n/***/ },\n\n/***/ 78:\n/*!**************************!*\\\n  !*** ../js/page/help.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = {\n\t\t\tgetList: function getList(url, page, max_page) {\n\t\n\t\t\t\t\tvar disable = false,\n\t\t\t\t\t    flag = false; // 是否加载中\n\t\n\t\t\t\t\tpage = page - 0;\n\t\t\t\t\tmax_page = max_page - 0;\n\t\n\t\t\t\t\t$(window).scroll(function () {\n\t\t\t\t\t\t\tif (!disable) {\n\t\t\t\t\t\t\t\t\tif ($(document).scrollTop() >= $(document).height() - $(window).height()) {\n\t\n\t\t\t\t\t\t\t\t\t\t\tif (flag) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\t\t\tflag = true;\n\t\n\t\t\t\t\t\t\t\t\t\t\tif (page > parseInt(max_page)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$('.no-news').append('<div class=\"no-data\">没有更多数据了</div>');\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisable = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\t\t\t$.get(url, { p: page }, function (msg) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (msg.status) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpage++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#J_news-inner-box').append(msg.result);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}, 'json').complete(function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}).trigger('scroll');\n\t\t\t},\n\t\t\tcollapse: function collapse() {\n\t\n\t\t\t\t\t$('.collapse-box .collapse-title').click(function () {\n\t\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\t    $scope = $this.closest('.collapse-box'),\n\t\t\t\t\t\t\t    $item = $this.closest('.collapse-item'),\n\t\t\t\t\t\t\t    $items = $scope.find('.collapse-item').not($item),\n\t\t\t\t\t\t\t    $content = $item.find('.collapse-content'),\n\t\t\t\t\t\t\t    $contents = $items.find('.collapse-content');\n\t\n\t\t\t\t\t\t\t$contents.stop().slideUp(300);\n\t\t\t\t\t\t\t$content.stop().slideToggle(300);\n\t\t\t\t\t\t\t$item.addClass('active');\n\t\t\t\t\t\t\t$items.removeClass('active');\n\t\t\t\t\t});\n\t\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ },\n\n/***/ 80:\n/*!*********************************!*\\\n  !*** ../js/page/information.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar _require = __webpack_require__(/*! api/helpCenter */ 72);\n\t\n\tvar _getInformationList = _require.getInformationList;\n\t\n\t__webpack_require__(/*! plug/limitHeight */ 47);\n\t\n\tmodule.exports = {\n\t\tinit: function init() {\n\t\t\tvar self = this;\n\t\n\t\t\t$('.info-city>.right').limitHeight();\n\t\n\t\t\t// 加载更多\n\t\t\t$('#J_loading-more').click(function (event) {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t    pn = $this.data('pn') - 0 || 2,\n\t\t\t\t    dataForm = [];\n\t\n\t\t\t\tif ($this.hasClass('disabled') || $this.hasClass('no-more')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t$this.addClass('disabled loading');\n\t\n\t\t\t\tself.getInformationList(0, function (_ref) {\n\t\t\t\t\tvar msg = _ref.msg;\n\t\n\t\n\t\t\t\t\t$this.data('pn', ++pn);\n\t\t\t\t}, function (_ref2) {\n\t\t\t\t\tvar _ref2$msg = _ref2.msg;\n\t\t\t\t\tvar msg = _ref2$msg === undefined ? '数据获取失败' : _ref2$msg;\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\t// 切换城市城市\n\t\t\t$('a', self.$els.locationList).click(function () {\n\t\t\t\tvar $this = $(this);\n\t\n\t\t\t\tvar _$this$data = $this.data();\n\t\n\t\t\t\tvar location = _$this$data.location;\n\t\t\t\tvar val = self.$els.location.val();\n\t\t\t\tvar $scope = self.$els.locationList;\n\t\n\t\t\t\t$scope.find('a').removeClass('active');\n\t\n\t\t\t\t$this.addClass('active');\n\t\n\t\t\t\tif (location + '' !== val) {\n\t\t\t\t\tself.$els.location.val(location);\n\t\n\t\t\t\t\tself.getInformationList(1);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tself.$els.inforForm.on('submit', function () {\n\t\t\t\tself.getInformationList(1);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\n\t\t/**\r\n\t  * \r\n\t  * @param  {[type]} type    1为搜索 其他为加载更多\r\n\t  * @param  {[type]} success [description]\r\n\t  * @param  {[type]} fail    [description]\r\n\t  * @return {[type]}         [description]\r\n\t  */\n\t\tgetInformationList: function getInformationList(type, success, fail) {\n\t\t\tvar self = this,\n\t\t\t    $loadingMmore = self.$els.loadingMmore,\n\t\t\t    pn = type == 1 ? 1 : $loadingMmore.data('pn'),\n\t\t\t    dataForm = self.$els.inforForm.serializeArray();\n\t\n\t\t\tdataForm.push({\n\t\t\t\tname: 'p',\n\t\t\t\tvalue: pn\n\t\t\t});\n\t\n\t\t\treturn _getInformationList(dataForm, function (ret) {\n\t\n\t\t\t\tvar html = self.renderList(ret.data);\n\t\n\t\t\t\tif (type == 1) {\n\t\t\t\t\tself.$els.infoList.html(html);\n\t\t\t\t\t$loadingMmore.removeClass('disabled loading no-more').data('pn', 2);\n\t\t\t\t} else {\n\t\t\t\t\tself.$els.infoList.append(html);\n\t\t\t\t}\n\t\n\t\t\t\tif (typeof success == 'function') {\n\t\t\t\t\tsuccess(ret);\n\t\t\t\t}\n\t\n\t\t\t\tif (ret.pagecount <= pn) {\n\t\t\t\t\t$loadingMmore.addClass('disabled no-more');\n\t\t\t\t} else {\n\t\t\t\t\t$loadingMmore.removeClass('disabled no-more');\n\t\t\t\t}\n\t\t\t}, function (ret) {\n\t\n\t\t\t\t$loadingMmore.removeClass('disabled');\n\t\n\t\t\t\tif (typeof fail == 'function') {\n\t\t\t\t\tfail(ret);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\ttype: 'get'\n\t\t\t}).complete(function () {\n\t\t\t\t$loadingMmore.removeClass('loading');\n\t\t\t});\n\t\t},\n\t\n\t\t$els: {\n\t\t\tloadingMmore: $('#J_loading-more'),\n\t\t\tlocation: $('#J_location'),\n\t\t\tlocationList: $('#J_location-list'),\n\t\t\tinfoList: $('#J_info-list'),\n\t\t\tinforForm: $('#J_infor-search-form')\n\t\t},\n\t\t// 渲染资讯列表\n\t\trenderList: function renderList(data) {\n\t\t\tvar html = '',\n\t\t\t    self = this;\n\t\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tvar date = self.transformDate(item.create_time);\n\t\n\t\t\t\thtml += '<li class=\"info-item horizontal\">\\n\\t\\t\\t\\t\\t<div class=\"left info-time\">\\n\\t\\t\\t\\t\\t\\t<span class=\"month\">' + date.m + '<span class=\"line\">/</span>' + date.d + '</span>\\n\\t\\t\\t\\t\\t\\t<span class=\"year\">' + date.y + '</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"right info-content\">\\n\\t\\t\\t\\t\\t\\t<h3 class=\"info-title text-overflow\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"/Article-detail-id-' + item.id + '\" title=\"' + item.title + '\">' + item.title + '</a>\\n\\t\\t\\t\\t\\t\\t</h3>\\n\\t\\t\\t\\t\\t\\t<p class=\"clearfix\">\\n\\t\\t\\t\\t\\t\\t\\t' + item.description + '\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"/Article-detail-id-' + item.id + '\" class=\"more fr\">MORE</a>\\n\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</li>';\n\t\t\t});\n\t\n\t\t\treturn html;\n\t\t},\n\t\ttransformDate: function transformDate(date) {\n\t\n\t\t\tvar dateObj = new Date(date),\n\t\t\t    m = dateObj.getMonth() + 1,\n\t\t\t    y = dateObj.getFullYear(),\n\t\t\t    d = dateObj.getDate();\n\t\n\t\t\tm = m < 10 ? '0' + m : m;\n\t\t\td = d < 10 ? '0' + d : d;\n\t\n\t\t\treturn {\n\t\t\t\ty: y,\n\t\t\t\tm: m,\n\t\t\t\td: d\n\t\t\t};\n\t\t},\n\t\tindexInit: function indexInit() {\n\t\t\tthis.banner();\n\t\t\tthis.inforTab();\n\t\t},\n\t\tbanner: function banner() {\n\t\t\tvar Swiper = __webpack_require__(/*! plug/swiper/index */ 10);\n\t\n\t\t\tnew Swiper('#J_banner-swiper', {\n\t\t\t\tautoplay: 5000, //可选选项，自动滑动\n\t\t\t\tloop: true, //可选选项，开启循环\n\t\t\t\t// grabCursor: true, //手型\n\t\t\t\tpagination: '.proService-pagination',\n\t\t\t\tcalculateHeight: true,\n\t\t\t\tpaginationClickable: true\n\t\t\t});\n\t\t},\n\t\tinforTab: function inforTab() {\n\t\t\t__webpack_require__(/*! plug/tab/index */ 48);\n\t\n\t\t\t$('#J_infor-tab').tab();\n\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** helpCenter.bundle.js\n **/","let { combinePageModule } = require('modules/util');\r\n\r\nrequire('modules/globalEffect').init();\r\n\r\ncombinePageModule({\r\n\thelp: require('page/help'),\r\n\tinformation: require('page/information')\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/entry/helpCenter.js\n **/","/*首页接口*/\r\nlet { concatApi } = require('./config'),\r\napi = {\r\n\t//获取资讯列表数据\r\n\tgetInformationList:'/Article-lists',\r\n\r\n}\r\n// 通行证接口\r\nmodule.exports = concatApi(api);\n\n\n/** WEBPACK FOOTER **\n ** ./../js/api/helpCenter.js\n **/","\r\nmodule.exports = {\r\n\tgetList(url, page, max_page) {\r\n\r\n\t\tlet disable = false,\r\n\t\t\tflag = false;// 是否加载中\r\n\r\n\t\tpage = page - 0;\r\n\t\tmax_page = max_page - 0;\r\n\r\n\t\t$(window).scroll(function() {\r\n\t    \tif(!disable){\r\n\t\t        if ($(document).scrollTop() >= $(document).height() - $(window).height()) {\r\n\r\n\t\t        \tif(flag) {\r\n\t\t        \t\treturn;\r\n\t\t        \t}\r\n\r\n\t\t        \tflag = true;\r\n\r\n\t\t        \tif(page > parseInt(max_page)) {\r\n\t\t\t\t\t\t$('.no-news').append('<div class=\"no-data\">没有更多数据了</div>');\r\n\t\t\t\t\t\tdisable = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t        \t$.get(url,{p:page},function(msg){\r\n\t\t        \t\tif(msg.status)\r\n\t\t        \t\t{\r\n\t\t        \t\t\tpage++;\t\r\n\t\t        \t\t\t$('#J_news-inner-box').append(msg.result);\r\n\t\t        \t\t}\r\n\t\t        \t},'json').complete(()=>{\r\n\t\t        \t\tflag = false;\r\n\t\t        \t});\r\n\t\t        }\r\n\t\t    }\t\r\n\t    }).trigger('scroll');\r\n\t},\r\n\tcollapse() {\r\n\r\n\t\t$('.collapse-box .collapse-title').click(function(){\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\t$scope = $this.closest('.collapse-box'),\r\n\t\t\t\t$item = $this.closest('.collapse-item'),\r\n\t\t\t\t$items = $scope.find('.collapse-item').not($item),\r\n\t\t\t\t$content = $item.find('.collapse-content'),\r\n\t\t\t\t$contents = $items.find('.collapse-content');\r\n\r\n\t\t\t\t$contents.stop().slideUp(300);\r\n\t\t\t\t$content.stop().slideToggle(300);\r\n\t\t\t\t$item.addClass('active');\r\n\t\t\t\t$items.removeClass('active');\r\n\t\t});\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./../js/page/help.js\n **/","\r\nlet { getInformationList } = require('api/helpCenter');\r\nrequire('plug/limitHeight');\r\n\r\n\r\nmodule.exports = {\r\n\tinit() {\r\n\t\tlet self = this;\r\n\r\n\t\t$('.info-city>.right').limitHeight();\r\n\r\n\t\t// 加载更多\r\n\t\t$('#J_loading-more').click(function(event) {\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\tpn = $this.data('pn') - 0  || 2,\r\n\t\t\t\tdataForm = [];\r\n\r\n\t\t\tif($this.hasClass('disabled') || $this.hasClass('no-more')){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$this.addClass('disabled loading');\r\n\r\n\t\t\tself.getInformationList(0, ({ msg }) => {\r\n\r\n\t\t\t\t$this.data('pn', ++pn);\r\n\t\t\t}, ({ msg = '数据获取失败' }) => {\r\n\r\n\t\t\t})\r\n\r\n\t\t});\r\n\r\n\t\t// 切换城市城市\r\n\t\t$('a', self.$els.locationList).click(function () {\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\t{ location } = $this.data(),\r\n\t\t\t\tval = self.$els.location.val(),\r\n\t\t\t\t$scope = self.$els.locationList;\r\n\r\n\t\t\t$scope.find('a').removeClass('active');\r\n\r\n\t\t\t$this.addClass('active');\r\n\r\n\t\t\tif(location + '' !== val) {\r\n\t\t\t\tself.$els.location.val(location);\r\n\r\n\t\t\t\tself.getInformationList(1);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tself.$els.inforForm.on('submit', function(){\r\n\t\t\tself.getInformationList(1);\r\n\t\t\treturn false\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * \r\n\t * @param  {[type]} type    1为搜索 其他为加载更多\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} fail    [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\tgetInformationList(type,success, fail){\r\n\t\tlet self= this,\r\n\t\t\t$loadingMmore = self.$els.loadingMmore,\r\n\t\t\tpn = type == 1 ? 1 : $loadingMmore.data('pn'),\r\n\t\t\tdataForm = self.$els.inforForm.serializeArray();\r\n\r\n\t\tdataForm.push({\r\n\t\t\tname: 'p',\r\n\t\t\tvalue: pn\r\n\t\t})\r\n\r\n\t\treturn getInformationList(dataForm, ( ret ) => {\r\n\r\n\t\t\t\t\tlet html = self.renderList(ret.data);\r\n\r\n\t\t\t\t\tif(type == 1) {\r\n\t\t\t\t\t\tself.$els.infoList.html(html);\r\n\t\t\t\t\t\t$loadingMmore.removeClass('disabled loading no-more')\r\n\t\t\t\t\t\t\t.data('pn', 2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.$els.infoList.append(html);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(typeof success == 'function') {\r\n\t\t\t\t\t\tsuccess(ret);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(ret.pagecount <= pn) {\r\n\t\t\t\t\t\t$loadingMmore.addClass('disabled no-more');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$loadingMmore.removeClass('disabled no-more');\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}, (ret) => {\r\n\r\n\t\t\t\t\t$loadingMmore.removeClass('disabled');\r\n\r\n\t\t\t\t\tif(typeof fail == 'function') {\r\n\t\t\t\t\t\tfail(ret);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},{\r\n\t\t\t\t\ttype: 'get'\r\n\t\t\t\t}).complete(()=>{\r\n\t\t\t\t\t$loadingMmore.removeClass('loading');\r\n\t\t\t\t})\r\n\t},\r\n\t$els: {\r\n\t\tloadingMmore: $('#J_loading-more'),\r\n\t\tlocation: $('#J_location'),\r\n\t\tlocationList: $('#J_location-list'),\r\n\t\tinfoList: $('#J_info-list'),\r\n\t\tinforForm: $('#J_infor-search-form')\r\n\t},\r\n\t// 渲染资讯列表\r\n\trenderList(data){\r\n\t\tlet html = '',\r\n\t\t\tself = this;\r\n\r\n\t\tdata.forEach((item) => {\r\n\t\t\tlet date = self.transformDate(item.create_time);\r\n\r\n\t\t\thtml += `<li class=\"info-item horizontal\">\r\n\t\t\t\t\t<div class=\"left info-time\">\r\n\t\t\t\t\t\t<span class=\"month\">${date.m}<span class=\"line\">/</span>${date.d}</span>\r\n\t\t\t\t\t\t<span class=\"year\">${date.y}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"right info-content\">\r\n\t\t\t\t\t\t<h3 class=\"info-title text-overflow\">\r\n\t\t\t\t\t\t\t<a href=\"/Article-detail-id-${item.id}\" title=\"${item.title}\">${item.title}</a>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<p class=\"clearfix\">\r\n\t\t\t\t\t\t\t${item.description}\r\n\t\t\t\t\t\t\t<a href=\"/Article-detail-id-${item.id}\" class=\"more fr\">MORE</a>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>`\r\n\t\t})\r\n\r\n\t\treturn html\r\n\t},\r\n\ttransformDate(date){\r\n\r\n\t\tlet dateObj = new Date(date),\r\n\t\t\tm = dateObj.getMonth() + 1,\r\n\t\t\ty = dateObj.getFullYear(),\r\n\t\t\td = dateObj.getDate();\r\n\r\n\t\tm = m < 10 ? '0' + m : m;\r\n\t\td = d < 10 ? '0' + d : d;\r\n\r\n\t\treturn {\r\n\t\t\ty ,\r\n\t\t\tm ,\r\n\t\t\td\r\n\t\t}\r\n\t},\r\n\tindexInit(){\r\n\t\tthis.banner();\r\n\t\tthis.inforTab();\r\n\t},\r\n\tbanner() {\r\n\t\tlet Swiper = require('plug/swiper/index');\r\n\r\n        new Swiper('#J_banner-swiper', {\r\n            autoplay: 5000, //可选选项，自动滑动\r\n            loop: true, //可选选项，开启循环\r\n            // grabCursor: true, //手型\r\n            pagination: '.proService-pagination',\r\n            calculateHeight: true,\r\n            paginationClickable: true\r\n        });\r\n    },\r\n    inforTab(){\r\n    \trequire('plug/tab/index');\r\n\r\n    \t$('#J_infor-tab').tab();\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./../js/page/information.js\n **/"],"sourceRoot":""}