{"version":3,"sources":["webpack:///helpCenter.bundle.js","webpack:///./../js/entry/helpCenter.js","webpack:///./../js/api/helpCenter.js","webpack:///./../js/page/help.js","webpack:///./../js/page/information.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_require","combinePageModule","init","help","information","73","concatApi","api","getInformationList","79","$","getList","url","page","max_page","disable","flag","window","scroll","document","scrollTop","height","parseInt","append","get","p","msg","status","result","complete","trigger","collapse","click","$this","this","$scope","closest","$item","$items","find","not","$content","$contents","stop","slideUp","slideToggle","addClass","removeClass","call","81","_getInformationList","limitHeight","type","success","fail","self","$loadingMmore","$els","loadingMmore","pn","data","dataForm","inforForm","serializeArray","push","name","value","ret","html","renderList","infoList","pagecount","location","locationList","transformDate","date","dateObj","Date","m","getMonth","y","getFullYear","d","getDate","indexInit","banner","inforTab","margin","Swiper","$len","children","length","autoplay","loop","pagination","calculateHeight","paginationClickable","tab"],"mappings":"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","file":"helpCenter.bundle.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/*!*********************************!*\\\n  !*** ../js/entry/helpCenter.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 3);\n\t\n\tvar combinePageModule = _require.combinePageModule;\n\t\n\t\n\t__webpack_require__(/*! modules/globalEffect */ 27).init();\n\t\n\tcombinePageModule({\n\t\thelp: __webpack_require__(/*! page/help */ 79),\n\t\tinformation: __webpack_require__(/*! page/information */ 81)\n\t});\n\n/***/ },\n\n/***/ 73:\n/*!*******************************!*\\\n  !*** ../js/api/helpCenter.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*帮助中心*/\n\tvar _require = __webpack_require__(/*! ./config */ 15);\n\t\n\tvar concatApi = _require.concatApi;\n\tvar api = {\n\t\t//获取资讯列表数据\n\t\tgetInformationList: '/Article-lists'\n\t\n\t};\n\t// 通行证接口\n\tmodule.exports = concatApi(api);\n\n/***/ },\n\n/***/ 79:\n/*!**************************!*\\\n  !*** ../js/page/help.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = {\n\t\t\tgetList: function getList(url, page, max_page) {\n\t\n\t\t\t\t\tvar disable = false,\n\t\t\t\t\t    flag = false; // 是否加载中\n\t\n\t\t\t\t\tpage = page - 0;\n\t\t\t\t\tmax_page = max_page - 0;\n\t\n\t\t\t\t\t$(window).scroll(function () {\n\t\t\t\t\t\t\tif (!disable) {\n\t\t\t\t\t\t\t\t\tif ($(document).scrollTop() >= $(document).height() - $(window).height()) {\n\t\n\t\t\t\t\t\t\t\t\t\t\tif (flag) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\t\t\tflag = true;\n\t\n\t\t\t\t\t\t\t\t\t\t\tif (page > parseInt(max_page)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$('.no-news').append('<div class=\"no-data\">没有更多数据了</div>');\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisable = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t\t\t\t$.get(url, { p: page }, function (msg) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (msg.status) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpage++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#J_news-inner-box').append(msg.result);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}, 'json').complete(function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}).trigger('scroll');\n\t\t\t},\n\t\t\tcollapse: function collapse() {\n\t\n\t\t\t\t\t$('.collapse-box .collapse-title').click(function () {\n\t\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\t    $scope = $this.closest('.collapse-box'),\n\t\t\t\t\t\t\t    $item = $this.closest('.collapse-item'),\n\t\t\t\t\t\t\t    $items = $scope.find('.collapse-item').not($item),\n\t\t\t\t\t\t\t    $content = $item.find('.collapse-content'),\n\t\t\t\t\t\t\t    $contents = $items.find('.collapse-content');\n\t\n\t\t\t\t\t\t\t$contents.stop().slideUp(300);\n\t\t\t\t\t\t\t$content.stop().slideToggle(300);\n\t\t\t\t\t\t\t$item.addClass('active');\n\t\t\t\t\t\t\t$items.removeClass('active');\n\t\t\t\t\t});\n\t\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ },\n\n/***/ 81:\n/*!*********************************!*\\\n  !*** ../js/page/information.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar _require = __webpack_require__(/*! api/helpCenter */ 73);\n\t\n\tvar _getInformationList = _require.getInformationList;\n\t\n\t__webpack_require__(/*! plug/limitHeight */ 47);\n\t\n\tmodule.exports = {\n\t        init: function init() {\n\t                var self = this;\n\t\n\t                $('.info-city>.right').limitHeight();\n\t\n\t                // 加载更多\n\t                // $('#J_loading-more').click(function(event) {\n\t                // \tlet $this = $(this),\n\t                // \t\tpn = $this.data('pn') - 0  || 2,\n\t                // \t\tdataForm = [];\n\t\n\t                // \tif($this.hasClass('disabled') || $this.hasClass('no-more')){\n\t                // \t\treturn;\n\t                // \t}\n\t\n\t                // \t$this.addClass('disabled loading');\n\t\n\t                // \tself.getInformationList(0, ({ msg }) => {\n\t\n\t                // \t\t$this.data('pn', ++pn);\n\t                // \t}, ({ msg = '数据获取失败' }) => {\n\t\n\t                // \t})\n\t\n\t                // });\n\t\n\t                // 切换城市城市\n\t                // $('a', self.$els.locationList).click(function () {\n\t                // \tlet $this = $(this),\n\t                // \t\t{ location } = $this.data(),\n\t                // \t\tval = self.$els.location.val(),\n\t                // \t\t$scope = self.$els.locationList;\n\t\n\t                // \t$scope.find('a').removeClass('active');\n\t\n\t                // \t$this.addClass('active');\n\t\n\t                // \tif(location + '' !== val) {\n\t                // \t\tself.$els.location.val(location);\n\t\n\t                // \t\tself.getInformationList(1);\n\t                // \t}\n\t\n\t                // });\n\t\n\t                // self.$els.inforForm.on('submit', function(){\n\t                // \tself.getInformationList(1);\n\t                // \treturn false\n\t                // })\n\t        },\n\t\n\t        /**\r\n\t         * \r\n\t         * @param  {[type]} type    1为搜索 其他为加载更多\r\n\t         * @param  {[type]} success [description]\r\n\t         * @param  {[type]} fail    [description]\r\n\t         * @return {[type]}         [description]\r\n\t         */\n\t        getInformationList: function getInformationList(type, success, fail) {\n\t                var self = this,\n\t                    $loadingMmore = self.$els.loadingMmore,\n\t                    pn = type == 1 ? 1 : $loadingMmore.data('pn'),\n\t                    dataForm = self.$els.inforForm.serializeArray();\n\t\n\t                dataForm.push({\n\t                        name: 'p',\n\t                        value: pn\n\t                });\n\t\n\t                return _getInformationList(dataForm, function (ret) {\n\t\n\t                        var html = self.renderList(ret.data);\n\t\n\t                        if (type == 1) {\n\t                                self.$els.infoList.html(html);\n\t                                $loadingMmore.removeClass('disabled loading no-more').data('pn', 2);\n\t                        } else {\n\t                                self.$els.infoList.append(html);\n\t                        }\n\t\n\t                        if (typeof success == 'function') {\n\t                                success(ret);\n\t                        }\n\t\n\t                        if (ret.pagecount <= pn) {\n\t                                $loadingMmore.addClass('disabled no-more');\n\t                        } else {\n\t                                $loadingMmore.removeClass('disabled no-more');\n\t                        }\n\t                }, function (ret) {\n\t\n\t                        $loadingMmore.removeClass('disabled');\n\t\n\t                        if (typeof fail == 'function') {\n\t                                fail(ret);\n\t                        }\n\t                }, {\n\t                        type: 'get'\n\t                }).complete(function () {\n\t                        $loadingMmore.removeClass('loading');\n\t                });\n\t        },\n\t\n\t        $els: {\n\t                loadingMmore: $('#J_loading-more'),\n\t                location: $('#J_location'),\n\t                locationList: $('#J_location-list'),\n\t                infoList: $('#J_info-list'),\n\t                inforForm: $('#J_infor-search-form')\n\t        },\n\t        // 渲染资讯列表\n\t        // renderList(data){\n\t        // \tlet html = '',\n\t        // \t\tself = this;\n\t\n\t        // \tdata.forEach((item) => {\n\t        // \t\tlet date = self.transformDate(item.create_time);\n\t\n\t        // \t\thtml += `<li class=\"info-item horizontal\">\n\t        // \t\t\t\t<div class=\"left info-time\">\n\t        // \t\t\t\t\t<span class=\"month\">${date.m}<span class=\"line\">/</span>${date.d}</span>\n\t        // \t\t\t\t\t<span class=\"year\">${date.y}</span>\n\t        // \t\t\t\t</div>\n\t        // \t\t\t\t<div class=\"right info-content\">\n\t        // \t\t\t\t\t<h3 class=\"info-title text-overflow\">\n\t        // \t\t\t\t\t\t<a href=\"/Article-detail-id-${item.id}\" title=\"${item.title}\">${item.title}</a>\n\t        // \t\t\t\t\t</h3>\n\t        // \t\t\t\t\t<p class=\"clearfix\">\n\t        // \t\t\t\t\t\t${item.description}\n\t        // \t\t\t\t\t\t<a href=\"/Article-detail-id-${item.id}\" class=\"more fr\">MORE</a>\n\t        // \t\t\t\t\t</p>\n\t        // \t\t\t\t</div>\n\t        // \t\t\t</li>`\n\t        // \t})\n\t\n\t        // \treturn html\n\t        // },\n\t        transformDate: function transformDate(date) {\n\t\n\t                if (date - 0 === date - 0) {\n\t                        // php 时间戳要补三位\n\t                        date *= 1000;\n\t                }\n\t\n\t                var dateObj = new Date(date),\n\t                    m = dateObj.getMonth() + 1,\n\t                    y = dateObj.getFullYear(),\n\t                    d = dateObj.getDate();\n\t\n\t                m = m < 10 ? '0' + m : m;\n\t                d = d < 10 ? '0' + d : d;\n\t\n\t                return {\n\t                        y: y,\n\t                        m: m,\n\t                        d: d\n\t                };\n\t        },\n\t        indexInit: function indexInit() {\n\t                var self = this;\n\t                this.banner();\n\t                this.inforTab();\n\t                $('.city-list').limitHeight({\n\t                        margin: 5\n\t                });\n\t\n\t                // $('a', self.$els.locationList).click(function () {\n\t                // \tlet $this = $(this),\n\t                // \t\t{ location } = $this.data(),\n\t                // \t\tval = self.$els.location.val(),\n\t                // \t\t$scope = self.$els.locationList;\n\t\n\t                // \t$scope.find('a').removeClass('active');\n\t\n\t                // \t$this.addClass('active');\n\t\n\t                // \tif(location + '' !== val) {\n\t                // \t\tself.$els.location.val(location);\n\t\n\t                // \t\tself.$els.inforForm.submit();\n\t\n\t                // \t}\n\t\n\t                // });\n\t        },\n\t        banner: function banner() {\n\t                var Swiper = __webpack_require__(/*! plug/swiper/index */ 10),\n\t                    $len = $('.swiper-wrapper').children().length;\n\t\n\t                if ($len > 1) {\n\t                        new Swiper('#J_banner-swiper', {\n\t                                autoplay: 5000, //可选选项，自动滑动\n\t                                loop: true, //可选选项，开启循环\n\t                                // grabCursor: true, //手型\n\t                                pagination: '.proService-pagination',\n\t                                calculateHeight: true,\n\t                                paginationClickable: true\n\t                        });\n\t                }\n\t        },\n\t        inforTab: function inforTab() {\n\t                __webpack_require__(/*! plug/tab/index */ 48);\n\t\n\t                $('#J_infor-tab').tab();\n\t        }\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** helpCenter.bundle.js\n **/","let { combinePageModule } = require('modules/util');\r\n\r\nrequire('modules/globalEffect').init();\r\n\r\ncombinePageModule({\r\n\thelp: require('page/help'),\r\n\tinformation: require('page/information')\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/entry/helpCenter.js\n **/","/*帮助中心*/\r\nlet { concatApi } = require('./config'),\r\napi = {\r\n\t//获取资讯列表数据\r\n\tgetInformationList:'/Article-lists',\r\n\r\n}\r\n// 通行证接口\r\nmodule.exports = concatApi(api);\n\n\n/** WEBPACK FOOTER **\n ** ./../js/api/helpCenter.js\n **/","\r\nmodule.exports = {\r\n\tgetList(url, page, max_page) {\r\n\r\n\t\tlet disable = false,\r\n\t\t\tflag = false;// 是否加载中\r\n\r\n\t\tpage = page - 0;\r\n\t\tmax_page = max_page - 0;\r\n\r\n\t\t$(window).scroll(function() {\r\n\t    \tif(!disable){\r\n\t\t        if ($(document).scrollTop() >= $(document).height() - $(window).height()) {\r\n\r\n\t\t        \tif(flag) {\r\n\t\t        \t\treturn;\r\n\t\t        \t}\r\n\r\n\t\t        \tflag = true;\r\n\r\n\t\t        \tif(page > parseInt(max_page)) {\r\n\t\t\t\t\t\t$('.no-news').append('<div class=\"no-data\">没有更多数据了</div>');\r\n\t\t\t\t\t\tdisable = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t        \t$.get(url,{p:page},function(msg){\r\n\t\t        \t\tif(msg.status)\r\n\t\t        \t\t{\r\n\t\t        \t\t\tpage++;\t\r\n\t\t        \t\t\t$('#J_news-inner-box').append(msg.result);\r\n\t\t        \t\t}\r\n\t\t        \t},'json').complete(()=>{\r\n\t\t        \t\tflag = false;\r\n\t\t        \t});\r\n\t\t        }\r\n\t\t    }\t\r\n\t    }).trigger('scroll');\r\n\t},\r\n\tcollapse() {\r\n\r\n\t\t$('.collapse-box .collapse-title').click(function(){\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\t$scope = $this.closest('.collapse-box'),\r\n\t\t\t\t$item = $this.closest('.collapse-item'),\r\n\t\t\t\t$items = $scope.find('.collapse-item').not($item),\r\n\t\t\t\t$content = $item.find('.collapse-content'),\r\n\t\t\t\t$contents = $items.find('.collapse-content');\r\n\r\n\t\t\t\t$contents.stop().slideUp(300);\r\n\t\t\t\t$content.stop().slideToggle(300);\r\n\t\t\t\t$item.addClass('active');\r\n\t\t\t\t$items.removeClass('active');\r\n\t\t});\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./../js/page/help.js\n **/","let { getInformationList } = require('api/helpCenter');\r\nrequire('plug/limitHeight');\r\n\r\n\r\nmodule.exports = {\r\n    init() {\r\n        let self = this;\r\n\r\n        $('.info-city>.right').limitHeight();\r\n\r\n        // 加载更多\r\n        // $('#J_loading-more').click(function(event) {\r\n        // \tlet $this = $(this),\r\n        // \t\tpn = $this.data('pn') - 0  || 2,\r\n        // \t\tdataForm = [];\r\n\r\n        // \tif($this.hasClass('disabled') || $this.hasClass('no-more')){\r\n        // \t\treturn;\r\n        // \t}\r\n\r\n        // \t$this.addClass('disabled loading');\r\n\r\n        // \tself.getInformationList(0, ({ msg }) => {\r\n\r\n        // \t\t$this.data('pn', ++pn);\r\n        // \t}, ({ msg = '数据获取失败' }) => {\r\n\r\n        // \t})\r\n\r\n        // });\r\n\r\n        // 切换城市城市\r\n        // $('a', self.$els.locationList).click(function () {\r\n        // \tlet $this = $(this),\r\n        // \t\t{ location } = $this.data(),\r\n        // \t\tval = self.$els.location.val(),\r\n        // \t\t$scope = self.$els.locationList;\r\n\r\n        // \t$scope.find('a').removeClass('active');\r\n\r\n        // \t$this.addClass('active');\r\n\r\n        // \tif(location + '' !== val) {\r\n        // \t\tself.$els.location.val(location);\r\n\r\n        // \t\tself.getInformationList(1);\r\n        // \t}\r\n\r\n        // });\r\n\r\n        // self.$els.inforForm.on('submit', function(){\r\n        // \tself.getInformationList(1);\r\n        // \treturn false\r\n        // })\r\n    },\r\n    /**\r\n     * \r\n     * @param  {[type]} type    1为搜索 其他为加载更多\r\n     * @param  {[type]} success [description]\r\n     * @param  {[type]} fail    [description]\r\n     * @return {[type]}         [description]\r\n     */\r\n    getInformationList(type, success, fail) {\r\n        let self = this,\r\n            $loadingMmore = self.$els.loadingMmore,\r\n            pn = type == 1 ? 1 : $loadingMmore.data('pn'),\r\n            dataForm = self.$els.inforForm.serializeArray();\r\n\r\n        dataForm.push({\r\n            name: 'p',\r\n            value: pn\r\n        })\r\n\r\n        return getInformationList(dataForm, (ret) => {\r\n\r\n            let html = self.renderList(ret.data);\r\n\r\n            if (type == 1) {\r\n                self.$els.infoList.html(html);\r\n                $loadingMmore.removeClass('disabled loading no-more')\r\n                    .data('pn', 2);\r\n            } else {\r\n                self.$els.infoList.append(html);\r\n            }\r\n\r\n            if (typeof success == 'function') {\r\n                success(ret);\r\n            }\r\n\r\n            if (ret.pagecount <= pn) {\r\n                $loadingMmore.addClass('disabled no-more');\r\n            } else {\r\n                $loadingMmore.removeClass('disabled no-more');\r\n            }\r\n\r\n\r\n        }, (ret) => {\r\n\r\n            $loadingMmore.removeClass('disabled');\r\n\r\n            if (typeof fail == 'function') {\r\n                fail(ret);\r\n            }\r\n\r\n        }, {\r\n            type: 'get'\r\n        }).complete(() => {\r\n            $loadingMmore.removeClass('loading');\r\n        })\r\n    },\r\n    $els: {\r\n        loadingMmore: $('#J_loading-more'),\r\n        location: $('#J_location'),\r\n        locationList: $('#J_location-list'),\r\n        infoList: $('#J_info-list'),\r\n        inforForm: $('#J_infor-search-form')\r\n    },\r\n    // 渲染资讯列表\r\n    // renderList(data){\r\n    // \tlet html = '',\r\n    // \t\tself = this;\r\n\r\n    // \tdata.forEach((item) => {\r\n    // \t\tlet date = self.transformDate(item.create_time);\r\n\r\n    // \t\thtml += `<li class=\"info-item horizontal\">\r\n    // \t\t\t\t<div class=\"left info-time\">\r\n    // \t\t\t\t\t<span class=\"month\">${date.m}<span class=\"line\">/</span>${date.d}</span>\r\n    // \t\t\t\t\t<span class=\"year\">${date.y}</span>\r\n    // \t\t\t\t</div>\r\n    // \t\t\t\t<div class=\"right info-content\">\r\n    // \t\t\t\t\t<h3 class=\"info-title text-overflow\">\r\n    // \t\t\t\t\t\t<a href=\"/Article-detail-id-${item.id}\" title=\"${item.title}\">${item.title}</a>\r\n    // \t\t\t\t\t</h3>\r\n    // \t\t\t\t\t<p class=\"clearfix\">\r\n    // \t\t\t\t\t\t${item.description}\r\n    // \t\t\t\t\t\t<a href=\"/Article-detail-id-${item.id}\" class=\"more fr\">MORE</a>\r\n    // \t\t\t\t\t</p>\r\n    // \t\t\t\t</div>\r\n    // \t\t\t</li>`\r\n    // \t})\r\n\r\n    // \treturn html\r\n    // },\r\n    transformDate(date) {\r\n\r\n        if (date - 0 === date - 0) {\r\n            // php 时间戳要补三位\r\n            date *= 1000\r\n        }\r\n\r\n        let dateObj = new Date(date),\r\n            m = dateObj.getMonth() + 1,\r\n            y = dateObj.getFullYear(),\r\n            d = dateObj.getDate();\r\n\r\n        m = m < 10 ? '0' + m : m;\r\n        d = d < 10 ? '0' + d : d;\r\n\r\n        return {\r\n            y,\r\n            m,\r\n            d\r\n        }\r\n    },\r\n    indexInit() {\r\n        let self = this;\r\n        this.banner();\r\n        this.inforTab();\r\n        $('.city-list').limitHeight({\r\n            margin: 5\r\n        });\r\n\r\n        // $('a', self.$els.locationList).click(function () {\r\n        // \tlet $this = $(this),\r\n        // \t\t{ location } = $this.data(),\r\n        // \t\tval = self.$els.location.val(),\r\n        // \t\t$scope = self.$els.locationList;\r\n\r\n        // \t$scope.find('a').removeClass('active');\r\n\r\n        // \t$this.addClass('active');\r\n\r\n        // \tif(location + '' !== val) {\r\n        // \t\tself.$els.location.val(location);\r\n\r\n        // \t\tself.$els.inforForm.submit();\r\n\r\n        // \t}\r\n\r\n        // });\r\n\r\n    },\r\n    banner() {\r\n        let Swiper = require('plug/swiper/index'),\r\n            $len = $('.swiper-wrapper').children().length;\r\n\r\n        if ($len > 1) {\r\n            new Swiper('#J_banner-swiper', {\r\n                autoplay: 5000, //可选选项，自动滑动\r\n                loop: true, //可选选项，开启循环\r\n                // grabCursor: true, //手型\r\n                pagination: '.proService-pagination',\r\n                calculateHeight: true,\r\n                paginationClickable: true\r\n            });\r\n        }\r\n\r\n\r\n    },\r\n    inforTab() {\r\n        require('plug/tab/index');\r\n\r\n        $('#J_infor-tab').tab();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/page/information.js\n **/"],"sourceRoot":""}