{"version":3,"sources":["webpack:///Account.bundle.js","webpack:///./../js/entry/Account.js","webpack:///change-passWord.vue","webpack:///./../js/modules/form.js","webpack:///./../js/page/Account/companyInfo.js","webpack:///../js/tpl/change-passWord.vue?0f38","webpack:///../js/tpl/change-passWord.vue"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_require","combinePageModule","companyInfo","68","showPsw","togglePswStronge","init","74","$","click","$this","this","$input","closest","find","attr","addClass","removeClass","pswStronge","val","strongRegex","mediumRegex","test","$obj","arguments","length","undefined","on","value","level","$curItem","$levelTxt","nextAll","prevAll","text","call","75","layer","uploader","modifyRules","_require2","companyForm","_changePassWord","changePassWord","_bindEmail","bindEmail","tpl","passWordTpl","self","selectOrDie","radio","choiceCity","validate","imgLoad","each","is","parent","siblings","$cityPicker","cityPicker","end","change","el","vals","remove","submit","rules","email","contactPhone","istelephone","telLocalNumber","isPhone","socialCreditCode","digits","account","messages","submitHandler","form","dataJson","serializeArray","$submitBtn","_ref","info","alert","yes","closeAll","window","location","href","_ref2","_ref2$info","msg","complete","removeAttr","hasImg","hide","append","opts","server","formData","uploadType","optsTwo","pick","id","optsThree","optsFour","businessLicense","uploadCreate","taxCegistrationCertificate","taxpayerQualificationCertificate","accountOpeningLicense","uploadError","uploadSuccess","pswRule","password","unPureLetter","unPureNum","rangelength","open","title","content","render","template","btn","success","newPassword","comfirmPassword","equalTo","data","_ref3","html","area","cancel","_ref4","151","157","__vue_script__","__vue_template__","options"],"mappings":"AAAAA,cAAc,IAERC;;;AAIA,SAASC,EAAQC,EAASC,GAE/B,YAEA,IAAIC,GCVuBD,qBAAQ,GAA9BE,EDYmBD,ECZnBC,iBAENA,IACCC,YAAYH,iCAAQ,ODkBfI;;;AAIA,SAASN,EAAQC,EAASC,GAE/B,YAEA,IAAIC,GAAWD,qBAAwC,IAEnDK,EAAUJ,EAASI,QACnBC,EAAmBL,EAASK,gBEDjCR,GAAAC,SFIEQ,KAAM,WEARF,IAEAC,OFOME;;;AAIA,SAASV,EAAQC,EAASC,IAEH,SAASS,GAAI,YGjD1CV,GAAQM,QAAU,WACjBI,EAAE,eAAeC,MAAM,WACtB,GAAIC,GAAQF,EAAEG,MACVC,EAASF,EAAMG,QAAQ,aAAaC,KAAK,QAEjB,cAAxBF,EAAOG,KAAK,SACfL,EAAMM,SAAS,UACfJ,EAAOG,KAAK,OAAQ,UAEpBL,EAAMO,YAAY,UAClBL,EAAOG,KAAK,OAAQ,gBAMvBjB,EAAQoB,WAAa,SAACC,GACrB,GAAIC,GAAc,wJACdC,EAAc,6JAGf,OAAGD,GAAYE,KAAKH,GACZ,EACEE,EAAYC,KAAKH,GACnB,EAEA,GAMZrB,EAAQO,iBAAmB,WAA+B,GAA9BkB,GAA8BC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,GAAvBhB,EAAE,iBAAqBgB,UAAA,GACrDN,EAAapB,EAAQoB,UAEzBK,GAAKI,GAAG,kCAAkC,WACzC,GAAIR,GAAMR,KAAKiB,MACdC,EAAQ,EACRC,EAAW,KACXC,EAAYvB,EAAE,aAiBf,QAfGW,GACFU,EAAQX,EAAWC,GACnBW,EAAWtB,EAAE,cAAeqB,GAE5BC,EACEd,SAAS,UACTgB,QAAQ,eACRf,YAAY,UACda,EACCG,QAAQ,eACRjB,SAAS,WAEVR,EAAE,eAAeS,YAAY,UAGtBY,GACP,IAAK,GACJE,EAAUG,KAAK,IACf,MACD,KAAK,GACJH,EAAUG,KAAK,IACf,MACD,SACCH,EAAUG,KAAK,WHuDWC,KAAKrC,EAASC,eAAkC,KAIxEqC;;;AAIA,SAASvC,EAAQC,EAASC,IAEH,SAASS,EAAG6B,GAAQ,YIlIjDtC,gCAAQ,GACRA,qCAAQ,IACRA,+BAAQ,EJsIP,IAAIC,GIrIiBD,+BAAQ,GAC1BuC,GADAtC,EAAEuC,YACSxC,uBAAQ,KJwIlByC,EIvI0CzC,sBAAQ,GAAjD0C,EJyIaD,EIzIbC,YAAaC,EJ0IIF,EI1IJG,eAAeC,EAA9BJ,EAA8BK,UAC9BC,EAAM/C,yBAAQ,IACdgD,EAAchD,gCAAQ,KAEtBG,GACAI,KADc,WAEV,GAAI0C,GAAOrC,IACXH,GAAE,WAAWyC,cACbD,EAAKE,QACLF,EAAKG,aACLH,EAAKI,WACLJ,EAAKK,UACLL,EAAKL,iBACLK,EAAMH,aAGVK,MAZc,WAaV1C,EAAE,oBAAoB8C,KAAK,WACvB,GAAI5C,GAAQF,EAAEG,KACVD,GAAM6C,GAAG,aACT7C,EAAM8C,SAASxC,SAAS,YAGhCR,EAAE,oBAAoBC,MAAM,WACxB,GAAIC,GAAQF,EAAEG,KACdD,GAAM8C,SAASxC,SAAS,UACxBN,EAAM8C,SAASC,SAAS,cAAcxC,YAAY,aAI1DkC,WA1Bc,WA2BV,GAAIO,GAAclD,EAAE,qBACHkD,GAAY5C,KAAK,QAClC4C,GAAYC,YACRC,IAAK,OACLC,OAAQ,SAASC,EAAIC,GACjBD,EAAGhD,KAAK,eAAekD,aAMnCZ,SAtCc,WAuCV5C,EAAE,cAAcC,MAAM,WAClBD,EAAE,gBAAgByD,WAEtBzD,EAAE,gBAAgB4C,UACdc,OACIC,OACIA,OAAO,GAEXC,cACIC,aAAa,GAEjBC,gBACIC,SAAS,GAEbC,kBACIC,QAAQ,GAEZC,SACID,QAAQ,IAGhBE,YAGAC,cArBuB,SAqBTC,GACV,GAAIC,GAAWtE,EAAEqE,GAAME,iBACnBC,EAAaxE,EAAE,aAEnBwE,GAAWjE,KAAK,WAAY,WAE5B0B,EAAYqC,EAAU,SAAAG,GAAc,GAAXC,GAAWD,EAAXC,IAErB7C,GAAM8C,MAAMD,GACRE,IADc,WAEV/C,EAAMgD,WACNC,OAAOC,SAASC,KAAO,mCAIhC,SAAAC,GAAuB,GAAAC,GAAAD,EAApBP,OAAoBxD,SAAAgE,EAAb,OAAaA,CACtBrD,GAAMsD,IAAIT,KACXU,SAAS,WACRZ,EAAWa,WAAW,kBAMtCxC,QAvFc,WA2IV,QAASyC,GAAOhC,GACZ,GAAiB,KAAbA,EAAG3C,MAAc,CACjB,GAAIA,GAAM2C,EAAG3C,KACb2C,GAAGL,SAAS,eAAezC,SAAS,WAAWF,KAAK,gBAAgBiF,OACpEjC,EAAGL,SAAS,eAAe3C,KAAK,qBAAqBkF,OAAO,aAAe7E,EAAM,OAtDzF,GAAI8E,IACIC,OAAQ,0BAERC,UAAYC,WAAY,IAE5BC,GACIH,OAAQ,0BACRI,MACIC,GAAI,gBAGRJ,UAAYC,WAAY,IAE5BI,GACIN,OAAQ,0BACRI,MACIC,GAAI,gBAGRJ,UAAYC,WAAY,IAE5BK,GACIP,OAAQ,0BACRI,MACIC,GAAI,gBAGRJ,UAAYC,WAAY,IAE5BM,EAAkBpE,EAASqE,aAAaV,GACxCW,EAA6BtE,EAASqE,aAAaN,GACnDQ,EAAmCvE,EAASqE,aAAaH,GACzDM,EAAwBxE,EAASqE,aAAaF,EAElDnE,GAASyE,YAAYL,GACrBpE,EAASyE,YAAYH,GACrBtE,EAASyE,YAAYF,GACrBvE,EAASyE,YAAYD,GAGrBxE,EAAS0E,cAAcN,EAAiBT,EAAMzF,EAAE,qBAChD8B,EAAS0E,cAAcJ,EAA4BP,EAAS7F,EAAE,gCAC9D8B,EAAS0E,cAAcH,EAAkCL,EAAWhG,EAAE,sCACtE8B,EAAS0E,cAAcF,EAAuBL,EAAUjG,EAAE,2BAE1DsF,EAAOtF,EAAE,qBACTsF,EAAOtF,EAAE,gCACTsF,EAAOtF,EAAE,sCACTsF,EAAOtF,EAAE,4BAabmC,eAtJc,WAwJV,GAAIsE,IACAC,UAAU,EACVC,cAAc,EACdC,WAAW,EACXC,aAAa,EAAE,IAGnB7G,GAAE,mBAAmBC,MAAM,WACvB4B,EAAMiF,MACFC,MAAM,OACNC,QAAQ1E,EAAI2E,OAAO1E,EAAY2E,YAC/BC,KAAK,KAAK,MACVC,QAJO,WAKHpH,EAAE,aAAa4C,UACXc,OACI2D,YAAYZ,EACZa,iBACIC,QAAQ,kBAGhBnD,cAPoB,SAONC,GACV,GAAIC,GAAWtE,EAAEqE,GAAME,gBACvBrC,GAAeoC,EAAS,SAACkD,GACrB3F,EAAM8C,MAAM6C,EAAK9C,OACnB,SAAA+C,GAAU,GAAR/C,GAAQ+C,EAAR/C,IACA7C,GAAM8C,MAAMD,QAKxBnC,EAAYzC,QAEhB8E,IAxBO,WAyBH5E,EAAE,aAAayD,eAK/BpB,UA9Lc,WA+LVrC,EAAE,eAAeC,MAAM,WACnB,GAAIC,GAAQF,EAAEG,MACdwD,EAAQzD,EAAMsH,KAAK,SAChBE,EAAA,mQAI0D/D,EAJ1D,2HAQH9B,GAAMiF,MACFC,MAAM,OACNI,KAAK,KAAK,MACVQ,MAAM,QAAQ,QACdX,QAAQU,EACRN,QALO,WAMFpH,EAAE,aAAa4C,UACZc,OACIC,OACIA,OAAM,IAGdS,cANqB,SAMPC,GACV,GAAIC,GAAWtE,EAAEqE,GAAME,gBACvBnC,GAAUkC,EAAS,SAACkD,GAChB3F,EAAM8C,MAAM6C,EAAK9C,MACbE,IADkB,WAEdG,SAASC,KAAOD,SAASC,MAE7B4C,OAJkB,WAKd7C,SAASC,KAAOD,SAASC,SAInC,SAAA6C,GAAU,GAARnD,GAAQmD,EAARnD,IACA7C,GAAM8C,MAAMD,SAK5BE,IA9BO,WA+BH5E,EAAE,aAAayD,eAMnCpE,GAAOC,QAAUI,IJ4IaiC,KAAKrC,EAASC,eAAkC,GAAIA,cAAiC,MAI7GuI;;;AAIA,SAASzI,EAAQC,GK5YvBD,EAAAC,QAAA,m9BLkZMyI;;;AAIA,SAAS1I,EAAQC,EAASC,GMtZhC,GAAAyI,GAAAC,CACAD,GAAAzI,iLAAA,IACA0I,EAAA1I,0HAAA,KACAF,EAAAC,QAAA0I,MACAC,KACA,kBAAA5I,GAAAC,QAAAD,EAAAC,QAAA4I,UAAA7I,EAAAC,QAAA4I,YAA+F7I,EAAAC,SAAA4H,SAAAe","file":"Account.bundle.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/*!******************************!*\\\n  !*** ../js/entry/Account.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 7);\n\t\n\tvar combinePageModule = _require.combinePageModule;\n\t\n\t\n\tcombinePageModule({\n\t\tcompanyInfo: __webpack_require__(/*! page/Account/companyInfo */ 75)\n\t});\n\n/***/ },\n\n/***/ 68:\n/*!*********************************************************************************************************************************************************************************************!*\\\n  !*** D:/item/zbw/~/babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!D:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=script&index=0!../js/tpl/change-passWord.vue ***!\n  \\*********************************************************************************************************************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! modules/form */ 74);\n\t\n\tvar showPsw = _require.showPsw;\n\tvar togglePswStronge = _require.togglePswStronge;\n\t\n\tmodule.exports = {\n\t\tinit: function init() {\n\t\t\tvar self = this;\n\t\t\tshowPsw();\n\t\t\ttogglePswStronge();\n\t\t}\n\t};\n\n/***/ },\n\n/***/ 74:\n/*!*****************************!*\\\n  !*** ../js/modules/form.js ***!\n  \\*****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t// 显示\n\texports.showPsw = function () {\n\t\t$('.J_show-psw').click(function () {\n\t\t\tvar $this = $(this);\n\t\t\tvar $input = $this.closest('#listForm').find('input');\n\t\n\t\t\tif ($input.attr('type') === 'password') {\n\t\t\t\t$this.addClass('active');\n\t\t\t\t$input.attr('type', 'text');\n\t\t\t} else {\n\t\t\t\t$this.removeClass('active');\n\t\t\t\t$input.attr('type', 'password');\n\t\t\t}\n\t\t});\n\t};\n\t\n\t// 密码强度\n\texports.pswStronge = function (val) {\n\t\tvar strongRegex = /^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[a-z])(?=.*\\W))|((?=.*[A-Z])(?=.*[0-9])(?=.*\\W))|((?=.*[a-z])(?=.*[0-9])(?=.*\\W))).*$/,\n\t\t    //强\n\t\tmediumRegex = /^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[a-z])(?=.*\\W))|((?=.*[A-Z])(?=.*\\W))|((?=.*[0-9])(?=.*\\W))).*$/,\n\t\t    //中\n\t\tenoughRegex = /^(?=.{6,}).*/; //弱\n\t\n\t\tif (strongRegex.test(val)) {\n\t\t\treturn 3;\n\t\t} else if (mediumRegex.test(val)) {\n\t\t\treturn 2;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t};\n\t\n\t// 切换密码强度\n\texports.togglePswStronge = function () {\n\t\tvar $obj = arguments.length <= 0 || arguments[0] === undefined ? $('#J_pswStronge') : arguments[0];\n\t\n\t\tvar pswStronge = exports.pswStronge;\n\t\n\t\t$obj.on('keyup keydwon afterpaste change', function () {\n\t\t\tvar val = this.value,\n\t\t\t    level = 1,\n\t\t\t    $curItem = null,\n\t\t\t    $levelTxt = $('.level-txt');\n\t\n\t\t\tif (val) {\n\t\t\t\tlevel = pswStronge(val);\n\t\t\t\t$curItem = $('.level-item' + level);\n\t\n\t\t\t\t$curItem.addClass('active').nextAll('.level-item').removeClass('active');\n\t\t\t\t$curItem.prevAll('.level-item').addClass('active');\n\t\t\t} else {\n\t\t\t\t$('.level-item').removeClass('active');\n\t\t\t}\n\t\n\t\t\tswitch (level) {\n\t\t\t\tcase 3:\n\t\t\t\t\t$levelTxt.text('高');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\t$levelTxt.text('中');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$levelTxt.text('低');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ },\n\n/***/ 75:\n/*!*****************************************!*\\\n  !*** ../js/page/Account/companyInfo.js ***!\n  \\*****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\t__webpack_require__(/*! plug/selectordie/index */ 2); //下拉框插件\n\t__webpack_require__(/*! plug/city-picker/city-picker */ 28); //城市选择插件\n\t__webpack_require__(/*! plug/validate/validate */ 3);\n\t\n\tvar _require = __webpack_require__(/*! plug/validate/validate */ 3);\n\t\n\tvar modifyRules = _require.modifyRules; //验证插件\n\tvar uploader = __webpack_require__(/*! modules/upload */ 27);\n\tvar _require2 = __webpack_require__(/*! api/Insurance */ 6);\n\t\n\tvar companyForm = _require2.companyForm;\n\tvar _changePassWord = _require2.changePassWord;\n\t//图片上传插件\n\tvar _bindEmail = _require2.bindEmail; //api接口\n\tvar tpl = __webpack_require__(/*! plug/artTemplate */ 14); //模板引擎\n\tvar passWordTpl = __webpack_require__(/*! tpl/change-passWord.vue */ 157); //表单模板\n\t\n\tvar companyInfo = {\n\t    init: function init() {\n\t        var self = this;\n\t        $('.select').selectOrDie(); //下拉框美化\n\t        self.radio(); //员工人数\n\t        self.choiceCity(); //户口所在地选择\n\t        self.validate(); //验证提交\n\t        self.imgLoad(); //图片上传\n\t        self.changePassWord(); //修改密码\n\t        self.bindEmail(); //绑定邮箱\n\t    },\n\t\n\t    //单选框\n\t    radio: function radio() {\n\t        $(\".inp_radio input\").each(function () {\n\t            var $this = $(this);\n\t            if ($this.is(':checked')) {\n\t                $this.parent().addClass('active');\n\t            }\n\t        });\n\t        $(\".inp_radio input\").click(function () {\n\t            var $this = $(this);\n\t            $this.parent().addClass('active');\n\t            $this.parent().siblings('.inp_radio').removeClass('active');\n\t        });\n\t    },\n\t\n\t    //所在地区\n\t    choiceCity: function choiceCity() {\n\t        var $cityPicker = $('.city-picker-input'),\n\t            $cityInput = $cityPicker.find('input');\n\t        $cityPicker.cityPicker({\n\t            end: 'city',\n\t            change: function change(el, vals) {\n\t                el.find('label.error').remove();\n\t            }\n\t        });\n\t    },\n\t\n\t    //验证提交\n\t    validate: function validate() {\n\t        $(\"#submitBtn\").click(function () {\n\t            $('#companyForm').submit();\n\t        });\n\t        $('#companyForm').validate({\n\t            rules: {\n\t                email: {\n\t                    email: true\n\t                },\n\t                contactPhone: {\n\t                    istelephone: true\n\t                },\n\t                telLocalNumber: {\n\t                    isPhone: true\n\t                },\n\t                socialCreditCode: {\n\t                    digits: true\n\t                },\n\t                account: {\n\t                    digits: true\n\t                }\n\t            },\n\t            messages: {},\n\t            submitHandler: function submitHandler(form) {\n\t                var dataJson = $(form).serializeArray(),\n\t                    $submitBtn = $(\"#submitBtn\");\n\t\n\t                $submitBtn.attr('disabled', 'disable');\n\t\n\t                companyForm(dataJson, function (_ref) {\n\t                    var info = _ref.info;\n\t\n\t\n\t                    layer.alert(info, {\n\t                        yes: function yes() {\n\t                            layer.closeAll();\n\t                            window.location.href = \"/Company-Account-companyInfo\";\n\t                        }\n\t                    });\n\t                }, function (_ref2) {\n\t                    var _ref2$info = _ref2.info;\n\t                    var info = _ref2$info === undefined ? '保存失败' : _ref2$info;\n\t\n\t                    layer.msg(info);\n\t                }).complete(function () {\n\t                    $submitBtn.removeAttr('disabled');\n\t                });\n\t            }\n\t        });\n\t    },\n\t\n\t    //图片上传\n\t    imgLoad: function imgLoad() {\n\t        //初始化图片上传\n\t        var opts = {\n\t            server: '/Company-Account-upload',\n\t            //传入的值\n\t            formData: { uploadType: 1 }\n\t        },\n\t            optsTwo = {\n\t            server: '/Company-Account-upload',\n\t            pick: {\n\t                id: '#filePicker2'\n\t            },\n\t            //传入的值\n\t            formData: { uploadType: 2 }\n\t        },\n\t            optsThree = {\n\t            server: '/Company-Account-upload',\n\t            pick: {\n\t                id: '#filePicker3'\n\t            },\n\t            //传入的值\n\t            formData: { uploadType: 3 }\n\t        },\n\t            optsFour = {\n\t            server: '/Company-Account-upload',\n\t            pick: {\n\t                id: '#filePicker4'\n\t            },\n\t            //传入的值\n\t            formData: { uploadType: 4 }\n\t        };\n\t        var businessLicense = uploader.uploadCreate(opts),\n\t            taxCegistrationCertificate = uploader.uploadCreate(optsTwo),\n\t            taxpayerQualificationCertificate = uploader.uploadCreate(optsThree),\n\t            accountOpeningLicense = uploader.uploadCreate(optsFour);\n\t        //错误验证\n\t        uploader.uploadError(businessLicense);\n\t        uploader.uploadError(taxCegistrationCertificate);\n\t        uploader.uploadError(taxpayerQualificationCertificate);\n\t        uploader.uploadError(accountOpeningLicense);\n\t\n\t        //上传成功后\n\t        uploader.uploadSuccess(businessLicense, opts, $('#businessLicense'));\n\t        uploader.uploadSuccess(taxCegistrationCertificate, optsTwo, $('#taxCegistrationCertificate'));\n\t        uploader.uploadSuccess(taxpayerQualificationCertificate, optsThree, $('#taxpayerQualificationCertificate'));\n\t        uploader.uploadSuccess(accountOpeningLicense, optsFour, $('#accountOpeningLicense'));\n\t        //图片存在\n\t        hasImg($('#businessLicense'));\n\t        hasImg($('#taxCegistrationCertificate'));\n\t        hasImg($('#taxpayerQualificationCertificate'));\n\t        hasImg($('#accountOpeningLicense'));\n\t\n\t        function hasImg(el) {\n\t            if (el.val() !== \"\") {\n\t                var val = el.val();\n\t                el.siblings('.upload_btn').addClass('new_btn').find('.icon-addImg').hide();\n\t                el.siblings('.upload_btn').find('.webuploader-pick').append('<img src=\"' + val + '\">');\n\t            }\n\t        }\n\t    },\n\t\n\t    //账号设置修改密码\n\t    changePassWord: function changePassWord() {\n\t        //密码验证规则\n\t        var pswRule = {\n\t            password: true,\n\t            unPureLetter: true,\n\t            unPureNum: true,\n\t            rangelength: [6, 20]\n\t        };\n\t\n\t        $('#changePassword').click(function () {\n\t            layer.open({\n\t                title: '修改密码',\n\t                content: tpl.render(passWordTpl.template)(),\n\t                btn: ['确定', '取消'],\n\t                success: function success() {\n\t                    $('#listForm').validate({\n\t                        rules: {\n\t                            newPassword: pswRule,\n\t                            comfirmPassword: {\n\t                                equalTo: '#J_pswStronge'\n\t                            }\n\t                        },\n\t                        submitHandler: function submitHandler(form) {\n\t                            var dataJson = $(form).serializeArray();\n\t                            _changePassWord(dataJson, function (data) {\n\t                                layer.alert(data.info);\n\t                            }, function (_ref3) {\n\t                                var info = _ref3.info;\n\t\n\t                                layer.alert(info);\n\t                            });\n\t                        }\n\t                    });\n\t                    passWordTpl.init();\n\t                },\n\t                yes: function yes() {\n\t                    $('#listForm').submit();\n\t                }\n\t            });\n\t        });\n\t    },\n\t    bindEmail: function bindEmail() {\n\t        $('#bind_email').click(function () {\n\t            var $this = $(this),\n\t                email = $this.data('email');\n\t            var html = '<div class=\"passWord_tpl\">\\n                        <form id=\"listForm\">\\n                            <div class=\"inp_box block mb\">\\n                                <label>邮箱</label>\\n                                <input type=\"text\" class=\"text\" value=\"' + email + '\" name=\"email\" required>\\n                            </div>\\n                        </form>\\n                    </div>';\n\t            layer.open({\n\t                title: '绑定邮箱',\n\t                btn: ['确定', '取消'],\n\t                area: ['400px', 'auto'],\n\t                content: html,\n\t                success: function success() {\n\t                    $('#listForm').validate({\n\t                        rules: {\n\t                            email: {\n\t                                email: true\n\t                            }\n\t                        },\n\t                        submitHandler: function submitHandler(form) {\n\t                            var dataJson = $(form).serializeArray();\n\t                            _bindEmail(dataJson, function (data) {\n\t                                layer.alert(data.info, {\n\t                                    yes: function yes() {\n\t                                        location.href = location.href;\n\t                                    },\n\t                                    cancel: function cancel() {\n\t                                        location.href = location.href;\n\t                                    }\n\t                                });\n\t                            }, function (_ref4) {\n\t                                var info = _ref4.info;\n\t\n\t                                layer.alert(info);\n\t                            });\n\t                        }\n\t                    });\n\t                },\n\t                yes: function yes() {\n\t                    $('#listForm').submit();\n\t                }\n\t            });\n\t        });\n\t    }\n\t};\n\tmodule.exports = companyInfo;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 11)))\n\n/***/ },\n\n/***/ 151:\n/*!**************************************************************************************************************************************!*\\\n  !*** D:/item/zbw/~/tpl-html-loader!D:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/change-passWord.vue ***!\n  \\**************************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n<div class=\\\"passWord_tpl\\\">\\n\\t<form id=\\\"listForm\\\">\\n\\t\\t<div class=\\\"inp_box block\\\">\\n\\t\\t\\t<label>原密码</label>\\n\\t\\t\\t<input type=\\\"password\\\" class=\\\"text\\\" value=\\\"\\\" name=\\\"oldPassword\\\" required>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t<div class=\\\"inp_box block\\\">\\n\\t\\t\\t\\t<label>新密码</label>\\n\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"text\\\" value=\\\"\\\" name=\\\"newPassword\\\" required maxlength=\\\"20\\\" id=\\\"J_pswStronge\\\">\\n\\t\\t\\t\\t<em class=\\\"pass-icon eye_icon J_show-psw\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"icon icon-eyes\\\"></i>\\n\\t\\t\\t\\t</em>\\n\\t\\t\\t\\t<span class=\\\"psw-level\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"level-txt\\\">低</i>\\n\\t\\t\\t\\t\\t<i class=\\\"level-item level-item1\\\"></i>\\n\\t\\t\\t\\t\\t<i class=\\\"level-item level-item2\\\"></i>\\n\\t\\t\\t\\t\\t<i class=\\\"level-item level-item3\\\"></i>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"inp_box block mb\\\">\\n\\t\\t\\t\\t<label>密码确认</label>\\n\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"text\\\" value=\\\"\\\" name=\\\"comfirmPassword\\\" required>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\";\n\n/***/ },\n\n/***/ 157:\n/*!*************************************!*\\\n  !*** ../js/tpl/change-passWord.vue ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(/*! !babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../../~/tpl-loader-ie8/lib/selector.js?type=script&index=0!./change-passWord.vue */ 68)\n\t__vue_template__ = __webpack_require__(/*! !tpl-html-loader!./../../../../../../~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./change-passWord.vue */ 151)\n\tmodule.exports = __vue_script__ || {}\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** Account.bundle.js\n **/","let { combinePageModule } = require('modules/util');\r\n\r\ncombinePageModule({\r\n\tcompanyInfo:require('page/Account/companyInfo')\r\n})\n\n\n/** WEBPACK FOOTER **\n ** ./../js/entry/Account.js\n **/","<template>\n\t<div class=\"passWord_tpl\">\n\t\t<form id=\"listForm\">\n\t\t\t<div class=\"inp_box block\">\n\t\t\t\t<label>原密码</label>\n\t\t\t\t<input type=\"password\" class=\"text\" value=\"\" name=\"oldPassword\" required>\n\t\t\t</div>\n\t\t\t<div class=\"input-box\">\n\t\t\t\t<div class=\"inp_box block\">\n\t\t\t\t\t<label>新密码</label>\n\t\t\t\t\t<input type=\"password\" class=\"text\" value=\"\" name=\"newPassword\" required maxlength=\"20\" id=\"J_pswStronge\">\n\t\t\t\t\t<em class=\"pass-icon eye_icon J_show-psw\">\n\t\t\t\t\t\t<i class=\"icon icon-eyes\"></i>\n\t\t\t\t\t</em>\n\t\t\t\t\t<span class=\"psw-level\">\n\t\t\t\t\t\t<i class=\"level-txt\">低</i>\n\t\t\t\t\t\t<i class=\"level-item level-item1\"></i>\n\t\t\t\t\t\t<i class=\"level-item level-item2\"></i>\n\t\t\t\t\t\t<i class=\"level-item level-item3\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inp_box block mb\">\n\t\t\t\t\t<label>密码确认</label>\n\t\t\t\t\t<input type=\"password\" class=\"text\" value=\"\" name=\"comfirmPassword\" required>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</template>\n<script type=\"text/javascript\">\n\tlet { showPsw, togglePswStronge} = require('modules/form');\n\tmodule.exports = {\n\t\tinit(){\n\t\t\tlet self = this;\n\t\t\tshowPsw();\n\t\t\ttogglePswStronge();\n\n\t\t},\n\t}\n</script>\n\n\n/** WEBPACK FOOTER **\n ** change-passWord.vue?7f22290c\n **/","// 显示\r\nexports.showPsw = () => {\r\n\t$('.J_show-psw').click(function() {\r\n\t\tlet $this = $(this);\r\n\t\tlet $input = $this.closest('#listForm').find('input');\r\n\r\n\t\tif ($input.attr('type') === 'password') {\r\n\t\t\t$this.addClass('active');\r\n\t\t\t$input.attr('type', 'text');\r\n\t\t} else {\r\n\t\t\t$this.removeClass('active');\r\n\t\t\t$input.attr('type', 'password');\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// 密码强度\r\nexports.pswStronge = (val) => {\r\n\tlet strongRegex = /^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[a-z])(?=.*\\W))|((?=.*[A-Z])(?=.*[0-9])(?=.*\\W))|((?=.*[a-z])(?=.*[0-9])(?=.*\\W))).*$/, //强\r\n    \tmediumRegex = /^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[a-z])(?=.*\\W))|((?=.*[A-Z])(?=.*\\W))|((?=.*[0-9])(?=.*\\W))).*$/, //中\r\n    \tenoughRegex = /^(?=.{6,}).*/; //弱\r\n\r\n    if(strongRegex.test(val)){\r\n    \treturn 3;\r\n    } else if(mediumRegex.test(val)){\r\n    \treturn 2\r\n    } else {\r\n    \treturn 1;\r\n    }\r\n\r\n}\r\n\r\n// 切换密码强度\r\nexports.togglePswStronge = ($obj = $('#J_pswStronge')) => {\r\n\tlet pswStronge = exports.pswStronge;\r\n\r\n\t$obj.on('keyup keydwon afterpaste change',function(){\r\n\t\tlet val = this.value,\r\n\t\t\tlevel = 1,\r\n\t\t\t$curItem = null,\r\n\t\t\t$levelTxt = $('.level-txt');\r\n\r\n\t\tif(val){\r\n\t\t\tlevel = pswStronge(val);\r\n\t\t\t$curItem = $('.level-item'+ level);\r\n\r\n\t\t\t$curItem\r\n\t\t\t\t.addClass('active')\r\n\t\t\t\t.nextAll('.level-item')\r\n\t\t\t\t.removeClass('active');\r\n\t\t\t$curItem\r\n\t\t\t.prevAll('.level-item')\r\n\t\t\t.addClass('active')\r\n\t\t} else {\r\n\t\t\t$('.level-item').removeClass('active');\r\n\t\t}\r\n\r\n\t\tswitch (level) {\r\n\t\t\tcase 3:\r\n\t\t\t\t$levelTxt.text('高');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t$levelTxt.text('中');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t$levelTxt.text('低');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/modules/form.js\n **/","require('plug/selectordie/index'); //下拉框插件\r\nrequire('plug/city-picker/city-picker'); //城市选择插件\r\nrequire('plug/validate/validate');\r\nlet { modifyRules } = require('plug/validate/validate'), //验证插件\r\n    uploader = require('modules/upload'), //图片上传插件\r\n    { companyForm ,changePassWord,bindEmail} = require('api/Insurance'),//api接口\r\n    tpl = require('plug/artTemplate'),//模板引擎\r\n    passWordTpl = require('tpl/change-passWord.vue'); //表单模板\r\n\r\nlet companyInfo = {\r\n    init() {\r\n        let self = this;\r\n        $('.select').selectOrDie(); //下拉框美化\r\n        self.radio(); //员工人数\r\n        self.choiceCity(); //户口所在地选择\r\n        self.validate(); //验证提交\r\n        self.imgLoad() ;//图片上传\r\n        self.changePassWord();//修改密码\r\n        self. bindEmail()//绑定邮箱\r\n    },\r\n    //单选框\r\n    radio() {\r\n        $(\".inp_radio input\").each(function() {\r\n            let $this = $(this);\r\n            if ($this.is(':checked')) {\r\n                $this.parent().addClass('active');\r\n            }\r\n        });\r\n        $(\".inp_radio input\").click(function() {\r\n            let $this = $(this);\r\n            $this.parent().addClass('active');\r\n            $this.parent().siblings('.inp_radio').removeClass('active');\r\n        });\r\n    },\r\n    //所在地区\r\n    choiceCity() {\r\n        let $cityPicker = $('.city-picker-input'),\r\n            $cityInput = $cityPicker.find('input');\r\n        $cityPicker.cityPicker({\r\n            end: 'city',\r\n            change: function(el, vals) {\r\n                el.find('label.error').remove()\r\n            }\r\n        });\r\n\r\n    },\r\n    //验证提交\r\n    validate() {\r\n        $(\"#submitBtn\").click(function() {\r\n            $('#companyForm').submit();\r\n        });\r\n        $('#companyForm').validate({\r\n            rules: {\r\n                email: {\r\n                    email: true\r\n                },\r\n                contactPhone: {\r\n                    istelephone: true\r\n                },\r\n                telLocalNumber: {\r\n                    isPhone: true\r\n                },\r\n                socialCreditCode: {\r\n                    digits: true\r\n                },\r\n                account: {\r\n                    digits: true\r\n                }\r\n            },\r\n            messages: {\r\n\r\n            },\r\n            submitHandler(form) {\r\n                let dataJson = $(form).serializeArray(),\r\n                    $submitBtn = $(\"#submitBtn\");\r\n\r\n                $submitBtn.attr('disabled', 'disable');\r\n\r\n                companyForm(dataJson, ({ info }) => {\r\n\r\n                    layer.alert(info, {\r\n                        yes() {\r\n                            layer.closeAll();\r\n                            window.location.href = \"/Company-Account-companyInfo\";\r\n                        }\r\n                    });\r\n\r\n                }, ({ info = '保存失败' }) => {\r\n                    layer.msg(info);\r\n                }).complete(()=>{\r\n                    $submitBtn.removeAttr('disabled');\r\n                });\r\n            }\r\n        });\r\n    },\r\n    //图片上传\r\n    imgLoad() {\r\n        //初始化图片上传\r\n        let opts = {\r\n                server: '/Company-Account-upload',\r\n                //传入的值\r\n                formData: { uploadType: 1 }\r\n            },\r\n            optsTwo = {\r\n                server: '/Company-Account-upload',\r\n                pick: {\r\n                    id: '#filePicker2',\r\n                },\r\n                //传入的值\r\n                formData: { uploadType: 2 }\r\n            },\r\n            optsThree = {\r\n                server: '/Company-Account-upload',\r\n                pick: {\r\n                    id: '#filePicker3',\r\n                },\r\n                //传入的值\r\n                formData: { uploadType: 3 }\r\n            },\r\n            optsFour = {\r\n                server: '/Company-Account-upload',\r\n                pick: {\r\n                    id: '#filePicker4',\r\n                },\r\n                //传入的值\r\n                formData: { uploadType: 4 }\r\n            };\r\n        let businessLicense = uploader.uploadCreate(opts),\r\n            taxCegistrationCertificate = uploader.uploadCreate(optsTwo),\r\n            taxpayerQualificationCertificate = uploader.uploadCreate(optsThree),\r\n            accountOpeningLicense = uploader.uploadCreate(optsFour);\r\n        //错误验证\r\n        uploader.uploadError(businessLicense);\r\n        uploader.uploadError(taxCegistrationCertificate);\r\n        uploader.uploadError(taxpayerQualificationCertificate);\r\n        uploader.uploadError(accountOpeningLicense);\r\n\r\n        //上传成功后\r\n        uploader.uploadSuccess(businessLicense, opts, $('#businessLicense'));\r\n        uploader.uploadSuccess(taxCegistrationCertificate, optsTwo, $('#taxCegistrationCertificate'));\r\n        uploader.uploadSuccess(taxpayerQualificationCertificate, optsThree, $('#taxpayerQualificationCertificate'));\r\n        uploader.uploadSuccess(accountOpeningLicense, optsFour, $('#accountOpeningLicense'));\r\n        //图片存在\r\n        hasImg($('#businessLicense'));\r\n        hasImg($('#taxCegistrationCertificate'));\r\n        hasImg($('#taxpayerQualificationCertificate'));\r\n        hasImg($('#accountOpeningLicense'));\r\n\r\n        function hasImg(el) {\r\n            if (el.val() !== \"\") {\r\n                let val = el.val();\r\n                el.siblings('.upload_btn').addClass('new_btn').find('.icon-addImg').hide();\r\n                el.siblings('.upload_btn').find('.webuploader-pick').append('<img src=\"' + val + '\">');\r\n            }\r\n        }\r\n\r\n\r\n    },\r\n    //账号设置修改密码\r\n    changePassWord(){\r\n        //密码验证规则\r\n        let pswRule = {\r\n            password: true,\r\n            unPureLetter: true,\r\n            unPureNum: true,\r\n            rangelength:[6,20]\r\n        }\r\n\r\n        $('#changePassword').click(function(){\r\n            layer.open({\r\n                title:'修改密码',\r\n                content:tpl.render(passWordTpl.template)(),\r\n                btn:['确定','取消'],\r\n                success(){\r\n                    $('#listForm').validate({\r\n                        rules:{\r\n                            newPassword:pswRule,\r\n                            comfirmPassword:{\r\n                                equalTo:'#J_pswStronge'\r\n                            }\r\n                        },\r\n                        submitHandler(form){\r\n                            let dataJson = $(form).serializeArray();\r\n                            changePassWord(dataJson,(data) => {\r\n                                layer.alert(data.info)\r\n                            },({info})=>{\r\n                                layer.alert(info);\r\n                            });\r\n\r\n                        },\r\n                    });\r\n                    passWordTpl.init()\r\n                },\r\n                yes(){\r\n                    $('#listForm').submit();\r\n                }\r\n            })\r\n        })\r\n    },\r\n    bindEmail(){\r\n        $('#bind_email').click(function(){\r\n            let $this = $(this),\r\n            email = $this.data('email');\r\n           var html = `<div class=\"passWord_tpl\">\r\n                        <form id=\"listForm\">\r\n                            <div class=\"inp_box block mb\">\r\n                                <label>邮箱</label>\r\n                                <input type=\"text\" class=\"text\" value=\"${email}\" name=\"email\" required>\r\n                            </div>\r\n                        </form>\r\n                    </div>`\r\n            layer.open({\r\n                title:'绑定邮箱',\r\n                btn:['确定','取消'],\r\n                area:['400px','auto'],\r\n                content:html,\r\n                success(){\r\n                     $('#listForm').validate({\r\n                        rules:{\r\n                            email:{\r\n                                email:true\r\n                            }\r\n                        },\r\n                        submitHandler(form){\r\n                            let dataJson = $(form).serializeArray();\r\n                            bindEmail(dataJson,(data)=>{\r\n                                layer.alert(data.info,{\r\n                                    yes(){\r\n                                        location.href = location.href;\r\n                                    },\r\n                                    cancel(){\r\n                                        location.href = location.href;\r\n                                    }\r\n                                });\r\n\r\n                            },({info})=>{\r\n                                layer.alert(info)\r\n                            })\r\n                        }\r\n                     })\r\n                },\r\n                yes(){\r\n                    $('#listForm').submit();\r\n                }\r\n            })\r\n        })\r\n    }\r\n}\r\nmodule.exports = companyInfo\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/page/Account/companyInfo.js\n **/","module.exports = \"\\n<div class=\\\"passWord_tpl\\\">\\n\\t<form id=\\\"listForm\\\">\\n\\t\\t<div class=\\\"inp_box block\\\">\\n\\t\\t\\t<label>原密码</label>\\n\\t\\t\\t<input type=\\\"password\\\" class=\\\"text\\\" value=\\\"\\\" name=\\\"oldPassword\\\" required>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"input-box\\\">\\n\\t\\t\\t<div class=\\\"inp_box block\\\">\\n\\t\\t\\t\\t<label>新密码</label>\\n\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"text\\\" value=\\\"\\\" name=\\\"newPassword\\\" required maxlength=\\\"20\\\" id=\\\"J_pswStronge\\\">\\n\\t\\t\\t\\t<em class=\\\"pass-icon eye_icon J_show-psw\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"icon icon-eyes\\\"></i>\\n\\t\\t\\t\\t</em>\\n\\t\\t\\t\\t<span class=\\\"psw-level\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"level-txt\\\">低</i>\\n\\t\\t\\t\\t\\t<i class=\\\"level-item level-item1\\\"></i>\\n\\t\\t\\t\\t\\t<i class=\\\"level-item level-item2\\\"></i>\\n\\t\\t\\t\\t\\t<i class=\\\"level-item level-item3\\\"></i>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"inp_box block mb\\\">\\n\\t\\t\\t\\t<label>密码确认</label>\\n\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"text\\\" value=\\\"\\\" name=\\\"comfirmPassword\\\" required>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/item/zbw/~/tpl-html-loader!D:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/change-passWord.vue\n ** module id = 151\n ** module chunks = 3\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=script&index=0!./change-passWord.vue\")\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./change-passWord.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../js/tpl/change-passWord.vue\n ** module id = 157\n ** module chunks = 3\n **/"],"sourceRoot":""}