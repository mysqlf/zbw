{"version":3,"sources":["webpack:///rules.bundle.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/entry/rules.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/api/rules.js","webpack:///pay_rules_list.vue","webpack:///sb_rules.vue","webpack:///sb_rules_list.vue","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/page/rules_add.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/page/rules_list.js","webpack:///../js/tpl/pay_rules_list.vue?e77a","webpack:///../js/tpl/sb_class.vue?c302","webpack:///../js/tpl/sb_rules.vue?1af2","webpack:///../js/tpl/sb_rules_list.vue?e554","webpack:///../js/tpl/pay_rules_list.vue","webpack:///../js/tpl/sb_class.vue","webpack:///../js/tpl/sb_rules.vue","webpack:///../js/tpl/sb_rules_list.vue"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","_require","combinePageModule","rulesAdd","rulesList",63,"concatApi","api","getTemplateRule","getTemplateClassify","toggleRulesStauts","saveRules",107,"$","tpl","listObj","init","box","data","self","html","render","template","type","append","call",108,"layer","icheckFn","listTpl","otherListTpl","modifyRules","rulesObj","dataArr","remainArr","remainOtherArr","paymentType","val","ispertype","person","indexOf","iscomtype","company","toggleAddBtn","toggleOtherAddBtn","trigger","selectOrDie","on","$this","this","$item","closest","key","push","find","items","remove","other","click","change","min","parseFloat","max","Infinity","rules","amount[]","amountmax[]","amount_min","amount_max","_layer","apply","arguments","toString","length","undefined","forEach","item","index","name","open","area","content","title","skin","btn","yes","tempArr","each","is","close","success","$btn","show","hide",109,"initEvents",135,"isFn","_require2","_saveRules","_require3","serializeEl","dateFn","sbTpl","eventBind","validate","cityPicker","$J_location","location","resetVal","_ref","result","template_id","sbClass","emptyTpl","ispaymentType","_ref2","_ref2$msg","msg","evt","$scope","$scalebox","$fixedRatio","removeClass","addClass","event","getGjjClass","submit","id","element","validator","addMethod","value","param","$el","classes","split","$el2","val2","attr","flag","settings","errorClass","optional","submitHandler","form","$form","serializeArray","pageType","$J_rulesSblist","trim","scrollbar","startDate","Date","endDate","setFullYear","getFullYear","iCheck","getYearMonth","el","$J_datePicker","$box","formInner","$formInner","data2","_$formInner$data","concat","complete","effective","date","href","btn2","messages","minAmount","ltt","maxAmount","lgt","lttSub","lgtSub","comScale[]","comFix[]","perScale[]","perFix[]","companyOther[]","personOther[]","pro_cost","disabled","comFixLow","comFixUp","perFixLow","perFixUp","comScale","scale","perScale","_ref3","_ref3$msg","_ref4","_ref4$msg","getSbClass","getGjjClassFlag","elStr","_ref5","rule","_ref6","_ref6$msg","$classify_mixed","classify_mixed","isclassify_mixed","extend","eq",136,"modules","_$this$data","state","confirm","toggleStauts","end","_$this$data2","_ref$msg",214,215,216,217,235,"__vue_script__","__vue_template__","options",236,237,238],"mappings":"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","file":"rules.bundle.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/*!****************************!*\\\n  !*** ../js/entry/rules.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 缴费规则管理\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 4);\n\t\n\tvar combinePageModule = _require.combinePageModule;\n\t\n\t\n\tcombinePageModule({\n\t\trulesAdd: __webpack_require__(/*! page/rules_add */ 135),\n\t\trulesList: __webpack_require__(/*! page/rules_list */ 136)\n\t});\n\n/***/ },\n\n/***/ 63:\n/*!**************************!*\\\n  !*** ../js/api/rules.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! ./config */ 8);\n\t\n\tvar concatApi = _require.concatApi;\n\tvar api = {\n\t\t// 获取模板规则\n\t\tgetTemplateRule: '/Service-Business-getTemplateRule',\n\t\t// 获取社保类型\n\t\tgetTemplateClassify: '/Service-Business-getTemplateClassify',\n\t\ttoggleRulesStauts: '/Service-Rules-status',\n\t\t// 保存规则\n\t\tsaveRules: '/Service-Rules-save'\n\t};\n\t\n\t// 用户信息动作\n\tmodule.exports = concatApi(api);\n\n/***/ },\n\n/***/ 107:\n/*!********************************************************************************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=script&index=0!../js/tpl/pay_rules_list.vue ***!\n  \\********************************************************************************************************************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar tpl = __webpack_require__(/*! art-template */ 6);\n\t\n\tvar listObj = {\n\t\tinit: function init(box, data) {\n\t\t\tvar self = listObj,\n\t\t\t    html = tpl.render(self.template)(data);\n\t\n\t\t\tif (data.type == 'add') {\n\t\t\t\t$(box).append(html);\n\t\t\t} else {\n\t\t\t\t$(box).html(html);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tmodule.exports = listObj;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ },\n\n/***/ 108:\n/*!**************************************************************************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=script&index=0!../js/tpl/sb_rules.vue ***!\n  \\**************************************************************************************************************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\tvar tpl = __webpack_require__(/*! art-template */ 6);\n\tvar icheckFn = __webpack_require__(/*! plug/icheck/index */ 5);\n\tvar listTpl = __webpack_require__(/*! tpl/sb_rules_list.vue */ 238);\n\tvar otherListTpl = __webpack_require__(/*! tpl/pay_rules_list.vue */ 235);\n\t\n\tvar _require = __webpack_require__(/*! plug/validate/index */ 3);\n\t\n\tvar modifyRules = _require.modifyRules;\n\t\n\t\n\t__webpack_require__(/*! plug/selectordie */ 11);\n\t\n\tvar rulesObj = {\n\t\tinit: function init(box, data) {\n\t\t\tvar self = rulesObj,\n\t\t\t    dataArr = data;\n\t\n\t\t\tif (!dataArr) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tself.remainArr = [];\n\t\n\t\t\tself.remainOtherArr = [], dataArr.paymentType = $('#J_paymentType').val();\n\t\n\t\t\tif (dataArr.paymentType === '2') {\n\t\t\t\tdataArr.ispertype = dataArr.person.indexOf('-') !== -1 || dataArr.person === '' ? true : false;\n\t\t\t\tdataArr.iscomtype = dataArr.company.indexOf('-') !== -1 || dataArr.company === '' ? true : false;\n\t\t\t}\n\t\n\t\t\t$(box).html(tpl.render(self.template)(dataArr));\n\t\n\t\t\tlistTpl.init('#J_rules-sb-list', dataArr);\n\t\n\t\t\totherListTpl.init('#J_other-tpl', dataArr);\n\t\n\t\t\tself.toggleAddBtn();\n\t\t\tself.toggleOtherAddBtn();\n\t\n\t\t\t$('.J_scale-select:checked').trigger('ifChanged');\n\t\n\t\t\t$('#J_sb-rules-tpl select').selectOrDie();\n\t\n\t\t\t$('#J_rules-sb-list').on('click', '[data-act=\"removeSbRules\"]', function () {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t    $item = $this.closest('.J_rules-item'),\n\t\t\t\t    key = $this.data('key');\n\t\n\t\t\t\tself.remainArr.push(self.find(dataArr.items, key));\n\t\n\t\t\t\tself.toggleAddBtn();\n\t\n\t\t\t\t$item.remove();\n\t\t\t});\n\t\n\t\t\t$('#J_other-tpl').on('click', '[data-act=\"removeOtherRules\"]', function () {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t    $item = $this.closest('.J_pay-item'),\n\t\t\t\t    key = $this.data('key');\n\t\n\t\t\t\tself.remainOtherArr.push(self.find(dataArr.other, key));\n\t\n\t\t\t\tself.toggleOtherAddBtn();\n\t\n\t\t\t\t$item.remove();\n\t\t\t});\n\t\n\t\t\t$('#addSbRules').click(function () {\n\t\t\t\tself.layer(1);\n\t\t\t});\n\t\n\t\t\t$('#add-other-rules').click(function () {\n\t\t\t\tself.layer(2);\n\t\t\t});\n\t\n\t\t\t$('#amount-min, #amount-max').change(function () {\n\t\t\t\tvar min = parseFloat($('#amount-min').val()) || 0,\n\t\t\t\t    max = parseFloat($('#amount-max').val()) || Infinity;\n\t\t\t\tmodifyRules($('#J_add-form').data('validator'), {\n\t\t\t\t\trules: {\n\t\t\t\t\t\t'amount[]': {\n\t\t\t\t\t\t\tmin: min,\n\t\t\t\t\t\t\tmax: max\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'amountmax[]': {\n\t\t\t\t\t\t\tmin: min,\n\t\t\t\t\t\t\tmax: max\n\t\t\t\t\t\t},\n\t\t\t\t\t\tamount_min: {\n\t\t\t\t\t\t\tmax: max\n\t\t\t\t\t\t},\n\t\t\t\t\t\tamount_max: {\n\t\t\t\t\t\t\tmin: min\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).trigger('change');\n\t\t},\n\t\tlayer: function (_layer) {\n\t\t\tfunction layer() {\n\t\t\t\treturn _layer.apply(this, arguments);\n\t\t\t}\n\t\n\t\t\tlayer.toString = function () {\n\t\t\t\treturn _layer.toString();\n\t\t\t};\n\t\n\t\t\treturn layer;\n\t\t}(function () {\n\t\t\tvar type = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\t\n\t\t\tvar self = rulesObj,\n\t\t\t    remainArr = type == 1 ? self.remainArr : self.remainOtherArr,\n\t\t\t    html = '';\n\t\n\t\t\tif (remainArr.length) {\n\t\t\t\tremainArr.forEach(function (item, index) {\n\t\t\t\t\thtml += '<label class=\"icheck-label\"><input data-index=\"' + index + '\" class=\"icheck\" type=\"checkbox\" value=\"' + item.name + '\" />' + item.name + '</label>';\n\t\t\t\t});\n\t\n\t\t\t\tlayer.open({\n\t\t\t\t\tarea: '380px',\n\t\t\t\t\tcontent: html,\n\t\t\t\t\ttitle: '添加其他费用',\n\t\t\t\t\tskin: 'add-rules',\n\t\t\t\t\tbtn: ['添加'],\n\t\t\t\t\tyes: function yes(index) {\n\t\t\t\t\t\tvar items = [],\n\t\t\t\t\t\t    tempArr = [];\n\t\n\t\t\t\t\t\t$('.add-rules .icheck').each(function () {\n\t\t\t\t\t\t\tvar $this = $(this),\n\t\t\t\t\t\t\t    index = $this.data('index');\n\t\n\t\t\t\t\t\t\tif ($this.is(':checked')) {\n\t\t\t\t\t\t\t\titems.push(remainArr[index]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttempArr.push(remainArr[index]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\t\tself.remainArr = tempArr;\n\t\t\t\t\t\t\tself.toggleAddBtn();\n\t\t\t\t\t\t\tlistTpl.init('#J_rules-sb-list', { items: items, type: 'add' });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.remainOtherArr = tempArr;\n\t\t\t\t\t\t\tself.toggleOtherAddBtn();\n\t\t\t\t\t\t\totherListTpl.init('#J_other-tpl', { other: items, type: 'add' });\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tlayer.close(index);\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function success() {\n\t\t\t\t\t\ticheckFn.init();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}),\n\t\n\t\tremainArr: [],\n\t\n\t\tremainOtherArr: [],\n\t\n\t\ttoggleAddBtn: function toggleAddBtn() {\n\t\t\tvar self = rulesObj,\n\t\t\t    $btn = $('#addSbRules');\n\t\n\t\t\tif (self.remainArr.length) {\n\t\t\t\t$btn.show();\n\t\t\t} else {\n\t\t\t\t$btn.hide();\n\t\t\t}\n\t\t},\n\t\ttoggleOtherAddBtn: function toggleOtherAddBtn() {\n\t\t\tvar self = rulesObj,\n\t\t\t    $btn = $('#add-other-rules');\n\t\n\t\t\tif (self.remainOtherArr.length) {\n\t\t\t\t$btn.show();\n\t\t\t} else {\n\t\t\t\t$btn.hide();\n\t\t\t}\n\t\t},\n\t\tfind: function find(items, key) {\n\t\n\t\t\treturn items.find(function (item) {\n\t\t\t\treturn item.name == key;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tmodule.exports = rulesObj;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 109:\n/*!*******************************************************************************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=script&index=0!../js/tpl/sb_rules_list.vue ***!\n  \\*******************************************************************************************************************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar tpl = __webpack_require__(/*! art-template */ 6),\n\t    icheckFn = __webpack_require__(/*! plug/icheck/index */ 5);\n\t\n\t__webpack_require__(/*! plug/selectordie */ 11);\n\t\n\tvar listObj = {\n\t\tinit: function init(box, data) {\n\t\t\tvar self = listObj,\n\t\t\t    html = tpl.render(self.template)(data);\n\t\n\t\t\tif (data.type == 'add') {\n\t\t\t\t$(box).append(html);\n\t\t\t} else {\n\t\t\t\t$(box).html(html);\n\t\t\t}\n\t\n\t\t\tself.initEvents();\n\t\t},\n\t\tinitEvents: function initEvents() {\n\t\t\t$(\".J_rules-item select\").selectOrDie();\n\t\t\ticheckFn.init();\n\t\t}\n\t};\n\t\n\tmodule.exports = listObj;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1)))\n\n/***/ },\n\n/***/ 135:\n/*!*******************************!*\\\n  !*** ../js/page/rules_add.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\tvar tpl = __webpack_require__(/*! plug/artTemplate */ 18);\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 4);\n\t\n\tvar isFn = _require.isFn;\n\t\n\tvar _require2 = __webpack_require__(/*! api/rules */ 63);\n\t\n\tvar getTemplateClassify = _require2.getTemplateClassify;\n\tvar getTemplateRule = _require2.getTemplateRule;\n\tvar _saveRules = _require2.saveRules;\n\t\n\tvar _require3 = __webpack_require__(/*! modules/util */ 4);\n\t\n\tvar serializeEl = _require3.serializeEl;\n\tvar dateFn = __webpack_require__(/*! plug/datetimepicker/index */ 7);\n\tvar sbTpl = __webpack_require__(/*! tpl/sb_rules.vue */ 237);\n\tvar icheckFn = __webpack_require__(/*! plug/icheck/index */ 5);\n\t\n\t__webpack_require__(/*! plug/city-picker/city-picker */ 29);\n\t__webpack_require__(/*! plug/validate/index */ 3);\n\t\n\tvar rulesAdd = {\n\t    init: function init() {\n\t        var self = this;\n\t\n\t        self.eventBind();\n\t        self.validate();\n\t    },\n\t    eventBind: function eventBind() {\n\t        var self = this;\n\t\n\t        $('.city-picker-input').cityPicker();\n\t\n\t        var $J_location = $('#J_location');\n\t\n\t        // 规则类型\n\t        $J_location.change(function () {\n\t            var location = $('#J_location').val() - 0;\n\t\n\t            self.resetVal();\n\t\n\t            getTemplateClassify({\n\t                location: location\n\t            }, function (_ref) {\n\t                var result = _ref.result;\n\t\n\t                var paymentType = $('#J_paymentType').val() - 0;\n\t\n\t                $('#J_templateId').val(result.template_id);\n\t\n\t                self.sbClass = {\n\t                    items: result.result['1'] || []\n\t                };\n\t\n\t                self.emptyTpl();\n\t                self.ispaymentType(paymentType);\n\t            }, function (_ref2) {\n\t                var _ref2$msg = _ref2.msg;\n\t                var msg = _ref2$msg === undefined ? '该参保地不存在模板！' : _ref2$msg;\n\t\n\t                layer.msg(msg);\n\t                self.emptyTpl();\n\t                self.resetVal();\n\t            });\n\t        });\n\t\n\t        if ($J_location.val()) {\n\t            $J_location.trigger('change');\n\t        }\n\t\n\t        $('#J_paymentType').change(function () {\n\t            var val = $(this).val() - 0;\n\t\n\t            self.emptyTpl();\n\t            self.ispaymentType(val);\n\t        });\n\t\n\t        // 公积金 切换固定比例和比例范围\n\t        $('#J_sb-rules-tpl').on('ifChanged', '.J_scale-select', function (evt) {\n\t            var $this = $(this),\n\t                val = $this.val() - 0,\n\t                // 1 社保 2 公积金\n\t            $scope = $this.closest('.J_scale-scope'),\n\t                $scalebox = $scope.find('.scale-box'),\n\t                $fixedRatio = $scope.find('.fixed-ratio');\n\t\n\t            if (val === 1) {\n\t                $scalebox.show().find('input').removeClass('ignore');\n\t                $fixedRatio.hide().addClass('ignore');\n\t            } else {\n\t                $scalebox.hide().find('input').addClass('ignore');\n\t                $fixedRatio.show().removeClass('ignore');\n\t            }\n\t\n\t            $scope.find('span.validator-error').remove();\n\t            $scope.find('.validator-error').removeClass('error validator-error');\n\t        });\n\t\n\t        // 选择社保类型\n\t        $('#J_add-form').on('change', '.J_sb-type', function (event) {\n\t            self.getGjjClass();\n\t        });\n\t\n\t        // 提交表单\n\t        $('#J_submit-btn').click(function () {\n\t            $(this).closest('form').submit();\n\t        });\n\t\n\t        // 更改规则 去掉对应的提示\n\t        $('body').on('blur', '#amount-min,#amount-max', function () {\n\t            var id = this.id == 'amount-min' ? '#amount-max' : '#amount-min';\n\t            $('#J_add-form').data('validator').element(id);\n\t        });\n\t    },\n\t    validate: function validate() {\n\t        var self = this;\n\t\n\t        // 同级对比 处理都过同名无法比较\n\t        $.validator.addMethod(\"lttSub\", function (value, element, param) {\n\t            var $el = $(element),\n\t                classes = param.split(','),\n\t                $scope = $el.closest(classes[0]),\n\t                $el2 = $scope.find(classes[1]),\n\t                val = $el.val(),\n\t                val2 = $el2.val(),\n\t                id = $el2.attr('id') || $el2.attr('name'),\n\t                flag = val2 === '' || val === '' || val - 0 <= val2 - 0;\n\t\n\t            if (flag) {\n\t                $el2.removeClass(this.settings.errorClass);\n\t\n\t                $('#' + id + '-error').remove();\n\t            }\n\t\n\t            return this.optional(element) || flag;\n\t        }, \"范围有误\");\n\t\n\t        $.validator.addMethod(\"lgtSub\", function (value, element, param) {\n\t            var $el = $(element),\n\t                classes = param.split(','),\n\t                $scope = $el.closest(classes[0]),\n\t                $el2 = $scope.find(classes[1]),\n\t                val = $el.val(),\n\t                val2 = $el2.val(),\n\t                id = $el2.attr('id') || $el2.attr('name'),\n\t                flag = val2 === '' || val === '' || val - 0 >= val2 - 0;\n\t\n\t            if (flag) {\n\t                $el2.removeClass(this.settings.errorClass);\n\t\n\t                $('#' + id + '-error').remove();\n\t            };\n\t\n\t            return this.optional(element) || flag;\n\t        }, \"范围有误\");\n\t\n\t        // 表单校验\n\t        $('#J_add-form').validate({\n\t            submitHandler: function submitHandler(form) {\n\t                var $form = $(form),\n\t                    data = $form.serializeArray(),\n\t                    pageType = $('#J_pageType').val() - 0,\n\t                    $J_rulesSblist = $('#J_rules-sb-list');\n\t\n\t                // 如果存在模板\n\t                if ($.trim($('#J_sb-rules-tpl').html()) === '') {\n\t                    layer.msg('模板规则不存在,请重新选择');\n\t                    return;\n\t                }\n\t                if ($J_rulesSblist[0] && !$J_rulesSblist.find('.J_rules-item').length) {\n\t                    layer.msg('至少保留一种险种');\n\t                    return;\n\t                }\n\t                // 编辑\n\t                if (pageType === 1) {\n\t                    layer.open({\n\t                        content: '<form>\\n                                        <div class=\"title\">是否同步修改数据？</div>\\n                                        <div class=\"icheck-label\">\\n                                        <input class=\"icheck\" type=\"checkbox\" name=\"synchro\" checked id=\"J_synchro\" value=\"1\"/>\\n                                        同时修改应用当前规则的参保人数据\\n                                        <a href=\"/Article-helpCenter-category-common_question\" class=\"icon icon-ask\" title=\"什么是修改应用到当前规则的参保人数据?\" target=\"_blank\"></a>\\n                                        </div>\\n\\n                                        <div id=\"J_datePicker-box\">\\n                                            <div class=\"inline-block align-top\">生效月份：</div>\\n                                            <div class=\"inline-block ipt-box ipt-pos\">\\n                                                <input id=\"J_datePicker-layer\" type=\"text\" name=\"effective\" required class=\"ipt date\" readonly> \\n                                                <i class=\"icon icon-date\"></i>\\n                                            </div>\\n                                        </div>\\n                                    </form>\\n                                     ',\n\t                        btn: ['提交', '取消'],\n\t                        skin: 'rules-save-layer',\n\t                        scrollbar: false,\n\t                        yes: function yes() {\n\t                            $('.rules-save-layer form').submit();\n\t                        },\n\t                        success: function success() {\n\t                            var startDate = new Date(),\n\t                                endDate = new Date();\n\t\n\t                            startDate.setFullYear(endDate.getFullYear() - 1);\n\t\n\t                            icheckFn.iCheck();\n\t\n\t                            dateFn.getYearMonth({\n\t                                el: '#J_datePicker-layer',\n\t                                startDate: startDate,\n\t                                endDate: endDate\n\t                            });\n\t\n\t                            // 同步数据 交互\n\t                            $('#J_synchro').on('ifChanged', function () {\n\t                                var $J_datePicker = $('#J_datePicker-layer'),\n\t                                    $box = $('#J_datePicker-box');\n\t\n\t                                if ($(this).is(':checked')) {\n\t                                    $J_datePicker.removeClass('ignore');\n\t                                    $box.show();\n\t                                } else {\n\t                                    $J_datePicker.addClass('ignore');\n\t                                    $box.hide();\n\t                                }\n\t                            });\n\t\n\t                            $('.rules-save-layer form').validate({\n\t                                submitHandler: function submitHandler(formInner) {\n\t                                    var $formInner = $(formInner);\n\t                                    var data2 = $formInner.serializeArray();\n\t\n\t                                    var _$formInner$data = $formInner.data();\n\t\n\t                                    var flag = _$formInner$data.flag;\n\t\n\t\n\t                                    if (flag) {\n\t                                        return;\n\t                                    }\n\t\n\t                                    $formInner.data('flag', true);\n\t\n\t                                    self.saveRules(data.concat(data2)).complete(function () {\n\t                                        $formInner.data('flag', false);\n\t                                    });\n\t                                },\n\t\n\t                                rules: {\n\t                                    effective: {\n\t                                        'date': false // ie 2013/09格式会判断错误\n\t                                    }\n\t                                }\n\t                            });\n\t                        }\n\t                    });\n\t                } else {\n\t                    self.saveRules(data, function () {\n\t                        layer.open({\n\t                            content: '创建模板成功！',\n\t                            btn: ['继续创建', '返回列表'],\n\t                            yes: function yes() {\n\t                                location.href = location.href;\n\t                            },\n\t                            btn2: function btn2() {\n\t                                location.href = '/Service-Rules-index';\n\t                            }\n\t                        });\n\t                    });\n\t                }\n\t            },\n\t\n\t            messages: {\n\t                minAmount: {\n\t                    ltt: '最低基数不能大于最高基数'\n\t                },\n\t                maxAmount: {\n\t                    lgt: '最高基数不能小于最低基数'\n\t                }\n\t            },\n\t            rules: {\n\t                minAmount: {\n\t                    min: 0,\n\t                    ltt: '#amount-max'\n\t                },\n\t                maxAmount: {\n\t                    min: 0,\n\t                    lgt: '#amount-min'\n\t                },\n\t                'amount[]': {\n\t                    min: 0,\n\t                    lttSub: '.J_rules-item,[name = \"amountmax[]\"]'\n\t                },\n\t                'amountmax[]': {\n\t                    min: 0,\n\t                    lgtSub: '.J_rules-item,[name = \"amount[]\"]'\n\t                },\n\t                'comScale[]': {\n\t                    min: 0\n\t                },\n\t                'comFix[]': {\n\t                    min: 0\n\t                },\n\t                'perScale[]': {\n\t                    min: 0\n\t                },\n\t                'perFix[]': {\n\t                    min: 0\n\t                },\n\t                'companyOther[]': {\n\t                    min: 0\n\t                },\n\t                'personOther[]': {\n\t                    min: 0\n\t                },\n\t                'pro_cost': {\n\t                    min: 0\n\t                },\n\t                'disabled': {\n\t                    min: 0\n\t                },\n\t                'comFixLow': {\n\t                    min: 0\n\t                },\n\t                'comFixUp': {\n\t                    min: 0\n\t                },\n\t                'perFixLow': {\n\t                    min: 0\n\t                },\n\t                'perFixUp': {\n\t                    min: 0\n\t                },\n\t                'comScale': {\n\t                    scale: true\n\t                },\n\t                'perScale': {\n\t                    scale: true\n\t                }\n\t            }\n\t        });\n\t    },\n\t\n\t    // 保存规则\n\t    saveRules: function saveRules(data, success) {\n\t        return _saveRules(data, function (_ref3) {\n\t            var _ref3$msg = _ref3.msg;\n\t            var msg = _ref3$msg === undefined ? '保存成功' : _ref3$msg;\n\t\n\t            if (isFn(success)) {\n\t                success();\n\t            } else {\n\t                layer.msg(msg);\n\t            }\n\t        }, function (_ref4) {\n\t            var _ref4$msg = _ref4.msg;\n\t            var msg = _ref4$msg === undefined ? \"保存失败\" : _ref4$msg;\n\t\n\t            layer.msg(msg);\n\t        });\n\t    },\n\t    ispaymentType: function ispaymentType(val) {\n\t        var self = this,\n\t            location = $('#J_location').val();\n\t\n\t        if (location === '' || $('#J_templateId').val() === '') {\n\t            return;\n\t        }\n\t\n\t        if (val === 1) {\n\t            self.getSbClass();\n\t        } else if (val === 2) {\n\t            self.getGjjClass();\n\t        }\n\t    },\n\t\n\t    /**\r\n\t     * 公积金开关  进入页面 调用getTemplateRule接口  \r\n\t     * 如果是编辑页 需要发id\r\n\t     */\n\t    getGjjClassFlag: true,\n\t    // 获取公积金数据并渲染\n\t    getGjjClass: function getGjjClass() {\n\t        var paymentType = $('#J_paymentType').val() - 0,\n\t            self = this,\n\t            elStr = '[name=\"classifyMixed\"],[name=\"type\"],[name=\"templateId\"]',\n\t            data = null;\n\t\n\t        if (self.getGjjClassFlag) {\n\t            elStr += ',[name=\"id\"]';\n\t        }\n\t        self.getGjjClassFlag = false;\n\t        data = serializeEl(elStr);\n\t\n\t        getTemplateRule(data, function (_ref5) {\n\t            var result = _ref5.result;\n\t\n\t            var rule = paymentType === 1 ? result[0].rule : result[0].rule;\n\t\n\t            sbTpl.init('#J_sb-rules-tpl', rule);\n\t        }, function (_ref6) {\n\t            var _ref6$msg = _ref6.msg;\n\t            var msg = _ref6$msg === undefined ? '模板规则不存在' : _ref6$msg;\n\t\n\t            $('#J_sb-rules-tpl').html('');\n\t            layer.msg(msg);\n\t        });\n\t    },\n\t\n\t    // 获取社保数据并渲染\n\t    getSbClass: function getSbClass() {\n\t        var self = this,\n\t            html = '',\n\t            $classify_mixed = $('#classify_mixed'),\n\t            classify_mixed = $classify_mixed.val(),\n\t            isclassify_mixed = classify_mixed !== '' || typeof classify_mixed !== 'undefined'; //第一次需要 获取默认值 再次选择不需要\n\t\n\t        if (!self.sbClass.items.length) {\n\t            return;\n\t        }\n\t\n\t        html = tpl.render(__webpack_require__(/*! tpl/sb_class.vue */ 236).template)(isclassify_mixed ? $.extend({}, self.sbClass, { classify_mixed: classify_mixed }) : self.sbClass);\n\t\n\t        $('#J_sb-type-box').html(html).show();\n\t        $('.J_sb-type').selectOrDie();\n\t\n\t        if (isclassify_mixed) {\n\t            $('.J_sb-type').eq(0).trigger('change');\n\t            $classify_mixed.val('');\n\t        }\n\t    },\n\t    emptyTpl: function emptyTpl() {\n\t        $('#J_sb-rules-tpl').html('');\n\t        $('#J_sb-type-box').html('').hide();\n\t    },\n\t\n\t    // 重置\n\t    resetVal: function resetVal() {\n\t        $('#J_templateId').val('');\n\t        this.sbClass = {\n\t            items: []\n\t        };\n\t    },\n\t\n\t    // 社保类型\n\t    sbClass: {\n\t        items: []\n\t    }\n\t};\n\t\n\tmodule.exports = rulesAdd;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 136:\n/*!********************************!*\\\n  !*** ../js/page/rules_list.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\tvar _require = __webpack_require__(/*! api/rules */ 63);\n\t\n\tvar toggleRulesStauts = _require.toggleRulesStauts;\n\t\n\t\n\tvar modules = {\n\t    init: function init() {\n\t        var self = this;\n\t\n\t        //启用和禁用规则\n\t        $('[data-act=\"toggleRulesStauts\"]').click(function () {\n\t            var $this = $(this);\n\t\n\t            var _$this$data = $this.data();\n\t\n\t            var flag = _$this$data.flag;\n\t            var state = _$this$data.state; //-9 禁用 1 启用\n\t\n\t            state -= 0;\n\t\n\t            if (flag) {\n\t                return;\n\t            }\n\t\n\t            $this.data('flag', true);\n\t\n\t            if (state === 1) {\n\t                //目前是启用状态\n\t                layer.confirm('是否禁用此规则？', {\n\t                    title: '禁用规则',\n\t                    btn: ['禁用', '取消'],\n\t                    yes: function yes() {\n\t                        self.toggleStauts($this);\n\t                    },\n\t                    end: function end() {\n\t                        $this.data('flag', false);\n\t                    }\n\t                });\n\t            } else {\n\t                self.toggleStauts($this);\n\t            }\n\t        });\n\t    },\n\t\n\t    // 禁用、启用规则\n\t    toggleStauts: function toggleStauts($this) {\n\t        var _$this$data2 = $this.data();\n\t\n\t        var id = _$this$data2.id;\n\t        var state = _$this$data2.state;\n\t\n\t\n\t        toggleRulesStauts({ id: id }, function (_ref) {\n\t            var _ref$msg = _ref.msg;\n\t            var msg = _ref$msg === undefined ? '设置成功' : _ref$msg;\n\t\n\t\n\t            if (state - 0 === 1) {\n\t                $this.html('恢复启动').data('state', -9).closest('.list-item').addClass('disabled').find('.J_state').html('禁用');\n\t            } else {\n\t                $this.html('禁止启动').data('state', 1).closest('.list-item').removeClass('disabled').find('.J_state').html('启用');\n\t            }\n\t\n\t            layer.msg(msg);\n\t        }, function (_ref2) {\n\t            var _ref2$msg = _ref2.msg;\n\t            var msg = _ref2$msg === undefined ? \"设置失败\" : _ref2$msg;\n\t\n\t\n\t            layer.msg(msg);\n\t        }).complete(function () {\n\t            $this.data('flag', false);\n\t        });\n\t    }\n\t};\n\t\n\tmodule.exports = modules;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 214:\n/*!*************************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/pay_rules_list.vue ***!\n  \\*************************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n\\n{{each other as item i}}\\n\\t<li class=\\\"J_pay-item clearfix\\\">\\n\\t\\t<div class=\\\"item item-name\\\">\\n\\t\\t\\t{{item.name}}\\n\\t\\t\\t<input type=\\\"hidden\\\" name=\\\"otherName[]\\\" value=\\\"{{item.name}}\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"item\\\">\\n\\t\\t\\t单位：\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"companyOther[]\\\" value=\\\"{{item.rules.company}}\\\" required> 元\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"item\\\">\\n\\t\\t\\t个人：\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"personOther[]\\\" value=\\\"{{item.rules.person}}\\\" required> 元\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"item\\\">\\n\\t\\t\\t<a data-act=\\\"removeOtherRules\\\" data-key=\\\"{{item.name}}\\\" href=\\\"javascript:;\\\"><i class=\\\"icon icon-del\\\"></i></a>\\n\\t\\t</div>\\n\\t</li>\\n{{/each}}\\n\";\n\n/***/ },\n\n/***/ 215:\n/*!*******************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/sb_class.vue ***!\n  \\*******************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n\\t{{each items as item i}}\\n\\t\\t<dl class=\\\"horizontal horizontal-ipt horizontal-5em\\\">\\n            <dt class=\\\"left\\\">{{item.name}}：</dt>\\n            <dd class=\\\"right size2\\\">\\n                <select class=\\\"J_sb-type\\\" name=\\\"classifyMixed\\\">\\n\\t\\t\\t\\t\\t{{each item._child as child}}\\n\\t\\t\\t\\t\\t\\t<option value=\\\"{{child.id}}\\\" {{if classify_mixed == child.id}}selected{{/if}}>{{child.name}}</option>\\n\\t\\t\\t\\t\\t{{/each}}\\n                </select>\\n            </dd>\\n        </dl>\\n\\t{{/each}}\\n\\t\\n\";\n\n/***/ },\n\n/***/ 216:\n/*!*******************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/sb_rules.vue ***!\n  \\*******************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n\\t{{if paymentType == 2}}\\n\\t\\t<div class=\\\"rules-panel white gjj-rules-panel\\\">\\n\\t\\t<h4 class=\\\"panel-title\\\">\\n\\t\\t\\t公积金规则\\n\\t\\t</h4>\\n\\n\\t{{else}}\\n\\t\\t<div>\\n\\t{{/if}}\\n\\n\\t\\t{{if paymentType == 1}}\\n\\t\\t\\t<dl class=\\\"horizontal horizontal-ipt horizontal-5em {{if paymentType == 1}}sb-amount-box{{/if}}\\\">\\n\\t\\t\\t\\t<dt class=\\\"left\\\">基数范围：</dt>\\n\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t<input id=\\\"amount-min\\\" class=\\\"ipt\\\" type=\\\"number\\\" name=\\\"minAmount\\\" value=\\\"{{min}}\\\" required placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t<input id=\\\"amount-max\\\" class=\\\"ipt\\\" type=\\\"number\\\" name=\\\"maxAmount\\\" value=\\\"{{max}}\\\" required placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t元\\n\\n\\t\\t\\t\\t\\t{{if paymentType == 2}}\\n\\t\\t\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" class=\\\"icheck\\\" value=\\\"1\\\" {{if intval == 1}}checked{{/if}} name=\\\"intval\\\">\\n\\t\\t\\t\\t\\t\\t\\t是否取整\\n\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t{{/if}}\\n\\n\\t\\t\\t\\t</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th width=\\\"80\\\">能否补缴</th>\\n\\t\\t\\t\\t\\t\\t<th width=\\\"150\\\">险种</th>\\n\\t\\t\\t\\t\\t\\t<th>缴纳基数</th>\\n\\t\\t\\t\\t\\t\\t<th>单位比例</th>\\n\\t\\t\\t\\t\\t\\t<th>个人比例</th>\\n\\t\\t\\t\\t\\t\\t<th width=\\\"80\\\">操作</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody id=\\\"J_rules-sb-list\\\"></tbody>\\n\\t\\t\\t\\t<tfoot>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"text-left\\\" colspan=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a id=\\\"addSbRules\\\" href=\\\"javascript:;\\\" class=\\\"btn-add\\\"><i class=\\\"icon icon-add\\\"></i>添加险种</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"tip f-small\\\">注：不包含的险种不设置数额即可。</span>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t</table>\\n\\t\\t{{else if paymentType == 2}}\\n\\t\\t<ul class=\\\"panel-list\\\">\\n\\t\\t\\t<li>\\n\\t\\t\\t\\t<dl class=\\\"horizontal horizontal-ipt horizontal-5em {{if paymentType == 1}}sb-amount-box{{/if}}\\\">\\n\\t\\t\\t\\t\\t<dt class=\\\"left\\\">基数范围：</dt>\\n\\t\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input id=\\\"amount-min\\\" class=\\\"ipt size0 \\\" type=\\\"number\\\" name=\\\"minAmount\\\" value=\\\"{{min}}\\\" required placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input id=\\\"amount-max\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"maxAmount\\\" value=\\\"{{max}}\\\" required placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t元\\n\\n\\t\\t\\t\\t\\t\\t{{if paymentType == 2}}\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"intval-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" class=\\\"icheck\\\" value=\\\"1\\\" {{if intval == 1}}checked{{/if}} name=\\\"intval\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t是否取整\\n\\t\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t\\t{{/if}}\\n\\n\\t\\t\\t\\t\\t</dd>\\n\\t\\t\\t\\t</dl>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"clearfix J_scale-scope\\\">\\n\\t\\t\\t\\t<dl class=\\\"horizontal horizontal-5em fl\\\">\\n\\t\\t\\t\\t\\t<dt class=\\\"left\\\">单位比例：</dt>\\n\\t\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"1\\\" name=\\\"isComType\\\" {{if iscomtype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t比例范围\\n\\t\\t\\t\\t\\t\\t</label>\\n\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"2\\\" name=\\\"isComType\\\" {{if !iscomtype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t固定比例\\n\\t\\t\\t\\t\\t\\t</label>\\n\\n\\t\\t\\t\\t\\t</dd>\\n\\t\\t\\t\\t</dl>\\n\\t\\t\\t\\t<div class=\\\"fl\\\">\\n\\t\\t\\t\\t\\t<input class=\\\"ipt fixed-ratio dn ignore size0\\\" \\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\" name=\\\"comScale\\\" \\n\\t\\t\\t\\t\\t\\tvalue=\\\"{{if !iscomtype}}{{company.replace(/%/g,'')}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\trequired placeholder=\\\"缴纳基数\\\">\\n\\n\\t\\t\\t\\t\\t<div class=\\\"scale-box inline-block\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"ipt size0\\\" \\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\" \\n\\t\\t\\t\\t\\t\\t\\tname=\\\"comFixLow\\\" \\n\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if iscomtype}}{{company.replace(/%/g,'') | split:'-','0'}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\t\\trequired placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input  class=\\\"ipt size0\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\" name=\\\"comFixUp\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if iscomtype}}{{company.replace(/%/g,'') | split:'-', '1'}}{{/if}}\\\" required placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t%\\n\\t\\t\\t\\t\\t<span class=\\\"c-gray f-small fixed-ratio\\\">（多个固定值，请用英文逗号隔开）</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"clearfix J_scale-scope\\\">\\n\\t\\t\\t\\t<dl class=\\\"horizontal horizontal-5em fl\\\">\\n\\t\\t\\t\\t\\t<dt class=\\\"left\\\">个人比例：</dt>\\n\\t\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"1\\\" name=\\\"isPerType\\\" {{if ispertype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t比例范围\\n\\t\\t\\t\\t\\t\\t</label>\\n\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"2\\\" name=\\\"isPerType\\\" {{if !ispertype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t固定比例\\n\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t</dd>\\n\\t\\t\\t\\t</dl>\\n\\t\\t\\t\\t<div class=\\\"fl\\\">\\n\\t\\t\\t\\t\\t<input class=\\\"ipt fixed-ratio dn size0 ignore\\\" type=\\\"text\\\" name=\\\"perScale\\\" \\n\\t\\t\\t\\t\\t\\tvalue=\\\"{{if !ispertype}}{{person.replace(/%/g,'')}}{{/if}}\\\" required placeholder=\\\"缴纳基数\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"scale-box inline-block\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perFixLow\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if ispertype}}{{person.replace(/%/g,'') | split:'-','0'}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\trequired placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input  class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perFixUp\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if ispertype}}{{person.replace(/%/g,'') | split:'-','1'}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\trequired placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t%\\n\\t\\t\\t\\t\\t<span class=\\\"c-gray f-small fixed-ratio\\\">（多个固定值，请用英文逗号隔开）</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t\\t\\t<a id=\\\"addSbRules\\\" href=\\\"javascript:;\\\" class=\\\"btn-add\\\"><i class=\\\"icon icon-add\\\"></i>添加险种</a>\\n\\t\\t{{/if}}\\n\\t</div>\\n\\t{{if other}}\\n\\t<div class=\\\"rules-panel white\\\">\\n\\t\\t<h3 class=\\\"panel-title pay-title\\\">\\n\\t\\t\\t其他收费\\n\\t\\t</h3>\\n\\n\\t\\t<ul id=\\\"J_other-tpl\\\" class=\\\"panel-list\\\"></ul>\\n\\n\\t\\t<a id=\\\"add-other-rules\\\" href=\\\"javascript:;\\\" class=\\\"btn-add\\\"><i class=\\\"icon icon-add\\\"></i>添加</a>\\n\\n\\t</div>\\n\\t{{/if}}\\n\\n<!-- \\t<div class=\\\"rules-panel white rules-panel-small\\\">\\n\\t<dl class=\\\"horizontal horizontal-8em pro-cost-list\\\">\\n\\t\\t<dt class=\\\"left text-right\\\">\\n\\t\\t\\t{{if paymentType == 1}}\\n\\t\\t\\t\\t社保卡工本费：\\n\\t\\t\\t{{else if paymentType == 2}}\\n\\t\\t\\t\\t公积金卡工本费：\\n\\t\\t\\t{{/if}}\\n\\t\\t</dt>\\n\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"pro_cost\\\" value=\\\"{{pro_cost || 0}}\\\" required> 元/人\\n\\t\\t</dd>\\n\\t</dl>\\n\\t{{if paymentType == 1}}\\n\\t\\t<dl class=\\\"horizontal horizontal-8em pro-cost-list\\\">\\n\\t\\t\\t<dt class=\\\"left text-right\\\">残障金：</dt>\\n\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"disabled\\\"  value=\\\"{{disabled || 0}}\\\" required> 元/人/月\\n\\t\\t\\t</dd>\\n\\t\\t</dl>\\n\\t{{/if}}\\n</div> -->\\n\\t\\n</template>\";\n\n/***/ },\n\n/***/ 217:\n/*!************************************************************************************************************************************!*\\\n  !*** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/sb_rules_list.vue ***!\n  \\************************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n\\n{{each items as item i}}\\n\\t<tr class=\\\"J_rules-item\\\">\\n\\t\\t<td>\\n\\t\\t\\t {{if item.rules.replenish - 0 == 1}}\\n\\t\\t\\t\\t<i class=\\\"icon icon-yes\\\"></i>\\n\\t\\t\\t {{/if}}\\n\\t\\t\\t <input type=\\\"hidden\\\" name=\\\"replenish[]\\\" value=\\\"{{item.rules.replenish}}\\\">\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t{{item.name}}\\n\\t\\t\\t<input id=\\\"inputName{{i}}\\\" type=\\\"hidden\\\" name=\\\"name[]\\\" value=\\\"{{item.name}}\\\">\\n\\t\\t</td>\\n\\t\\t<td>\\n\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputAmount{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"amount[]\\\" value=\\\"{{item.rules.amount}}\\\" required placeholder=\\\"最低缴纳基数\\\"> \\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"line\\\">\\n\\t\\t\\t~\\n\\t\\t\\t</span>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputAmountmax{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"amountmax[]\\\" value=\\\"{{item.rules.amountmax}}\\\" required placeholder=\\\"最高缴纳基数\\\"> \\n\\t\\t\\t</div>\\n\\t\\t\\t元\\n\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputComScale{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"comScale[]\\\" value=\\\"{{item.rules.company | split:'+','0' | parseFloat}}\\\" required> %\\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"line\\\">\\n\\t\\t\\t\\t+\\n\\t\\t\\t</span>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputComFix{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"comFix[]\\\" value=\\\"{{item.rules.company | split:'+','1' | parseFloat}}\\\"  required> 元 \\n\\t\\t\\t</div>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputPerScale{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perScale[]\\\" value=\\\"{{item.rules.person | split:'+','0' | parseFloat}}\\\" required> % \\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"line\\\">\\n\\t\\t\\t\\t+\\n\\t\\t\\t</span>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputPerFix{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perFix[]\\\" value=\\\"{{item.rules.person | split:'+','1' | parseFloat}}\\\" required> 元 \\n\\t\\t\\t</div>\\n\\t\\t</td>\\n\\t\\t<td class=\\\"opt-td\\\">\\n\\t\\t\\t<a data-act=\\\"removeSbRules\\\" data-key=\\\"{{item.name}}\\\" href=\\\"javascript:;\\\">\\n\\t\\t\\t\\t<i class=\\\"icon icon-del\\\"></i>\\n\\t\\t\\t</a> \\n\\t\\t</td>\\n\\t</tr>\\n{{/each}}\\n\";\n\n/***/ },\n\n/***/ 235:\n/*!************************************!*\\\n  !*** ../js/tpl/pay_rules_list.vue ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(/*! !babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=script&index=0!./pay_rules_list.vue */ 107)\n\t__vue_template__ = __webpack_require__(/*! !tpl-html-loader!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./pay_rules_list.vue */ 214)\n\tmodule.exports = __vue_script__ || {}\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 236:\n/*!******************************!*\\\n  !*** ../js/tpl/sb_class.vue ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_template__ = __webpack_require__(/*! !tpl-html-loader!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./sb_class.vue */ 215)\n\tmodule.exports = __vue_script__ || {}\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 237:\n/*!******************************!*\\\n  !*** ../js/tpl/sb_rules.vue ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(/*! !babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=script&index=0!./sb_rules.vue */ 108)\n\t__vue_template__ = __webpack_require__(/*! !tpl-html-loader!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./sb_rules.vue */ 216)\n\tmodule.exports = __vue_script__ || {}\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 238:\n/*!***********************************!*\\\n  !*** ../js/tpl/sb_rules_list.vue ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(/*! !babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=script&index=0!./sb_rules_list.vue */ 109)\n\t__vue_template__ = __webpack_require__(/*! !tpl-html-loader!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./sb_rules_list.vue */ 217)\n\tmodule.exports = __vue_script__ || {}\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** rules.bundle.js\n **/","// 缴费规则管理\r\n\r\nlet { combinePageModule } = require('modules/util');\r\n\r\ncombinePageModule({\r\n\trulesAdd: require('page/rules_add'),\r\n\trulesList: require('page/rules_list')\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/entry/rules.js\n **/","let { concatApi } = require('./config'),\r\n\tapi = {\r\n\t\t// 获取模板规则\r\n\t\tgetTemplateRule: '/Service-Business-getTemplateRule',\r\n\t\t// 获取社保类型\r\n\t\tgetTemplateClassify: '/Service-Business-getTemplateClassify',\r\n\t\ttoggleRulesStauts: '/Service-Rules-status',\r\n\t\t// 保存规则\r\n\t\tsaveRules: '/Service-Rules-save'\r\n\t}\r\n\r\n// 用户信息动作\r\nmodule.exports = concatApi(api);\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/api/rules.js\n **/","<template>\r\n\r\n\t{{each other as item i}}\r\n\t\t<li class=\"J_pay-item clearfix\">\r\n\t\t\t<div class=\"item item-name\">\r\n\t\t\t\t{{item.name}}\r\n\t\t\t\t<input type=\"hidden\" name=\"otherName[]\" value=\"{{item.name}}\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"item\">\r\n\t\t\t\t单位：\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input class=\"ipt size0\" type=\"number\" name=\"companyOther[]\" value=\"{{item.rules.company}}\" required> 元\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"item\">\r\n\t\t\t\t个人：\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input class=\"ipt size0\" type=\"number\" name=\"personOther[]\" value=\"{{item.rules.person}}\" required> 元\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"item\">\r\n\t\t\t\t<a data-act=\"removeOtherRules\" data-key=\"{{item.name}}\" href=\"javascript:;\"><i class=\"icon icon-del\"></i></a>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t{{/each}}\r\n</template>\r\n\r\n<script>\r\n\t/*其他收费列表*/\t\r\n\tlet tpl = require('art-template');\r\n\r\n\tlet listObj = {\r\n\t\tinit(box, data){\r\n\t\t\tlet self = listObj,\r\n\t\t\t\thtml = tpl.render(self.template)(data);\r\n\r\n\t\t\tif(data.type == 'add') {\r\n\t\t\t\t$(box).append(html);\r\n\t\t\t} else {\r\n\t\t\t\t$(box).html(html);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = listObj;\r\n</script>\r\n\n\n\n/** WEBPACK FOOTER **\n ** pay_rules_list.vue?717afa04\n **/","<template>\r\n\t{{if paymentType == 2}}\r\n\t\t<div class=\"rules-panel white gjj-rules-panel\">\r\n\t\t<h4 class=\"panel-title\">\r\n\t\t\t公积金规则\r\n\t\t</h4>\r\n\r\n\t{{else}}\r\n\t\t<div>\r\n\t{{/if}}\r\n\r\n\t\t{{if paymentType == 1}}\r\n\t\t\t<dl class=\"horizontal horizontal-ipt horizontal-5em {{if paymentType == 1}}sb-amount-box{{/if}}\">\r\n\t\t\t\t<dt class=\"left\">基数范围：</dt>\r\n\t\t\t\t<dd class=\"right\">\r\n\t\t\t\t\t<div class=\"inline-block size1\">\r\n\t\t\t\t\t\t<input id=\"amount-min\" class=\"ipt\" type=\"number\" name=\"minAmount\" value=\"{{min}}\" required placeholder=\"最低缴纳基数\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span class=\"line\">~</span>\r\n\t\t\t\t\t<div class=\"inline-block size1\">\r\n\t\t\t\t\t\t<input id=\"amount-max\" class=\"ipt\" type=\"number\" name=\"maxAmount\" value=\"{{max}}\" required placeholder=\"最高缴纳基数\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t元\r\n\r\n\t\t\t\t\t{{if paymentType == 2}}\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"icheck\" value=\"1\" {{if intval == 1}}checked{{/if}} name=\"intval\">\r\n\t\t\t\t\t\t\t是否取整\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t{{/if}}\r\n\r\n\t\t\t\t</dd>\r\n\t\t\t</dl>\r\n\t\t\t<table>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th width=\"80\">能否补缴</th>\r\n\t\t\t\t\t\t<th width=\"150\">险种</th>\r\n\t\t\t\t\t\t<th>缴纳基数</th>\r\n\t\t\t\t\t\t<th>单位比例</th>\r\n\t\t\t\t\t\t<th>个人比例</th>\r\n\t\t\t\t\t\t<th width=\"80\">操作</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody id=\"J_rules-sb-list\"></tbody>\r\n\t\t\t\t<tfoot>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class=\"text-left\" colspan=\"6\">\r\n\t\t\t\t\t\t\t<a id=\"addSbRules\" href=\"javascript:;\" class=\"btn-add\"><i class=\"icon icon-add\"></i>添加险种</a>\r\n\t\t\t\t\t\t\t<span class=\"tip f-small\">注：不包含的险种不设置数额即可。</span>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tfoot>\r\n\t\t\t</table>\r\n\t\t{{else if paymentType == 2}}\r\n\t\t<ul class=\"panel-list\">\r\n\t\t\t<li>\r\n\t\t\t\t<dl class=\"horizontal horizontal-ipt horizontal-5em {{if paymentType == 1}}sb-amount-box{{/if}}\">\r\n\t\t\t\t\t<dt class=\"left\">基数范围：</dt>\r\n\t\t\t\t\t<dd class=\"right\">\r\n\t\t\t\t\t\t<div class=\"inline-block size1\">\r\n\t\t\t\t\t\t\t<input id=\"amount-min\" class=\"ipt size0 \" type=\"number\" name=\"minAmount\" value=\"{{min}}\" required placeholder=\"最低缴纳基数\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span class=\"line\">~</span>\r\n\t\t\t\t\t\t<div class=\"inline-block size1\">\r\n\t\t\t\t\t\t\t<input id=\"amount-max\" class=\"ipt size0\" type=\"number\" name=\"maxAmount\" value=\"{{max}}\" required placeholder=\"最高缴纳基数\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t元\r\n\r\n\t\t\t\t\t\t{{if paymentType == 2}}\r\n\t\t\t\t\t\t\t<label class=\"intval-label\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"icheck\" value=\"1\" {{if intval == 1}}checked{{/if}} name=\"intval\">\r\n\t\t\t\t\t\t\t\t是否取整\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t{{/if}}\r\n\r\n\t\t\t\t\t</dd>\r\n\t\t\t\t</dl>\r\n\t\t\t</li>\r\n\t\t\t<li class=\"clearfix J_scale-scope\">\r\n\t\t\t\t<dl class=\"horizontal horizontal-5em fl\">\r\n\t\t\t\t\t<dt class=\"left\">单位比例：</dt>\r\n\t\t\t\t\t<dd class=\"right\">\r\n\r\n\t\t\t\t\t\t<label class=\"inline-block icheck-label\">\r\n\t\t\t\t\t\t\t<input class=\"icheck J_scale-select\" type=\"radio\" value=\"1\" name=\"isComType\" {{if iscomtype}}checked{{/if}}>\r\n\t\t\t\t\t\t\t比例范围\r\n\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t<label class=\"inline-block icheck-label\">\r\n\t\t\t\t\t\t\t<input class=\"icheck J_scale-select\" type=\"radio\" value=\"2\" name=\"isComType\" {{if !iscomtype}}checked{{/if}}>\r\n\t\t\t\t\t\t\t固定比例\r\n\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t</dd>\r\n\t\t\t\t</dl>\r\n\t\t\t\t<div class=\"fl\">\r\n\t\t\t\t\t<input class=\"ipt fixed-ratio dn ignore size0\" \r\n\t\t\t\t\t\ttype=\"text\" name=\"comScale\" \r\n\t\t\t\t\t\tvalue=\"{{if !iscomtype}}{{company.replace(/%/g,'')}}{{/if}}\" \r\n\t\t\t\t\t\trequired placeholder=\"缴纳基数\">\r\n\r\n\t\t\t\t\t<div class=\"scale-box inline-block\">\r\n\t\t\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t\t\t<input class=\"ipt size0\" \r\n\t\t\t\t\t\t\ttype=\"number\" \r\n\t\t\t\t\t\t\tname=\"comFixLow\" \r\n\t\t\t\t\t\t\tvalue=\"{{if iscomtype}}{{company.replace(/%/g,'') | split:'-','0'}}{{/if}}\" \r\n\t\t\t\t\t\t\trequired placeholder=\"最低缴纳基数\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span class=\"line\">~</span>\r\n\t\t\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t\t\t<input  class=\"ipt size0\" \r\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"comFixUp\" \r\n\t\t\t\t\t\t\t\tvalue=\"{{if iscomtype}}{{company.replace(/%/g,'') | split:'-', '1'}}{{/if}}\" required placeholder=\"最高缴纳基数\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t%\r\n\t\t\t\t\t<span class=\"c-gray f-small fixed-ratio\">（多个固定值，请用英文逗号隔开）</span>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li class=\"clearfix J_scale-scope\">\r\n\t\t\t\t<dl class=\"horizontal horizontal-5em fl\">\r\n\t\t\t\t\t<dt class=\"left\">个人比例：</dt>\r\n\t\t\t\t\t<dd class=\"right\">\r\n\t\t\t\t\t\t<label class=\"inline-block icheck-label\">\r\n\t\t\t\t\t\t\t<input class=\"icheck J_scale-select\" type=\"radio\" value=\"1\" name=\"isPerType\" {{if ispertype}}checked{{/if}}>\r\n\t\t\t\t\t\t\t比例范围\r\n\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t<label class=\"inline-block icheck-label\">\r\n\t\t\t\t\t\t\t<input class=\"icheck J_scale-select\" type=\"radio\" value=\"2\" name=\"isPerType\" {{if !ispertype}}checked{{/if}}>\r\n\t\t\t\t\t\t\t固定比例\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</dd>\r\n\t\t\t\t</dl>\r\n\t\t\t\t<div class=\"fl\">\r\n\t\t\t\t\t<input class=\"ipt fixed-ratio dn size0 ignore\" type=\"text\" name=\"perScale\" \r\n\t\t\t\t\t\tvalue=\"{{if !ispertype}}{{person.replace(/%/g,'')}}{{/if}}\" required placeholder=\"缴纳基数\">\r\n\t\t\t\t\t<div class=\"scale-box inline-block\">\r\n\t\t\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t\t\t<input class=\"ipt size0\" type=\"number\" name=\"perFixLow\" \r\n\t\t\t\t\t\t\t\tvalue=\"{{if ispertype}}{{person.replace(/%/g,'') | split:'-','0'}}{{/if}}\" \r\n\t\t\t\t\t\t\t\trequired placeholder=\"最低缴纳基数\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span class=\"line\">~</span>\r\n\t\t\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t\t\t<input  class=\"ipt size0\" type=\"number\" name=\"perFixUp\" \r\n\t\t\t\t\t\t\t\tvalue=\"{{if ispertype}}{{person.replace(/%/g,'') | split:'-','1'}}{{/if}}\" \r\n\t\t\t\t\t\t\t\trequired placeholder=\"最高缴纳基数\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t%\r\n\t\t\t\t\t<span class=\"c-gray f-small fixed-ratio\">（多个固定值，请用英文逗号隔开）</span>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t\t<a id=\"addSbRules\" href=\"javascript:;\" class=\"btn-add\"><i class=\"icon icon-add\"></i>添加险种</a>\r\n\t\t{{/if}}\r\n\t</div>\r\n\t{{if other}}\r\n\t<div class=\"rules-panel white\">\r\n\t\t<h3 class=\"panel-title pay-title\">\r\n\t\t\t其他收费\r\n\t\t</h3>\r\n\r\n\t\t<ul id=\"J_other-tpl\" class=\"panel-list\"></ul>\r\n\r\n\t\t<a id=\"add-other-rules\" href=\"javascript:;\" class=\"btn-add\"><i class=\"icon icon-add\"></i>添加</a>\r\n\r\n\t</div>\r\n\t{{/if}}\r\n\r\n<!-- \t<div class=\"rules-panel white rules-panel-small\">\r\n\t<dl class=\"horizontal horizontal-8em pro-cost-list\">\r\n\t\t<dt class=\"left text-right\">\r\n\t\t\t{{if paymentType == 1}}\r\n\t\t\t\t社保卡工本费：\r\n\t\t\t{{else if paymentType == 2}}\r\n\t\t\t\t公积金卡工本费：\r\n\t\t\t{{/if}}\r\n\t\t</dt>\r\n\t\t<dd class=\"right\">\r\n\t\t\t<input class=\"ipt size0\" type=\"number\" name=\"pro_cost\" value=\"{{pro_cost || 0}}\" required> 元/人\r\n\t\t</dd>\r\n\t</dl>\r\n\t{{if paymentType == 1}}\r\n\t\t<dl class=\"horizontal horizontal-8em pro-cost-list\">\r\n\t\t\t<dt class=\"left text-right\">残障金：</dt>\r\n\t\t\t<dd class=\"right\">\r\n\t\t\t\t<input class=\"ipt size0\" type=\"number\" name=\"disabled\"  value=\"{{disabled || 0}}\" required> 元/人/月\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t{{/if}}\r\n</div> -->\r\n\t\r\n</template>\r\n\r\n<script>\r\n\tlet tpl = require('art-template'),\r\n\t\ticheckFn = require('plug/icheck/index'),\r\n\t\tlistTpl = require('tpl/sb_rules_list.vue'),\r\n\t\totherListTpl = require('tpl/pay_rules_list.vue'),\r\n\t\t{ modifyRules } = require('plug/validate/index');\r\n\r\n\t\trequire('plug/selectordie');\r\n\r\n\tlet rulesObj = {\r\n\t\tinit(box, data){\r\n\t\t\tlet self = rulesObj,\r\n\t\t\t\tdataArr = data;\r\n\r\n\t\t\tif(!dataArr) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//重置\r\n\t\t\tself.remainArr = [];\r\n\t\t\t// 可选择其他费用\r\n\t\t\tself.remainOtherArr = [],\r\n\r\n\t\t\tdataArr.paymentType = $('#J_paymentType').val();\r\n\r\n\t\t\t// 判断是否固定基数 和 比例基数\r\n\t\t\tif(dataArr.paymentType === '2'){\r\n\t\t\t\tdataArr.ispertype = dataArr.person.indexOf('-') !== -1 || dataArr.person === ''  ? true : false;\r\n\t\t\t\tdataArr.iscomtype = dataArr.company.indexOf('-') !== -1 || dataArr.company === '' ? true : false;\r\n\t\t\t}\r\n\r\n\t\t\t$(box).html(tpl.render( self.template )( dataArr ));\r\n\r\n\t\t\tlistTpl.init('#J_rules-sb-list', dataArr);\r\n\r\n\t\t\totherListTpl.init('#J_other-tpl', dataArr)\r\n\r\n\t\t\tself.toggleAddBtn();\r\n\t\t\tself.toggleOtherAddBtn();\r\n\r\n\t\t\t$('.J_scale-select:checked').trigger('ifChanged');\r\n\r\n\t\t\t$('#J_sb-rules-tpl select').selectOrDie();\r\n\r\n\t\t\t// 删除列表\r\n\t\t\t$('#J_rules-sb-list').on('click', '[data-act=\"removeSbRules\"]', function(){\r\n\t\t\t\tlet $this = $(this),\r\n\t\t\t\t\t$item = $this.closest('.J_rules-item'),\r\n\t\t\t\t\tkey = $this.data('key');\r\n\r\n\t\t\t\t\tself.remainArr.push(self.find(dataArr.items, key))\r\n\r\n\t\t\t\t\tself.toggleAddBtn();\r\n\r\n\t\t\t\t\t$item.remove();\r\n\t\t\t})\r\n\r\n\t\t\t// 删除其他收费列表\r\n\t\t\t$('#J_other-tpl').on('click', '[data-act=\"removeOtherRules\"]', function(){\r\n\t\t\t\tlet $this = $(this),\r\n\t\t\t\t\t$item = $this.closest('.J_pay-item'),\r\n\t\t\t\t\tkey = $this.data('key');\r\n\r\n\t\t\t\t\tself.remainOtherArr.push(self.find(dataArr.other, key))\r\n\r\n\t\t\t\t\tself.toggleOtherAddBtn();\r\n\r\n\t\t\t\t\t$item.remove();\r\n\t\t\t})\r\n\r\n\t\t\t// 添加险种\r\n\t\t\t$('#addSbRules').click(function(){\r\n\t\t\t\tself.layer(1)\r\n\t\t\t})\r\n\r\n\t\t\t$('#add-other-rules').click(function(){\r\n\t\t\t\tself.layer(2)\r\n\t\t\t})\r\n\r\n\t\t\t// 限制最大最小\r\n\t\t\t$('#amount-min, #amount-max').change(function(){\r\n\t\t\t\tlet min = parseFloat($('#amount-min').val()) || 0,\r\n\t\t\t\t\tmax = parseFloat($('#amount-max').val()) || Infinity;\r\n\t\t\t\tmodifyRules($('#J_add-form').data('validator'), {\r\n\t\t\t\t\trules: {\r\n\t\t\t\t\t\t'amount[]': {\r\n\t\t\t\t\t\t\tmin,\r\n\t\t\t\t\t\t\tmax\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'amountmax[]': {\r\n\t\t\t\t\t\t\tmin,\r\n\t\t\t\t\t\t\tmax\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tamount_min: {\r\n\t\t\t\t\t\t\tmax,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tamount_max: {\r\n\t\t\t\t\t\t\tmin,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}).trigger('change');\r\n\r\n\t\t},\r\n\t\t/**\r\n\t\t * 弹出选择\r\n\t\t * @param  {种类} type 1 险种 2 其他费用\r\n\t\t * @return {[type]}      [description]\r\n\t\t */\r\n\t\tlayer(type = 1){\r\n\t\t\tlet self = rulesObj,\r\n\t\t\t\tremainArr = type == 1 ? self.remainArr : self.remainOtherArr,\r\n\t\t\t\thtml = '';\r\n\r\n\t\t\t\tif(remainArr.length) {\r\n\t\t\t\t\tremainArr.forEach( function(item, index) {\r\n\t\t\t\t\t\thtml += `<label class=\"icheck-label\"><input data-index=\"${index}\" class=\"icheck\" type=\"checkbox\" value=\"${item.name}\" />${item.name}</label>`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tlayer.open({\r\n\t\t\t\t\t\tarea: '380px',\r\n\t\t\t\t\t\tcontent: html,\r\n\t\t\t\t\t\ttitle:'添加其他费用',\r\n\t\t\t\t\t\tskin: 'add-rules',\r\n\t\t\t\t\t\tbtn:['添加'],\r\n\t\t\t\t\t\tyes(index){\r\n\t\t\t\t\t\t\tlet items = [],\r\n\t\t\t\t\t\t\t\ttempArr = [];\r\n\r\n\t\t\t\t\t\t\t$('.add-rules .icheck').each(function(){\r\n\t\t\t\t\t\t\t\tlet $this = $(this),\r\n\t\t\t\t\t\t\t\t\tindex = $this.data('index');\r\n\r\n\t\t\t\t\t\t\t\tif($this.is(':checked')) {\r\n\t\t\t\t\t\t\t\t\titems.push(remainArr[index]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttempArr.push(remainArr[index]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tif(type == 1) {\r\n\t\t\t\t\t\t\t\tself.remainArr = tempArr;\r\n\t\t\t\t\t\t\t\tself.toggleAddBtn();\r\n\t\t\t\t\t\t\t\tlistTpl.init('#J_rules-sb-list',{items, type:'add'});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tself.remainOtherArr = tempArr;\r\n\t\t\t\t\t\t\t\tself.toggleOtherAddBtn();\r\n\t\t\t\t\t\t\t\totherListTpl.init('#J_other-tpl',{other: items, type:'add'});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlayer.close(index);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(){\r\n\t\t\t\t\t\t\ticheckFn.init();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} \r\n\r\n\t\t},\r\n\t\t// 可选择险种\r\n\t\tremainArr: [],\r\n\t\t// 可选择其他费用\r\n\t\tremainOtherArr: [],\r\n\r\n\t\t// 显示隐藏 添加按钮\r\n\t\ttoggleAddBtn(){\r\n\t\t\tlet self = rulesObj,\r\n\t\t\t\t$btn = $('#addSbRules');\r\n\r\n\t\t\tif(self.remainArr.length) {\r\n\t\t\t\t$btn.show();\r\n\t\t\t} else {\r\n\t\t\t\t$btn.hide();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 显示隐藏 添加按钮\r\n\t\ttoggleOtherAddBtn(){\r\n\t\t\tlet self = rulesObj,\r\n\t\t\t\t$btn = $('#add-other-rules');\r\n\r\n\t\t\tif(self.remainOtherArr.length) {\r\n\t\t\t\t$btn.show();\r\n\t\t\t} else {\r\n\t\t\t\t$btn.hide();\r\n\t\t\t}\r\n\t\t},\r\n\t\tfind(items, key){\r\n\r\n\t\t\treturn items.find((item) => {\r\n\t\t\t\treturn item.name == key;\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = rulesObj;\r\n</script>\r\n\n\n\n/** WEBPACK FOOTER **\n ** sb_rules.vue?b6e6a57a\n **/","<template>\r\n\r\n\t{{each items as item i}}\r\n\t\t<tr class=\"J_rules-item\">\r\n\t\t\t<td>\r\n\t\t\t\t {{if item.rules.replenish - 0 == 1}}\r\n\t\t\t\t\t<i class=\"icon icon-yes\"></i>\r\n\t\t\t\t {{/if}}\r\n\t\t\t\t <input type=\"hidden\" name=\"replenish[]\" value=\"{{item.rules.replenish}}\">\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t{{item.name}}\r\n\t\t\t\t<input id=\"inputName{{i}}\" type=\"hidden\" name=\"name[]\" value=\"{{item.name}}\">\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input id=\"inputAmount{{i}}\" class=\"ipt size0\" type=\"number\" name=\"amount[]\" value=\"{{item.rules.amount}}\" required placeholder=\"最低缴纳基数\"> \r\n\t\t\t\t</div>\r\n\t\t\t\t<span class=\"line\">\r\n\t\t\t\t~\r\n\t\t\t\t</span>\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input id=\"inputAmountmax{{i}}\" class=\"ipt size0\" type=\"number\" name=\"amountmax[]\" value=\"{{item.rules.amountmax}}\" required placeholder=\"最高缴纳基数\"> \r\n\t\t\t\t</div>\r\n\t\t\t\t元\r\n\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input id=\"inputComScale{{i}}\" class=\"ipt size0\" type=\"number\" name=\"comScale[]\" value=\"{{item.rules.company | split:'+','0' | parseFloat}}\" required> %\r\n\t\t\t\t</div>\r\n\t\t\t\t<span class=\"line\">\r\n\t\t\t\t\t+\r\n\t\t\t\t</span>\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input id=\"inputComFix{{i}}\" class=\"ipt size0\" type=\"number\" name=\"comFix[]\" value=\"{{item.rules.company | split:'+','1' | parseFloat}}\"  required> 元 \r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input id=\"inputPerScale{{i}}\" class=\"ipt size0\" type=\"number\" name=\"perScale[]\" value=\"{{item.rules.person | split:'+','0' | parseFloat}}\" required> % \r\n\t\t\t\t</div>\r\n\t\t\t\t<span class=\"line\">\r\n\t\t\t\t\t+\r\n\t\t\t\t</span>\r\n\t\t\t\t<div class=\"inline-block\">\r\n\t\t\t\t\t<input id=\"inputPerFix{{i}}\" class=\"ipt size0\" type=\"number\" name=\"perFix[]\" value=\"{{item.rules.person | split:'+','1' | parseFloat}}\" required> 元 \r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"opt-td\">\r\n\t\t\t\t<a data-act=\"removeSbRules\" data-key=\"{{item.name}}\" href=\"javascript:;\">\r\n\t\t\t\t\t<i class=\"icon icon-del\"></i>\r\n\t\t\t\t</a> \r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t{{/each}}\r\n</template>\r\n\r\n<script>\r\n\tlet tpl = require('art-template'),\r\n\t\ticheckFn = require('plug/icheck/index');\r\n\r\n\trequire('plug/selectordie');\r\n\r\n\tlet listObj = {\r\n\t\tinit(box, data){\r\n\t\t\tlet self = listObj,\r\n\t\t\t\thtml = tpl.render(self.template)(data);\r\n\r\n\t\t\tif(data.type == 'add') {\r\n\t\t\t\t$(box).append(html);\r\n\t\t\t} else {\r\n\t\t\t\t$(box).html(html);\r\n\t\t\t}\r\n\r\n\t\t\tself.initEvents();\r\n\r\n\t\t},\r\n\t\tinitEvents(){\r\n\t\t\t$(\".J_rules-item select\").selectOrDie();\r\n\t\t\ticheckFn.init();\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = listObj;\r\n</script>\r\n\n\n\n/** WEBPACK FOOTER **\n ** sb_rules_list.vue?29003c59\n **/","let tpl = require('plug/artTemplate'),\r\n    { isFn } = require('modules/util'),\r\n    { getTemplateClassify, getTemplateRule, saveRules } = require('api/rules'),\r\n    { serializeEl } = require('modules/util'),\r\n    dateFn = require('plug/datetimepicker/index'),\r\n    sbTpl = require('tpl/sb_rules.vue'),\r\n    icheckFn = require('plug/icheck/index');\r\n\r\nrequire('plug/city-picker/city-picker');\r\nrequire('plug/validate/index');\r\n\r\nlet rulesAdd = {\r\n    init() {\r\n        let self = this;\r\n\r\n        self.eventBind();\r\n        self.validate();\r\n\r\n    },\r\n    eventBind() {\r\n        let self = this;\r\n\r\n        $('.city-picker-input').cityPicker();\r\n\r\n        let $J_location = $('#J_location');\r\n\r\n        // 规则类型\r\n        $J_location.change(function(){\r\n            let location = $('#J_location').val() - 0;\r\n\r\n            self.resetVal();\r\n\r\n            getTemplateClassify({\r\n                location\r\n            },( {result} ) => {\r\n                let paymentType = $('#J_paymentType').val() - 0;\r\n\r\n                $('#J_templateId').val(result.template_id);\r\n\r\n                self.sbClass = {\r\n                    items: result.result['1'] || []\r\n                }\r\n\r\n                self.emptyTpl();\r\n                self.ispaymentType(paymentType);\r\n\r\n            }, ( { msg = '该参保地不存在模板！' } ) => {\r\n                layer.msg(msg);\r\n                self.emptyTpl();\r\n                self.resetVal();\r\n            })\r\n        });\r\n\r\n        if($J_location.val()){\r\n            $J_location.trigger('change')\r\n        }\r\n\r\n        $('#J_paymentType').change(function(){\r\n            let val = $(this).val() - 0;\r\n\r\n            self.emptyTpl();\r\n            self.ispaymentType(val);\r\n        })\r\n\r\n        // 公积金 切换固定比例和比例范围\r\n        $('#J_sb-rules-tpl').on('ifChanged', '.J_scale-select', function(evt) {\r\n            let $this = $(this),\r\n                val = $this.val() - 0,// 1 社保 2 公积金\r\n                $scope = $this.closest('.J_scale-scope'),\r\n                $scalebox = $scope.find('.scale-box'),\r\n                $fixedRatio = $scope.find('.fixed-ratio');\r\n\r\n            if(val === 1) {\r\n                $scalebox.show().find('input').removeClass('ignore');\r\n                $fixedRatio.hide().addClass('ignore');\r\n            } else {\r\n                $scalebox.hide().find('input').addClass('ignore');\r\n                $fixedRatio.show().removeClass('ignore');\r\n            }\r\n\r\n            $scope.find('span.validator-error').remove();\r\n            $scope.find('.validator-error').removeClass('error validator-error');\r\n        });\r\n\r\n        // 选择社保类型\r\n        $('#J_add-form').on('change', '.J_sb-type', function(event) {\r\n            self.getGjjClass();\r\n        });\r\n\r\n        // 提交表单\r\n        $('#J_submit-btn').click(function(){\r\n            $(this).closest('form').submit();\r\n        })\r\n\r\n        // 更改规则 去掉对应的提示\r\n        $('body').on('blur', '#amount-min,#amount-max', function(){\r\n            let id = this.id == 'amount-min' ? '#amount-max' : '#amount-min';\r\n            $('#J_add-form').data('validator').element(id);\r\n        })\r\n\r\n    },\r\n    validate() {\r\n        var self = this;\r\n\r\n        // 同级对比 处理都过同名无法比较\r\n        $.validator.addMethod(\"lttSub\", function(value, element, param) {\r\n            var $el = $(element),\r\n                classes = param.split(','),\r\n                $scope = $el.closest(classes[0]),\r\n                $el2 = $scope.find(classes[1]),\r\n                val = $el.val(),\r\n                val2 = $el2.val(),\r\n                id = $el2.attr('id') || $el2.attr('name'),\r\n                flag = val2 === '' || val === '' || val - 0 <= val2 - 0;\r\n\r\n            if (flag) {\r\n                $el2.removeClass(this.settings.errorClass);\r\n\r\n                $('#' + id + '-error').remove();\r\n            }\r\n\r\n            return this.optional( element ) || flag;\r\n        }, \"范围有误\");\r\n\r\n        $.validator.addMethod(\"lgtSub\", function(value, element, param) {\r\n            var $el = $(element),\r\n                classes = param.split(','),\r\n                $scope = $el.closest(classes[0]),\r\n                $el2 = $scope.find(classes[1]),\r\n                val = $el.val(),\r\n                val2 = $el2.val(),\r\n                id = $el2.attr('id') || $el2.attr('name'),\r\n                flag = val2 === '' || val === '' || val - 0 >= val2 - 0;\r\n\r\n            if (flag) {\r\n                $el2.removeClass(this.settings.errorClass);\r\n\r\n                $('#' + id  + '-error').remove();\r\n            };\r\n\r\n             return this.optional( element ) || flag;\r\n        }, \"范围有误\");\r\n\r\n        // 表单校验\r\n        $('#J_add-form').validate({\r\n            submitHandler(form){\r\n                let $form = $(form),\r\n                    data = $form.serializeArray(),\r\n                    pageType = $('#J_pageType').val() - 0,\r\n                    $J_rulesSblist = $('#J_rules-sb-list');\r\n\r\n                    // 如果存在模板 \r\n                    if($.trim($('#J_sb-rules-tpl').html()) === '') {\r\n                        layer.msg('模板规则不存在,请重新选择');\r\n                        return;\r\n                    }\r\n                    if($J_rulesSblist[0] && !$J_rulesSblist.find('.J_rules-item').length) {\r\n                        layer.msg('至少保留一种险种');\r\n                        return;\r\n                    }\r\n                    // 编辑\r\n                    if(pageType === 1){\r\n                        layer.open({\r\n                            content: `<form>\r\n                                        <div class=\"title\">是否同步修改数据？</div>\r\n                                        <div class=\"icheck-label\">\r\n                                        <input class=\"icheck\" type=\"checkbox\" name=\"synchro\" checked id=\"J_synchro\" value=\"1\"/>\r\n                                        同时修改应用当前规则的参保人数据\r\n                                        <a href=\"/Article-helpCenter-category-common_question\" class=\"icon icon-ask\" title=\"什么是修改应用到当前规则的参保人数据?\" target=\"_blank\"></a>\r\n                                        </div>\r\n\r\n                                        <div id=\"J_datePicker-box\">\r\n                                            <div class=\"inline-block align-top\">生效月份：</div>\r\n                                            <div class=\"inline-block ipt-box ipt-pos\">\r\n                                                <input id=\"J_datePicker-layer\" type=\"text\" name=\"effective\" required class=\"ipt date\" readonly> \r\n                                                <i class=\"icon icon-date\"></i>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                     `,\r\n                            btn: ['提交', '取消'],\r\n                            skin: 'rules-save-layer',\r\n                            scrollbar: false,\r\n                            yes(){\r\n                                $('.rules-save-layer form').submit();\r\n                            },\r\n                            success(){\r\n                                let startDate = new Date(),\r\n                                    endDate = new Date();\r\n\r\n                                startDate.setFullYear(endDate.getFullYear()-1);\r\n\r\n                                icheckFn.iCheck();\r\n\r\n                                dateFn.getYearMonth({\r\n                                    el: '#J_datePicker-layer',\r\n                                    startDate,\r\n                                    endDate\r\n                                });\r\n\r\n                                // 同步数据 交互\r\n                                $('#J_synchro').on('ifChanged', function(){\r\n                                    let $J_datePicker = $('#J_datePicker-layer'),\r\n                                        $box = $('#J_datePicker-box');\r\n\r\n                                    if($(this).is(':checked')) {\r\n                                        $J_datePicker.removeClass('ignore');\r\n                                        $box.show();\r\n                                    } else {\r\n                                        $J_datePicker.addClass('ignore');\r\n                                        $box.hide();\r\n                                    }\r\n                                })\r\n\r\n                                $('.rules-save-layer form').validate({\r\n                                    submitHandler(formInner){\r\n                                        let $formInner = $(formInner),\r\n                                            data2 = $formInner.serializeArray(),\r\n                                            { flag } = $formInner.data();\r\n\r\n                                        if( flag ){\r\n                                            return;\r\n                                        }\r\n\r\n                                        $formInner.data('flag', true);\r\n\r\n                                        self.saveRules(data.concat(data2)).complete(() => {\r\n                                            $formInner.data('flag', false);\r\n                                        })\r\n                                    },\r\n                                    rules: {\r\n                                        effective: {\r\n                                            'date': false // ie 2013/09格式会判断错误\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                    } else {\r\n                        self.saveRules(data, () => {\r\n                            layer.open({\r\n                                content: '创建模板成功！',\r\n                                btn: ['继续创建', '返回列表'],\r\n                                yes(){\r\n                                    location.href = location.href;\r\n                                },\r\n                                btn2 (){\r\n                                    location.href = '/Service-Rules-index'\r\n                                }\r\n                            });\r\n                        })\r\n                    }\r\n            },\r\n            messages: {\r\n                minAmount: {\r\n                    ltt: '最低基数不能大于最高基数'\r\n                },\r\n                maxAmount: {\r\n                    lgt: '最高基数不能小于最低基数'\r\n                }\r\n            },\r\n            rules: {\r\n                minAmount: {\r\n                    min: 0,\r\n                    ltt: '#amount-max'\r\n                },\r\n                maxAmount: {\r\n                    min: 0,\r\n                    lgt: '#amount-min'\r\n                },\r\n                'amount[]': {\r\n                    min: 0,\r\n                    lttSub: '.J_rules-item,[name = \"amountmax[]\"]'\r\n                },\r\n                'amountmax[]': {\r\n                    min: 0,\r\n                    lgtSub: '.J_rules-item,[name = \"amount[]\"]'\r\n                },\r\n                'comScale[]': {\r\n                    min: 0\r\n                },\r\n                'comFix[]': {\r\n                    min: 0\r\n                },\r\n                'perScale[]': {\r\n                    min: 0\r\n                },\r\n                'perFix[]': {\r\n                    min: 0\r\n                },\r\n                'companyOther[]': {\r\n                    min: 0\r\n                },\r\n                'personOther[]': {\r\n                    min: 0\r\n                },\r\n                'pro_cost': {\r\n                    min: 0\r\n                },\r\n                'disabled': {\r\n                    min: 0\r\n                },\r\n                'comFixLow': {\r\n                    min: 0\r\n                },\r\n                'comFixUp': {\r\n                    min: 0\r\n                },\r\n                'perFixLow': {\r\n                    min: 0\r\n                },\r\n                'perFixUp': {\r\n                    min: 0\r\n                },\r\n                'comScale': {\r\n                    scale: true\r\n                },\r\n                'perScale': {\r\n                    scale: true\r\n                }\r\n            }\r\n        });\r\n    },\r\n    // 保存规则\r\n    saveRules(data, success){\r\n        return saveRules(data, ({msg = '保存成功'}) => {\r\n            if(isFn(success)) {\r\n                success();\r\n            } else {\r\n                layer.msg(msg);\r\n            }\r\n\r\n        }, ({ msg = \"保存失败\" }) => {\r\n            layer.msg(msg)\r\n        })\r\n    },\r\n    ispaymentType(val){\r\n        let self = this,\r\n            location = $('#J_location').val();\r\n\r\n        if (location === '' || $('#J_templateId').val() === '') {\r\n            return\r\n        }\r\n\r\n        if(val === 1) {\r\n            self.getSbClass();\r\n        } else if (val === 2 ){\r\n            self.getGjjClass();\r\n        }\r\n    },\r\n    /**\r\n     * 公积金开关  进入页面 调用getTemplateRule接口  \r\n     * 如果是编辑页 需要发id\r\n     */\r\n    getGjjClassFlag: true,\r\n    // 获取公积金数据并渲染\r\n    getGjjClass(){\r\n        let paymentType = $('#J_paymentType').val() - 0,\r\n            self = this,\r\n            elStr = '[name=\"classifyMixed\"],[name=\"type\"],[name=\"templateId\"]',\r\n            data = null;\r\n\r\n            if(self.getGjjClassFlag) {\r\n                elStr += ',[name=\"id\"]'\r\n            }\r\n            self.getGjjClassFlag = false;\r\n            data = serializeEl(elStr);\r\n\r\n        getTemplateRule(data,( { result } ) => {\r\n            let rule = paymentType === 1 ? result[0].rule : result[0].rule;\r\n\r\n            sbTpl.init('#J_sb-rules-tpl', rule);\r\n\r\n        }, ({ msg = '模板规则不存在' }) => {\r\n            $('#J_sb-rules-tpl').html('');\r\n            layer.msg( msg );\r\n        })\r\n    },\r\n    // 获取社保数据并渲染\r\n    getSbClass(){\r\n        let self = this,\r\n            html = '',\r\n            $classify_mixed = $('#classify_mixed'),\r\n            classify_mixed = $classify_mixed.val(),\r\n            isclassify_mixed = classify_mixed !== '' || typeof classify_mixed !== 'undefined';//第一次需要 获取默认值 再次选择不需要\r\n\r\n        if(!self.sbClass.items.length){\r\n            return;\r\n        }\r\n\r\n        html = tpl.render(require('tpl/sb_class.vue').template)(isclassify_mixed ? $.extend({},self.sbClass,{classify_mixed}) : self.sbClass);\r\n\r\n        $('#J_sb-type-box').html(html).show();\r\n        $('.J_sb-type').selectOrDie();\r\n\r\n        if(isclassify_mixed) {\r\n            $('.J_sb-type').eq(0).trigger('change');\r\n            $classify_mixed.val('');\r\n        }\r\n\r\n    },\r\n    emptyTpl(){\r\n        $('#J_sb-rules-tpl').html('');\r\n        $('#J_sb-type-box').html('').hide();\r\n    },\r\n    // 重置\r\n    resetVal(){\r\n        $('#J_templateId').val('');\r\n        this.sbClass = {\r\n            items: []\r\n        }\r\n    },\r\n    // 社保类型\r\n    sbClass: {\r\n        items: []\r\n    }\r\n}\r\n\r\nmodule.exports = rulesAdd;\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/page/rules_add.js\n **/","let { toggleRulesStauts } = require('api/rules');\r\n\r\nlet modules = {\r\n    init() {\r\n        let self = this;\r\n\r\n        //启用和禁用规则\r\n        $('[data-act=\"toggleRulesStauts\"]').click(function(){\r\n            let $this = $(this),\r\n                { flag, state } = $this.data(); //-9 禁用 1 启用\r\n\r\n            state -= 0;\r\n\r\n            if( flag ) {\r\n                return;\r\n            }\r\n\r\n            $this.data('flag', true);\r\n\r\n            if (state === 1) {//目前是启用状态\r\n                layer.confirm('是否禁用此规则？', {\r\n                    title: '禁用规则',\r\n                    btn: ['禁用', '取消'],\r\n                    yes(){\r\n                        self.toggleStauts($this);\r\n                    },\r\n                    end(){\r\n                        $this.data('flag', false);\r\n                    }\r\n                })\r\n            } else {\r\n                self.toggleStauts($this);\r\n            }\r\n\r\n        })\r\n    },\r\n    // 禁用、启用规则\r\n    toggleStauts($this){\r\n        let { id, state } = $this.data();\r\n\r\n        toggleRulesStauts( { id }, ( { msg = '设置成功'} ) => {\r\n\r\n            if( state - 0 === 1 ) {\r\n                $this.html('恢复启动')\r\n                    .data('state', -9)\r\n                    .closest('.list-item')\r\n                    .addClass('disabled')\r\n                    .find('.J_state').html('禁用');\r\n            } else {\r\n                $this.html('禁止启动')\r\n                    .data('state', 1)\r\n                    .closest('.list-item')\r\n                    .removeClass('disabled')\r\n                    .find('.J_state').html('启用');\r\n            }\r\n\r\n            layer.msg(msg)\r\n\r\n        }, ( { msg = \"设置失败\" } ) => {\r\n\r\n            layer.msg(msg)\r\n\r\n        }).complete(() => {\r\n            $this.data('flag', false);\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = modules;\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/page/rules_list.js\n **/","module.exports = \"\\n\\n{{each other as item i}}\\n\\t<li class=\\\"J_pay-item clearfix\\\">\\n\\t\\t<div class=\\\"item item-name\\\">\\n\\t\\t\\t{{item.name}}\\n\\t\\t\\t<input type=\\\"hidden\\\" name=\\\"otherName[]\\\" value=\\\"{{item.name}}\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"item\\\">\\n\\t\\t\\t单位：\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"companyOther[]\\\" value=\\\"{{item.rules.company}}\\\" required> 元\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"item\\\">\\n\\t\\t\\t个人：\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"personOther[]\\\" value=\\\"{{item.rules.person}}\\\" required> 元\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"item\\\">\\n\\t\\t\\t<a data-act=\\\"removeOtherRules\\\" data-key=\\\"{{item.name}}\\\" href=\\\"javascript:;\\\"><i class=\\\"icon icon-del\\\"></i></a>\\n\\t\\t</div>\\n\\t</li>\\n{{/each}}\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/pay_rules_list.vue\n ** module id = 214\n ** module chunks = 3\n **/","module.exports = \"\\n\\t{{each items as item i}}\\n\\t\\t<dl class=\\\"horizontal horizontal-ipt horizontal-5em\\\">\\n            <dt class=\\\"left\\\">{{item.name}}：</dt>\\n            <dd class=\\\"right size2\\\">\\n                <select class=\\\"J_sb-type\\\" name=\\\"classifyMixed\\\">\\n\\t\\t\\t\\t\\t{{each item._child as child}}\\n\\t\\t\\t\\t\\t\\t<option value=\\\"{{child.id}}\\\" {{if classify_mixed == child.id}}selected{{/if}}>{{child.name}}</option>\\n\\t\\t\\t\\t\\t{{/each}}\\n                </select>\\n            </dd>\\n        </dl>\\n\\t{{/each}}\\n\\t\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/sb_class.vue\n ** module id = 215\n ** module chunks = 3\n **/","module.exports = \"\\n\\t{{if paymentType == 2}}\\n\\t\\t<div class=\\\"rules-panel white gjj-rules-panel\\\">\\n\\t\\t<h4 class=\\\"panel-title\\\">\\n\\t\\t\\t公积金规则\\n\\t\\t</h4>\\n\\n\\t{{else}}\\n\\t\\t<div>\\n\\t{{/if}}\\n\\n\\t\\t{{if paymentType == 1}}\\n\\t\\t\\t<dl class=\\\"horizontal horizontal-ipt horizontal-5em {{if paymentType == 1}}sb-amount-box{{/if}}\\\">\\n\\t\\t\\t\\t<dt class=\\\"left\\\">基数范围：</dt>\\n\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t<input id=\\\"amount-min\\\" class=\\\"ipt\\\" type=\\\"number\\\" name=\\\"minAmount\\\" value=\\\"{{min}}\\\" required placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t<input id=\\\"amount-max\\\" class=\\\"ipt\\\" type=\\\"number\\\" name=\\\"maxAmount\\\" value=\\\"{{max}}\\\" required placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t元\\n\\n\\t\\t\\t\\t\\t{{if paymentType == 2}}\\n\\t\\t\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" class=\\\"icheck\\\" value=\\\"1\\\" {{if intval == 1}}checked{{/if}} name=\\\"intval\\\">\\n\\t\\t\\t\\t\\t\\t\\t是否取整\\n\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t{{/if}}\\n\\n\\t\\t\\t\\t</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th width=\\\"80\\\">能否补缴</th>\\n\\t\\t\\t\\t\\t\\t<th width=\\\"150\\\">险种</th>\\n\\t\\t\\t\\t\\t\\t<th>缴纳基数</th>\\n\\t\\t\\t\\t\\t\\t<th>单位比例</th>\\n\\t\\t\\t\\t\\t\\t<th>个人比例</th>\\n\\t\\t\\t\\t\\t\\t<th width=\\\"80\\\">操作</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody id=\\\"J_rules-sb-list\\\"></tbody>\\n\\t\\t\\t\\t<tfoot>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"text-left\\\" colspan=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a id=\\\"addSbRules\\\" href=\\\"javascript:;\\\" class=\\\"btn-add\\\"><i class=\\\"icon icon-add\\\"></i>添加险种</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"tip f-small\\\">注：不包含的险种不设置数额即可。</span>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t</table>\\n\\t\\t{{else if paymentType == 2}}\\n\\t\\t<ul class=\\\"panel-list\\\">\\n\\t\\t\\t<li>\\n\\t\\t\\t\\t<dl class=\\\"horizontal horizontal-ipt horizontal-5em {{if paymentType == 1}}sb-amount-box{{/if}}\\\">\\n\\t\\t\\t\\t\\t<dt class=\\\"left\\\">基数范围：</dt>\\n\\t\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input id=\\\"amount-min\\\" class=\\\"ipt size0 \\\" type=\\\"number\\\" name=\\\"minAmount\\\" value=\\\"{{min}}\\\" required placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block size1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input id=\\\"amount-max\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"maxAmount\\\" value=\\\"{{max}}\\\" required placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t元\\n\\n\\t\\t\\t\\t\\t\\t{{if paymentType == 2}}\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"intval-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" class=\\\"icheck\\\" value=\\\"1\\\" {{if intval == 1}}checked{{/if}} name=\\\"intval\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t是否取整\\n\\t\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t\\t{{/if}}\\n\\n\\t\\t\\t\\t\\t</dd>\\n\\t\\t\\t\\t</dl>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"clearfix J_scale-scope\\\">\\n\\t\\t\\t\\t<dl class=\\\"horizontal horizontal-5em fl\\\">\\n\\t\\t\\t\\t\\t<dt class=\\\"left\\\">单位比例：</dt>\\n\\t\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"1\\\" name=\\\"isComType\\\" {{if iscomtype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t比例范围\\n\\t\\t\\t\\t\\t\\t</label>\\n\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"2\\\" name=\\\"isComType\\\" {{if !iscomtype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t固定比例\\n\\t\\t\\t\\t\\t\\t</label>\\n\\n\\t\\t\\t\\t\\t</dd>\\n\\t\\t\\t\\t</dl>\\n\\t\\t\\t\\t<div class=\\\"fl\\\">\\n\\t\\t\\t\\t\\t<input class=\\\"ipt fixed-ratio dn ignore size0\\\" \\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\" name=\\\"comScale\\\" \\n\\t\\t\\t\\t\\t\\tvalue=\\\"{{if !iscomtype}}{{company.replace(/%/g,'')}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\trequired placeholder=\\\"缴纳基数\\\">\\n\\n\\t\\t\\t\\t\\t<div class=\\\"scale-box inline-block\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"ipt size0\\\" \\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\" \\n\\t\\t\\t\\t\\t\\t\\tname=\\\"comFixLow\\\" \\n\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if iscomtype}}{{company.replace(/%/g,'') | split:'-','0'}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\t\\trequired placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input  class=\\\"ipt size0\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\" name=\\\"comFixUp\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if iscomtype}}{{company.replace(/%/g,'') | split:'-', '1'}}{{/if}}\\\" required placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t%\\n\\t\\t\\t\\t\\t<span class=\\\"c-gray f-small fixed-ratio\\\">（多个固定值，请用英文逗号隔开）</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li class=\\\"clearfix J_scale-scope\\\">\\n\\t\\t\\t\\t<dl class=\\\"horizontal horizontal-5em fl\\\">\\n\\t\\t\\t\\t\\t<dt class=\\\"left\\\">个人比例：</dt>\\n\\t\\t\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"1\\\" name=\\\"isPerType\\\" {{if ispertype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t比例范围\\n\\t\\t\\t\\t\\t\\t</label>\\n\\n\\t\\t\\t\\t\\t\\t<label class=\\\"inline-block icheck-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"icheck J_scale-select\\\" type=\\\"radio\\\" value=\\\"2\\\" name=\\\"isPerType\\\" {{if !ispertype}}checked{{/if}}>\\n\\t\\t\\t\\t\\t\\t\\t固定比例\\n\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t</dd>\\n\\t\\t\\t\\t</dl>\\n\\t\\t\\t\\t<div class=\\\"fl\\\">\\n\\t\\t\\t\\t\\t<input class=\\\"ipt fixed-ratio dn size0 ignore\\\" type=\\\"text\\\" name=\\\"perScale\\\" \\n\\t\\t\\t\\t\\t\\tvalue=\\\"{{if !ispertype}}{{person.replace(/%/g,'')}}{{/if}}\\\" required placeholder=\\\"缴纳基数\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"scale-box inline-block\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perFixLow\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if ispertype}}{{person.replace(/%/g,'') | split:'-','0'}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\trequired placeholder=\\\"最低缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"line\\\">~</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input  class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perFixUp\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"{{if ispertype}}{{person.replace(/%/g,'') | split:'-','1'}}{{/if}}\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\trequired placeholder=\\\"最高缴纳基数\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t%\\n\\t\\t\\t\\t\\t<span class=\\\"c-gray f-small fixed-ratio\\\">（多个固定值，请用英文逗号隔开）</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t\\t\\t<a id=\\\"addSbRules\\\" href=\\\"javascript:;\\\" class=\\\"btn-add\\\"><i class=\\\"icon icon-add\\\"></i>添加险种</a>\\n\\t\\t{{/if}}\\n\\t</div>\\n\\t{{if other}}\\n\\t<div class=\\\"rules-panel white\\\">\\n\\t\\t<h3 class=\\\"panel-title pay-title\\\">\\n\\t\\t\\t其他收费\\n\\t\\t</h3>\\n\\n\\t\\t<ul id=\\\"J_other-tpl\\\" class=\\\"panel-list\\\"></ul>\\n\\n\\t\\t<a id=\\\"add-other-rules\\\" href=\\\"javascript:;\\\" class=\\\"btn-add\\\"><i class=\\\"icon icon-add\\\"></i>添加</a>\\n\\n\\t</div>\\n\\t{{/if}}\\n\\n<!-- \\t<div class=\\\"rules-panel white rules-panel-small\\\">\\n\\t<dl class=\\\"horizontal horizontal-8em pro-cost-list\\\">\\n\\t\\t<dt class=\\\"left text-right\\\">\\n\\t\\t\\t{{if paymentType == 1}}\\n\\t\\t\\t\\t社保卡工本费：\\n\\t\\t\\t{{else if paymentType == 2}}\\n\\t\\t\\t\\t公积金卡工本费：\\n\\t\\t\\t{{/if}}\\n\\t\\t</dt>\\n\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"pro_cost\\\" value=\\\"{{pro_cost || 0}}\\\" required> 元/人\\n\\t\\t</dd>\\n\\t</dl>\\n\\t{{if paymentType == 1}}\\n\\t\\t<dl class=\\\"horizontal horizontal-8em pro-cost-list\\\">\\n\\t\\t\\t<dt class=\\\"left text-right\\\">残障金：</dt>\\n\\t\\t\\t<dd class=\\\"right\\\">\\n\\t\\t\\t\\t<input class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"disabled\\\"  value=\\\"{{disabled || 0}}\\\" required> 元/人/月\\n\\t\\t\\t</dd>\\n\\t\\t</dl>\\n\\t{{/if}}\\n</div> -->\\n\\t\\n</template>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/sb_rules.vue\n ** module id = 216\n ** module chunks = 3\n **/","module.exports = \"\\n\\n{{each items as item i}}\\n\\t<tr class=\\\"J_rules-item\\\">\\n\\t\\t<td>\\n\\t\\t\\t {{if item.rules.replenish - 0 == 1}}\\n\\t\\t\\t\\t<i class=\\\"icon icon-yes\\\"></i>\\n\\t\\t\\t {{/if}}\\n\\t\\t\\t <input type=\\\"hidden\\\" name=\\\"replenish[]\\\" value=\\\"{{item.rules.replenish}}\\\">\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t{{item.name}}\\n\\t\\t\\t<input id=\\\"inputName{{i}}\\\" type=\\\"hidden\\\" name=\\\"name[]\\\" value=\\\"{{item.name}}\\\">\\n\\t\\t</td>\\n\\t\\t<td>\\n\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputAmount{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"amount[]\\\" value=\\\"{{item.rules.amount}}\\\" required placeholder=\\\"最低缴纳基数\\\"> \\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"line\\\">\\n\\t\\t\\t~\\n\\t\\t\\t</span>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputAmountmax{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"amountmax[]\\\" value=\\\"{{item.rules.amountmax}}\\\" required placeholder=\\\"最高缴纳基数\\\"> \\n\\t\\t\\t</div>\\n\\t\\t\\t元\\n\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputComScale{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"comScale[]\\\" value=\\\"{{item.rules.company | split:'+','0' | parseFloat}}\\\" required> %\\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"line\\\">\\n\\t\\t\\t\\t+\\n\\t\\t\\t</span>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputComFix{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"comFix[]\\\" value=\\\"{{item.rules.company | split:'+','1' | parseFloat}}\\\"  required> 元 \\n\\t\\t\\t</div>\\n\\t\\t</td>\\n\\t\\t<td>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputPerScale{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perScale[]\\\" value=\\\"{{item.rules.person | split:'+','0' | parseFloat}}\\\" required> % \\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"line\\\">\\n\\t\\t\\t\\t+\\n\\t\\t\\t</span>\\n\\t\\t\\t<div class=\\\"inline-block\\\">\\n\\t\\t\\t\\t<input id=\\\"inputPerFix{{i}}\\\" class=\\\"ipt size0\\\" type=\\\"number\\\" name=\\\"perFix[]\\\" value=\\\"{{item.rules.person | split:'+','1' | parseFloat}}\\\" required> 元 \\n\\t\\t\\t</div>\\n\\t\\t</td>\\n\\t\\t<td class=\\\"opt-td\\\">\\n\\t\\t\\t<a data-act=\\\"removeSbRules\\\" data-key=\\\"{{item.name}}\\\" href=\\\"javascript:;\\\">\\n\\t\\t\\t\\t<i class=\\\"icon icon-del\\\"></i>\\n\\t\\t\\t</a> \\n\\t\\t</td>\\n\\t</tr>\\n{{/each}}\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/sb_rules_list.vue\n ** module id = 217\n ** module chunks = 3\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=script&index=0!./pay_rules_list.vue\")\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./pay_rules_list.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../js/tpl/pay_rules_list.vue\n ** module id = 235\n ** module chunks = 3\n **/","var __vue_script__, __vue_template__\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./sb_class.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../js/tpl/sb_class.vue\n ** module id = 236\n ** module chunks = 3\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=script&index=0!./sb_rules.vue\")\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./sb_rules.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../js/tpl/sb_rules.vue\n ** module id = 237\n ** module chunks = 3\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=script&index=0!./sb_rules_list.vue\")\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./sb_rules_list.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../js/tpl/sb_rules_list.vue\n ** module id = 238\n ** module chunks = 3\n **/"],"sourceRoot":""}