{"version":3,"sources":["webpack:///content.bundle.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/entry/content.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/api/content.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/page/ad_img.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/page/arcticle_update.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/page/article_list.js","webpack:///F:/item/zbw/Application/Service/Assets/build/../js/page/company_info.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","_require","combinePageModule","companyInfo","articleList","updateArticle","adImg",42,"concatApi","api","removeArticle","uplateArticle",121,"$","layer","WebUploader","init","self","Uploader","support","each","formData","this","data","uploader","create","swf","server","auto","duplicate","paste","document","body","accept","title","extensions","mimeTypes","pick","id","multiple","fileSingleSizeLimit","bindUploadEvent","uploadAccept","click","evt","alert","$this","$picker","closest","find","flag","getFiles","length","html","upload","msg","el","$el","$scope","on","_ref","_ref2","file","status","url","$thumb","attr","makeThumb","error","ret","reset","next","$btn","_ref3","name","fileObj","type","tip","call",122,"submit","validate","$form","saveCompanyInfo","submitHandler","serializeArray","_$form$data","UEeditor","getContent","_ref$msg","undefined","location","href","_ref2$msg","complete",123,"dateFn","_require2","dateRange","getYearMonthDay","$tr","confirm","remove",128],"mappings":"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","file":"content.bundle.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 0:\n/*!******************************!*\\\n  !*** ../js/entry/content.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 内容管理\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 4);\n\t\n\tvar combinePageModule = _require.combinePageModule;\n\t\n\t\n\tcombinePageModule({\n\t\tcompanyInfo: __webpack_require__(/*! page/company_info */ 128),\n\t\tarticleList: __webpack_require__(/*! page/article_list */ 123),\n\t\tupdateArticle: __webpack_require__(/*! page/arcticle_update */ 122),\n\t\tadImg: __webpack_require__(/*! page/ad_img */ 121)\n\t});\n\n/***/ },\n\n/***/ 42:\n/*!****************************!*\\\n  !*** ../js/api/content.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! ./config */ 8);\n\t\n\tvar concatApi = _require.concatApi;\n\tvar api = {\n\t\t// 删除文章\n\t\tremoveArticle: '/Service-Article-changeStatus',\n\t\t// 保存企业详情 和文章\n\t\tuplateArticle: '/Service-Article-update'\n\t};\n\t\n\t// 用户信息动作\n\tmodule.exports = concatApi(api);\n\n/***/ },\n\n/***/ 121:\n/*!****************************!*\\\n  !*** ../js/page/ad_img.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\t/**\r\n\t * 焦点图管理\r\n\t */\n\tvar WebUploader = __webpack_require__(/*! plug/webuploader/webuploader */ 34);\n\t\n\tmodule.exports = {\n\t\tinit: function init() {\n\t\t\tvar self = module.exports;\n\t\n\t\t\tif (WebUploader.Uploader.support()) {\n\t\n\t\t\t\t$('.J_picker').each(function () {\n\t\n\t\t\t\t\tvar formData = $(this).data(),\n\t\t\t\t\t    uploader = WebUploader.create({\n\t\n\t\t\t\t\t\t// swf文件路径\n\t\t\t\t\t\tswf: '/Application/Service/Assets/js/plug/webuploader/Uploader.swf',\n\t\n\t\t\t\t\t\t// 文件接收服务端。\n\t\t\t\t\t\tserver: '/Service-Article-thumbUpload',\n\t\n\t\t\t\t\t\t// 选择文件的按钮。可选。\n\t\t\t\t\t\t// 内部根据当前运行是创建，可能是input元素，也可能是flash.\n\t\t\t\t\t\tauto: false,\n\t\t\t\t\t\tduplicate: true,\n\t\t\t\t\t\tpaste: document.body,\n\t\t\t\t\t\t// 只允许选择图片文件。\n\t\t\t\t\t\taccept: {\n\t\t\t\t\t\t\ttitle: 'Images',\n\t\t\t\t\t\t\textensions: 'gif,jpg,jpeg,png',\n\t\t\t\t\t\t\tmimeTypes: 'image/*'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpick: {\n\t\t\t\t\t\t\tid: this,\n\t\t\t\t\t\t\tmultiple: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformData: formData,\n\t\t\t\t\t\tfileSingleSizeLimit: 1024 * 1024 * 2\n\t\t\t\t\t});\n\t\n\t\t\t\t\t$(this).data('uploader', uploader);\n\t\n\t\t\t\t\tself.bindUploadEvent(this);\n\t\t\t\t\tself.uploadAccept(this);\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t$('.J_picker-btn').click(function (evt) {\n\t\n\t\t\t\tif (!WebUploader.Uploader.support()) {\n\t\n\t\t\t\t\tlayer.alert('您的浏览器暂不支持上传功能！如果你使用的是IE浏览器，请尝试升级 flash 播放器');\n\t\t\t\t}\n\t\n\t\t\t\tvar $this = $(this),\n\t\t\t\t    $picker = $this.closest('tr').find('.J_picker'),\n\t\t\t\t    uploader = $picker.data('uploader'),\n\t\t\t\t    flag = $this.data('flag');\n\t\n\t\t\t\tif (!uploader.getFiles().length) {\n\t\t\t\t\tlayer.msg('请选择图片');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (flag) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t$this.html('上传中...');\n\t\t\t\t$this.data('flag', true);\n\t\t\t\tuploader.upload();\n\t\t\t});\n\t\t},\n\t\tuploadAccept: function uploadAccept(el) {\n\t\t\tvar $el = $(el),\n\t\t\t    uploader = $el.data('uploader'),\n\t\t\t    $scope = $el.closest('tr');\n\t\n\t\t\tuploader.on('uploadAccept', function (_ref, _ref2) {\n\t\t\t\tvar file = _ref.file;\n\t\t\t\tvar status = _ref2.status;\n\t\t\t\tvar url = _ref2.url;\n\t\n\t\n\t\t\t\tvar $thumb = $scope.find('.thumb-logo');\n\t\n\t\t\t\tif (status - 0 === 0) {\n\t\t\t\t\tlayer.msg('上传成功');\n\t\n\t\t\t\t\t// 如果存在链接返回值 直接使用 否则生成缩略图\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\t$thumb.attr('src', url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuploader.makeThumb(file, function (error, ret) {\n\t\t\t\t\t\t\t$thumb.attr('src', ret);\n\t\t\t\t\t\t}, 1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlayer.msg('上传失败');\n\t\t\t\t}\n\t\n\t\t\t\tuploader.reset();\n\t\t\t\t$scope.find('.webuploader-pick').html('选择图片').next().attr('title', '选择图片');\n\t\t\t});\n\t\t},\n\t\tbindUploadEvent: function bindUploadEvent(el) {\n\t\t\tvar $el = $(el),\n\t\t\t    uploader = $el.data('uploader'),\n\t\t\t    $scope = $el.closest('tr'),\n\t\t\t    $btn = $scope.find('.J_picker-btn');\n\t\n\t\t\tuploader.on('fileQueued', function (_ref3) {\n\t\t\t\tvar name = _ref3.name;\n\t\n\t\t\t\t$scope.find('.webuploader-pick').html(name).next().attr('title', name);\n\t\t\t});\n\t\n\t\t\tuploader.on('uploadComplete', function (fileObj, data) {\n\t\t\t\t$btn.html('上传');\n\t\t\t\t$btn.data('flag', false);\n\t\t\t});\n\t\n\t\t\tuploader.on('error', function (type) {\n\t\t\t\tvar tip = '上传失败';\n\t\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'F_EXCEED_SIZE':\n\t\t\t\t\t\ttip = '上传图片不能超过2M';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Q_TYPE_DENIED':\n\t\t\t\t\t\ttip = '只允许上传gif,jpg,jpeg,png格式的图片';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tlayer.msg(tip);\n\t\t\t});\n\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 122:\n/*!*************************************!*\\\n  !*** ../js/page/arcticle_update.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\t/**\r\n\t * 文章修改和发布\r\n\t */\n\t/**\r\n\t * 企业信息\r\n\t */\n\t\n\t__webpack_require__(/*! plug/validate/index */ 3);\n\t\n\tmodule.exports = {\n\t\tinit: function init() {\n\t\t\tvar self = module.exports;\n\t\n\t\t\t$('#J_submit-btn').click(function () {\n\t\t\t\t$(this).closest('form').submit();\n\t\t\t});\n\t\n\t\t\tself.validate();\n\t\t},\n\t\tvalidate: function validate() {\n\t\t\tvar $form = $('#J_submit-btn').closest('form');\n\t\n\t\t\tvar _require = __webpack_require__(/*! api/content */ 42);\n\t\n\t\t\tvar saveCompanyInfo = _require.uplateArticle;\n\t\n\t\n\t\t\t$form.validate({\n\t\t\t\tsubmitHandler: function submitHandler() {\n\t\t\t\t\tvar data = $form.serializeArray();\n\t\n\t\t\t\t\tvar _$form$data = $form.data();\n\t\n\t\t\t\t\tvar flag = _$form$data.flag;\n\t\n\t\n\t\t\t\t\tif (UEeditor.getContent()) {\n\t\n\t\t\t\t\t\tif (flag) return;\n\t\n\t\t\t\t\t\t$form.data('flag', true);\n\t\t\t\t\t\tsaveCompanyInfo(data, function (_ref) {\n\t\t\t\t\t\t\tvar _ref$msg = _ref.msg;\n\t\t\t\t\t\t\tvar msg = _ref$msg === undefined ? '保存成功' : _ref$msg;\n\t\t\t\t\t\t\tvar url = _ref.url;\n\t\n\t\t\t\t\t\t\tlayer.msg(msg, function () {\n\t\t\t\t\t\t\t\tif (url) location.href = url;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, function (_ref2) {\n\t\t\t\t\t\t\tvar _ref2$msg = _ref2.msg;\n\t\t\t\t\t\t\tvar msg = _ref2$msg === undefined ? '保存失败' : _ref2$msg;\n\t\n\t\t\t\t\t\t\tlayer.msg(msg);\n\t\t\t\t\t\t}).complete(function () {\n\t\t\t\t\t\t\t$form.data('flag', false);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlayer.msg('请填写内容');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 123:\n/*!**********************************!*\\\n  !*** ../js/page/article_list.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\t/**\r\n\t * 文章列表\r\n\t */\n\t\n\tvar _require = __webpack_require__(/*! api/content */ 42);\n\t\n\tvar removeArticle = _require.removeArticle;\n\tvar dateFn = __webpack_require__(/*! plug/datetimepicker/index */ 7);\n\t\n\tvar _require2 = __webpack_require__(/*! modules/date */ 28);\n\t\n\tvar dateRange = _require2.dateRange;\n\t\n\t\n\tmodule.exports = {\n\t    init: function init() {\n\t\n\t        dateFn.getYearMonthDay();\n\t        dateRange('create');\n\t\n\t        $('[data-act=\"removeArticle\"]').click(function () {\n\t            var $this = $(this),\n\t                id = $this.data('id'),\n\t                $tr = $this.closest('tr');\n\t\n\t            layer.confirm('确定要删除该文章？', function () {\n\t                removeArticle({ id: id }, function () {\n\t                    layer.msg('修改成功');\n\t                    $tr.remove();\n\t                }, function (_ref) {\n\t                    var _ref$msg = _ref.msg;\n\t                    var msg = _ref$msg === undefined ? '修改失败' : _ref$msg;\n\t\n\t                    layer.msg(msg);\n\t                });\n\t            });\n\t        });\n\t    }\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 128:\n/*!**********************************!*\\\n  !*** ../js/page/company_info.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\t/**\r\n\t * 企业信息\r\n\t */\n\t\n\t__webpack_require__(/*! plug/validate/index */ 3);\n\t\n\tmodule.exports = {\n\t\tinit: function init() {\n\t\t\tvar self = module.exports;\n\t\n\t\t\t$('#J_submit-btn').click(function () {\n\t\t\t\t$(this).closest('form').submit();\n\t\t\t});\n\t\n\t\t\tself.validate();\n\t\t},\n\t\tvalidate: function validate() {\n\t\t\tvar $form = $('#J_submit-btn').closest('form');\n\t\n\t\t\tvar _require = __webpack_require__(/*! api/content */ 42);\n\t\n\t\t\tvar saveCompanyInfo = _require.uplateArticle;\n\t\n\t\n\t\t\t$form.validate({\n\t\t\t\tsubmitHandler: function submitHandler() {\n\t\t\t\t\tvar data = $form.serializeArray();\n\t\n\t\t\t\t\tvar _$form$data = $form.data();\n\t\n\t\t\t\t\tvar flag = _$form$data.flag;\n\t\n\t\n\t\t\t\t\tif (UEeditor.getContent()) {\n\t\n\t\t\t\t\t\tif (flag) return;\n\t\n\t\t\t\t\t\t$form.data('flag', true);\n\t\t\t\t\t\tsaveCompanyInfo(data, function (_ref) {\n\t\t\t\t\t\t\tvar _ref$msg = _ref.msg;\n\t\t\t\t\t\t\tvar msg = _ref$msg === undefined ? '保存成功' : _ref$msg;\n\t\t\t\t\t\t\tvar url = _ref.url;\n\t\n\t\t\t\t\t\t\tlayer.msg(msg, function () {\n\t\t\t\t\t\t\t\tif (url) location.href = url;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, function (_ref2) {\n\t\t\t\t\t\t\tvar _ref2$msg = _ref2.msg;\n\t\t\t\t\t\t\tvar msg = _ref2$msg === undefined ? '保存失败' : _ref2$msg;\n\t\n\t\t\t\t\t\t\tlayer.msg(msg);\n\t\t\t\t\t\t}).complete(function () {\n\t\t\t\t\t\t\t$form.data('flag', false);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlayer.msg('请填写内容');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** content.bundle.js\n **/","// 内容管理\r\nlet { combinePageModule } = require('modules/util');\r\n\r\ncombinePageModule({\r\n\tcompanyInfo: require('page/company_info'),\r\n\tarticleList: require('page/article_list'),\r\n\tupdateArticle: require('page/arcticle_update'),\r\n\tadImg: require('page/ad_img')\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/entry/content.js\n **/","\r\nlet { concatApi } = require('./config'),\r\n\tapi = {\r\n\t\t// 删除文章\r\n\t\tremoveArticle: '/Service-Article-changeStatus',\r\n\t\t// 保存企业详情 和文章\r\n\t\tuplateArticle: '/Service-Article-update'\r\n\t}\r\n\r\n// 用户信息动作\r\nmodule.exports = concatApi(api);\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/api/content.js\n **/","/**\r\n * 焦点图管理\r\n */\r\nlet WebUploader = require('plug/webuploader/webuploader')\r\n\r\nmodule.exports = {\r\n\tinit(){\r\n\t\tlet self = module.exports;\r\n\r\n\t\tif(WebUploader.Uploader.support()) {\r\n\r\n\t\t\t$('.J_picker').each(function(){\r\n\r\n\t\t\t\tlet formData = $(this).data(),\r\n\t\t\t\t\tuploader = WebUploader.create({\r\n\r\n\t\t\t\t    // swf文件路径\r\n\t\t\t\t    swf:  '/Application/Service/Assets/js/plug/webuploader/Uploader.swf',\r\n\r\n\t\t\t\t    // 文件接收服务端。\r\n\t\t\t\t    server: '/Service-Article-thumbUpload',\r\n\r\n\t\t\t\t    // 选择文件的按钮。可选。\r\n\t\t\t\t    // 内部根据当前运行是创建，可能是input元素，也可能是flash.\r\n\t\t\t\t    auto: false,\r\n\t\t\t\t    duplicate: true,\r\n\t\t\t\t    paste: document.body,\r\n\t\t\t\t     // 只允许选择图片文件。\r\n\t\t\t\t    accept: {\r\n\t\t\t\t        title: 'Images',\r\n\t\t\t\t        extensions: 'gif,jpg,jpeg,png',\r\n\t\t\t\t        mimeTypes: 'image/*'\r\n\t\t\t\t    },\r\n\t\t\t\t    pick: {\r\n\t\t\t\t    \tid: this,\r\n\t\t\t\t        multiple: false\r\n\t\t\t\t    },\r\n\t\t\t\t    formData,\r\n\t\t\t\t    fileSingleSizeLimit: 1024*1024*2\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(this).data('uploader', uploader);\r\n\r\n\t\t\t\tself.bindUploadEvent(this);\r\n\t\t\t\tself.uploadAccept(this);\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t$('.J_picker-btn').click(function(evt) {\r\n\r\n\t\t\tif(!WebUploader.Uploader.support()) {\r\n\r\n\t\t\t\tlayer.alert('您的浏览器暂不支持上传功能！如果你使用的是IE浏览器，请尝试升级 flash 播放器')\r\n\t\t\t}\r\n\r\n\t\t\tlet $this = $(this),\r\n\t\t\t\t$picker = $this.closest('tr').find('.J_picker'),\r\n\t\t\t\tuploader = $picker.data('uploader'),\r\n\t\t\t\tflag = $this.data('flag');\r\n\r\n\t\t\tif(!uploader.getFiles().length) {\r\n\t\t\t\tlayer.msg('请选择图片');\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(flag){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$this.html('上传中...');\r\n\t\t\t$this.data('flag', true);\r\n\t\t\tuploader.upload();\r\n\t\t})\r\n\t},\r\n\tuploadAccept(el) {\r\n\t\tlet $el = $(el),\r\n\t\tuploader = $el.data('uploader'),\r\n\t\t$scope = $el.closest('tr');\r\n\r\n\t\tuploader.on( 'uploadAccept', ( { file }, {status, url} ) => {\r\n\r\n\t\t\tlet $thumb = $scope.find('.thumb-logo');\r\n\r\n\t\t\tif (status - 0 === 0){\r\n\t\t\t\tlayer.msg('上传成功');\r\n\r\n\t\t\t\t// 如果存在链接返回值 直接使用 否则生成缩略图\r\n\t\t\t\tif(url) {\r\n\t\t\t\t\t$thumb.attr('src', url)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuploader.makeThumb(file, (error, ret ) => {\r\n\t\t\t\t    \t$thumb.attr('src', ret)\r\n\t\t\t\t    },1,1);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tlayer.msg('上传失败');\r\n\t\t\t}\r\n\r\n\t\t    uploader.reset();\r\n\t\t    $scope.find('.webuploader-pick')\r\n\t\t    \t.html('选择图片')\r\n\t\t    \t.next()\r\n\t\t    \t.attr('title', '选择图片');\r\n\t\t})\r\n\t},\r\n\tbindUploadEvent(el){\r\n\t\tlet $el = $(el),\r\n\t\t\tuploader = $el.data('uploader'),\r\n\t\t\t$scope = $el.closest('tr'),\r\n\t\t\t$btn = $scope.find('.J_picker-btn');\r\n\r\n\t\tuploader.on('fileQueued', ( { name } ) => {\r\n\t\t\t$scope.find('.webuploader-pick')\r\n\t\t\t\t.html(name)\r\n\t\t\t\t.next()\r\n\t\t\t\t.attr('title', name);\r\n\t\t});\r\n\r\n\t\tuploader.on( 'uploadComplete', ( fileObj, data ) => {\r\n\t\t\t$btn.html('上传');\r\n\t\t\t$btn.data('flag',false);\r\n\t\t});\r\n\r\n\t\tuploader.on( 'error', ( type) => {\r\n\t\t\tlet tip = '上传失败';\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'F_EXCEED_SIZE':\r\n\t\t\t\t\ttip = '上传图片不能超过2M'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Q_TYPE_DENIED':\r\n\t\t\t\t\ttip = '只允许上传gif,jpg,jpeg,png格式的图片'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tlayer.msg(tip);\r\n\t\t});\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/page/ad_img.js\n **/","/**\r\n * 文章修改和发布\r\n */\r\n/**\r\n * 企业信息\r\n */\r\n\r\nrequire('plug/validate/index');\r\n\r\nmodule.exports = {\r\n\tinit() {\r\n\t\tlet self = module.exports;\r\n\r\n\t\t$('#J_submit-btn').click(function(){\r\n\t\t\t$(this).closest('form').submit();\r\n\t\t})\r\n\r\n\t\tself.validate();\r\n\r\n\t},\r\n\tvalidate(){\r\n\t\tlet $form = $('#J_submit-btn').closest('form'),\r\n\t\t\t{ uplateArticle: saveCompanyInfo } = require('api/content');\r\n\r\n\t\t$form.validate({\r\n\t\t\tsubmitHandler(){\r\n\t\t\t\tlet data = $form.serializeArray(),\r\n\t\t\t\t\t{ flag } = $form.data();\r\n\r\n\t\t\t\tif(UEeditor.getContent()) {\r\n\r\n\t\t\t\t\tif(flag) return;\r\n\r\n\t\t\t\t\t$form.data('flag', true);\r\n\t\t\t\t\tsaveCompanyInfo(data, ({ msg = '保存成功' , url}) => {\r\n\t\t\t\t\t\tlayer.msg(msg, () => {\r\n\t\t\t\t\t\t\tif(url) location.href = url;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, ( { msg = '保存失败' } ) => {\r\n\t\t\t\t\t\tlayer.msg(msg);\r\n\t\t\t\t\t}). complete(() => {\r\n\t\t\t\t\t\t$form.data('flag', false);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlayer.msg('请填写内容')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/page/arcticle_update.js\n **/","/**\r\n * 文章列表\r\n */\r\nlet { removeArticle } = require('api/content'),\r\n    dateFn = require('plug/datetimepicker/index'),\r\n    { dateRange } = require('modules/date');\r\n\r\nmodule.exports = {\r\n    init() {\r\n\r\n    \tdateFn.getYearMonthDay();\r\n    \tdateRange('create');\r\n\r\n        $('[data-act=\"removeArticle\"]').click(function() {\r\n            let $this = $(this),\r\n                id = $this.data('id'),\r\n                $tr = $this.closest('tr');\r\n\r\n            layer.confirm('确定要删除该文章？', () => {\r\n                removeArticle({ id }, () => {\r\n                    layer.msg('修改成功');\r\n                    $tr.remove();\r\n                }, ({ msg = '修改失败' }) => {\r\n                    layer.msg(msg);\r\n                })\r\n            })\r\n\r\n        })\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/page/article_list.js\n **/","/**\r\n * 企业信息\r\n */\r\n\r\nrequire('plug/validate/index');\r\n\r\nmodule.exports = {\r\n\tinit() {\r\n\t\tlet self = module.exports;\r\n\r\n\t\t$('#J_submit-btn').click(function(){\r\n\t\t\t$(this).closest('form').submit();\r\n\t\t})\r\n\r\n\t\tself.validate();\r\n\r\n\t},\r\n\tvalidate(){\r\n\t\tlet $form = $('#J_submit-btn').closest('form'),\r\n\t\t\t{ uplateArticle: saveCompanyInfo } = require('api/content');\r\n\r\n\t\t$form.validate({\r\n\t\t\tsubmitHandler(){\r\n\t\t\t\tlet data = $form.serializeArray(),\r\n\t\t\t\t\t{ flag } = $form.data();\r\n\r\n\t\t\t\tif(UEeditor.getContent()) {\r\n\r\n\t\t\t\t\tif(flag) return;\r\n\r\n\t\t\t\t\t$form.data('flag', true);\r\n\t\t\t\t\tsaveCompanyInfo(data, ({ msg = '保存成功' , url}) => {\r\n\t\t\t\t\t\tlayer.msg(msg, () => {\r\n\t\t\t\t\t\t\tif(url) location.href = url;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, ( { msg = '保存失败' } ) => {\r\n\t\t\t\t\t\tlayer.msg(msg);\r\n\t\t\t\t\t}). complete(() => {\r\n\t\t\t\t\t\t$form.data('flag', false);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlayer.msg('请填写内容')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** F:/item/zbw/Application/Service/Assets/build/../js/page/company_info.js\n **/"],"sourceRoot":""}