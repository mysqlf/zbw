{"version":3,"sources":["webpack:///bill.bundle.js","webpack:///./../js/entry/bill.js","webpack:///./../js/api/bill.js","webpack:///./../js/page/bill.js","webpack:///../js/tpl/invoice.vue?83ce","webpack:///../js/tpl/invoice.vue"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_require","combinePageModule","bill","116","concatApi","api","comBillpayment","130","$","layer","template","userAct","dateFn","init","self","this","getYearMonth","click","$amount","data","id","val","amount","company","contact_name","contact_phone","open","title","content","render","btn","area","yes","submit","success","validate","submitHandler","status","invoice_amount","split","join","invoice_express_company","invoice_express_no","invoice_consignee","invoice_consignee_phone","_ref","msg","_ref2","rules","istelephone","message","call","216","238","__vue_script__","__vue_template__","options"],"mappings":"AAAAA,cAAc,IAERC;;;AAIA,SAASC,EAAQC,EAASC,GAE/B,YAEA,IAAIC,GCRuBD,qBAAQ,GAA9BE,EDUmBD,ECVnBC,iBAENA,IACCC,KAAMH,kBAAQ,QDgBTI;;;AAIA,SAASN,EAAQC,EAASC,GAE/B,YAEA,IAAIC,GE7BeD,iBAAQ,GAAtBK,EAAFJ,EAAEI,UACLC,GAECC,eAAgB,wBAIlBT,GAAOC,QAAUM,EAAUC,IFmCrBE;;;AAIA,SAASV,EAAQC,EAASC,IAEH,SAASS,EAAGC,GAAQ,YGhDjD,IAAIC,GAAWX,qBAAQ,GACnBY,EAAUZ,iBAAQ,KAClBa,EAASb,kCAAQ,EAErBA,6BAAQ,EAER,IAAIG,IACAW,KADO,WAEH,GAAIC,GAAOC,IAEXH,GAAOI,eAEPR,EAAE,wBAAwBS,MAAM,WAC5B,GAAIC,GAAUV,EAAEO,MAAMI,KAAK,SAEvBA,GACAC,GAAIZ,EAAE,eAAea,MACrBC,OAAQJ,EACRK,QAASf,EAAE,yBAAyBa,MACpCG,aAAchB,EAAE,yBAAyBa,MACzCI,cAAejB,EAAE,0BAA0Ba,MAG/CZ,GAAMiB,MACFC,MAAO,OACPC,QAASlB,EAASmB,OAAO9B,wBAAQ,KAAmBW,UAAUS,GAC9DW,KAAM,KAAM,MACZC,KAAM,QACNC,IAAK,WACDxB,EAAE,yBAAyByB,UAE/BC,QARO,WASHpB,EAAKqB,iBAKrBA,SA/BO,WAgCH3B,EAAE,yBAAyB2B,UACvBC,cAAe,WACX,GAAIjB,IACAC,GAAMZ,EAAE,eAAea,MACvBgB,OAAU,EACVC,eAAkB9B,EAAE,wBAAwBW,KAAK,SAASoB,MAAM,KAAKC,KAAK,IAAM,EAChFC,wBAA2BjC,EAAE,oCAAoCa,MACjEqB,mBAAsBlC,EAAE,+BAA+Ba,MACvDsB,kBAAqBnC,EAAE,8BAA8Ba,MACrDuB,wBAA2BpC,EAAE,oCAAoCa,MAGrEV,GAAQL,eAAea,EAAM,SAAA0B,GAAa,GAAVC,GAAUD,EAAVC,GAC5BrC,GAAMqC,IAAIA,IAEX,SAAAC,GAAa,GAAVD,GAAUC,EAAVD,GACFrC,GAAMqC,IAAIA,MAIlBE,OACIJ,yBACIK,aAAa,IAGrBC,cAQZrD,GAAOC,QAAUI,IHmDaiD,KAAKrD,EAASC,eAAkC,GAAIA,cAAiC,KAI7GqD;;;AAIA,SAASvD,EAAQC,GIlIvBD,EAAAC,QAAA,qoDJwIMuD;;;AAIA,SAASxD,EAAQC,EAASC,GK5IhC,GAAAuD,GAAAC,CACAA,GAAAxD,+GAAA,KACAF,EAAAC,QAAAwD,MACAC,KACA,kBAAA1D,GAAAC,QAAAD,EAAAC,QAAA0D,UAAA3D,EAAAC,QAAA0D,YAA+F3D,EAAAC,SAAAY,SAAA6C","file":"bill.bundle.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 0:\n/*!***************************!*\\\n  !*** ../js/entry/bill.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! modules/util */ 4);\n\t\n\tvar combinePageModule = _require.combinePageModule;\n\t\n\t\n\tcombinePageModule({\n\t\tbill: __webpack_require__(/*! page/bill */ 130)\n\t});\n\n/***/ },\n\n/***/ 116:\n/*!*************************!*\\\n  !*** ../js/api/bill.js ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(/*! ./config */ 8);\n\t\n\tvar concatApi = _require.concatApi;\n\tvar api = {\n\t\t// 企业账单付款\n\t\tcomBillpayment: '/Service-Bill-invoice'\n\t};\n\t\n\t// 账单api\n\tmodule.exports = concatApi(api);\n\n/***/ },\n\n/***/ 130:\n/*!**************************!*\\\n  !*** ../js/page/bill.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, layer) {'use strict';\n\t\n\tvar template = __webpack_require__(/*! art-template */ 6),\n\t    userAct = __webpack_require__(/*! api/bill */ 116),\n\t    dateFn = __webpack_require__(/*! plug/datetimepicker/index */ 7);\n\t\n\t__webpack_require__(/*! plug/validate/index */ 3);\n\t\n\tvar bill = {\n\t    init: function init() {\n\t        var self = this;\n\t\n\t        dateFn.getYearMonth();\n\t\n\t        $('[data-act=\"invoice\"]').click(function () {\n\t            var $amount = $(this).data('price');\n\t\n\t            var data = {\n\t                id: $('[name=\"id\"]').val(),\n\t                amount: $amount,\n\t                company: $('[name=\"company_name\"]').val(),\n\t                contact_name: $('[name=\"contact_name\"]').val(),\n\t                contact_phone: $('[name=\"contact_phone\"]').val()\n\t            };\n\t\n\t            layer.open({\n\t                title: '开具发票',\n\t                content: template.render(__webpack_require__(/*! tpl/invoice.vue */ 238).template)(data),\n\t                btn: ['确定', '取消'],\n\t                area: '500px',\n\t                yes: function yes() {\n\t                    $('#J_invoice-form-layer').submit();\n\t                },\n\t                success: function success() {\n\t                    self.validate();\n\t                }\n\t            });\n\t        });\n\t    },\n\t    validate: function validate() {\n\t        $('#J_invoice-form-layer').validate({\n\t            submitHandler: function submitHandler() {\n\t                var data = {\n\t                    'id': $('[name=\"id\"]').val(),\n\t                    'status': 1,\n\t                    'invoice_amount': $('[data-act=\"invoice\"]').data('price').split(',').join('') - 0,\n\t                    'invoice_express_company': $('[name=\"invoice_express_company\"]').val(),\n\t                    'invoice_express_no': $('[name=\"invoice_express_no\"]').val(),\n\t                    'invoice_consignee': $('[name=\"invoice_consignee\"]').val(),\n\t                    'invoice_consignee_phone': $('[name=\"invoice_consignee_phone\"]').val()\n\t                };\n\t\n\t                userAct.comBillpayment(data, function (_ref) {\n\t                    var msg = _ref.msg;\n\t\n\t                    layer.msg(msg);\n\t                }, function (_ref2) {\n\t                    var msg = _ref2.msg;\n\t\n\t                    layer.msg(msg);\n\t                });\n\t            },\n\t            rules: {\n\t                invoice_consignee_phone: {\n\t                    istelephone: true\n\t                }\n\t            },\n\t            message: {}\n\t\n\t        });\n\t    }\n\t};\n\t\n\tmodule.exports = bill;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 1), __webpack_require__(/*! layer */ 2)))\n\n/***/ },\n\n/***/ 216:\n/*!******************************************************************************************************************************!*\\\n  !*** D:/item/zbw/~/tpl-html-loader!D:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/invoice.vue ***!\n  \\******************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n\\n<div class=\\\"layer-cnt\\\">\\n\\t<form id=\\\"J_invoice-form-layer\\\" autocomplete=\\\"off\\\" method=\\\"post\\\">\\n\\t\\t<input type=\\\"hidden\\\" name=\\\"id\\\" value=\\\"{{ id }}\\\" />\\n\\t\\t<div class=\\\"layer-pannel clearfix\\\" >\\n\\t\\t\\t<p class=\\\"layer-title col-12\\\">企业信息</p>\\n\\t\\t\\t<p class=\\\"layer-comName col-8 ellipsis\\\">公司名称：{{company}}</p>\\n\\t\\t\\t<p class=\\\"layer-amount col-4 text-right\\\">金额：<em class=\\\"c-money f-bold\\\">{{ amount }}</em> 元</p>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"layer-pannel\\\">\\n\\t\\t\\t<p class=\\\"layer-title\\\">填写快递信息</p>\\n\\t\\t\\t<dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">收件人名称：</dt>\\n\\t            <dd class=\\\"right\\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_consignee\\\" class=\\\"ipt size3\\\" value=\\\"{{contact_name}}\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t        <dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">联系电话：</dt>\\n\\t            <dd class=\\\"right\\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_consignee_phone\\\" class=\\\"ipt size3\\\" value=\\\"{{contact_phone}}\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t        <dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">快递公司：</dt>\\n\\t            <dd class=\\\"right \\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_express_company\\\" class=\\\"ipt size3\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t        <dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">快递号：</dt>\\n\\t            <dd class=\\\"right\\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_express_no\\\" class=\\\"ipt size3\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\";\n\n/***/ },\n\n/***/ 238:\n/*!*****************************!*\\\n  !*** ../js/tpl/invoice.vue ***!\n  \\*****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_template__ = __webpack_require__(/*! !tpl-html-loader!./../../../../../~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./invoice.vue */ 216)\n\tmodule.exports = __vue_script__ || {}\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** bill.bundle.js\n **/","\r\n\r\nlet { combinePageModule } = require('modules/util');\r\n\r\ncombinePageModule({\r\n\tbill: require('page/bill')\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/entry/bill.js\n **/","let { concatApi } = require('./config'),\r\n\tapi = {\r\n\t\t// 企业账单付款\r\n\t\tcomBillpayment: '/Service-Bill-invoice'\r\n\t}\r\n\r\n// 账单api\r\nmodule.exports = concatApi(api);\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/api/bill.js\n **/","let template = require('art-template'),\r\n    userAct = require('api/bill'),\r\n    dateFn = require('plug/datetimepicker/index');\r\n\r\nrequire('plug/validate/index');\r\n\r\nlet bill = {\r\n    init() {\r\n        let self = this;\r\n\r\n        dateFn.getYearMonth();\r\n\r\n        $('[data-act=\"invoice\"]').click(function() {\r\n            let $amount = $(this).data('price');\r\n\r\n            let data = {\r\n                id: $('[name=\"id\"]').val(),\r\n                amount: $amount,\r\n                company: $('[name=\"company_name\"]').val(),\r\n                contact_name: $('[name=\"contact_name\"]').val(),\r\n                contact_phone: $('[name=\"contact_phone\"]').val()\r\n            }\r\n\r\n            layer.open({\r\n                title: '开具发票',\r\n                content: template.render(require('tpl/invoice.vue').template)(data),\r\n                btn: ['确定', '取消'],\r\n                area: '500px',\r\n                yes: function() {\r\n                    $('#J_invoice-form-layer').submit();\r\n                },\r\n                success() {\r\n                    self.validate()\r\n                }\r\n            });\r\n        })\r\n    },\r\n    validate() {\r\n        $('#J_invoice-form-layer').validate({\r\n            submitHandler: function() {\r\n                let data = {\r\n                    'id': $('[name=\"id\"]').val(),\r\n                    'status': 1,\r\n                    'invoice_amount': $('[data-act=\"invoice\"]').data('price').split(',').join('') - 0,\r\n                    'invoice_express_company': $('[name=\"invoice_express_company\"]').val(),\r\n                    'invoice_express_no': $('[name=\"invoice_express_no\"]').val(),\r\n                    'invoice_consignee': $('[name=\"invoice_consignee\"]').val(),\r\n                    'invoice_consignee_phone': $('[name=\"invoice_consignee_phone\"]').val()\r\n                };\r\n\r\n                userAct.comBillpayment(data, ({ msg }) => {\r\n                    layer.msg(msg);\r\n\r\n                }, ({ msg }) => {\r\n                    layer.msg(msg);\r\n\r\n                });\r\n            },\r\n            rules: {\r\n                invoice_consignee_phone: {\r\n                    istelephone: true\r\n                }\r\n            },\r\n            message: {\r\n\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = bill;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./../js/page/bill.js\n **/","module.exports = \"\\n\\n<div class=\\\"layer-cnt\\\">\\n\\t<form id=\\\"J_invoice-form-layer\\\" autocomplete=\\\"off\\\" method=\\\"post\\\">\\n\\t\\t<input type=\\\"hidden\\\" name=\\\"id\\\" value=\\\"{{ id }}\\\" />\\n\\t\\t<div class=\\\"layer-pannel clearfix\\\" >\\n\\t\\t\\t<p class=\\\"layer-title col-12\\\">企业信息</p>\\n\\t\\t\\t<p class=\\\"layer-comName col-8 ellipsis\\\">公司名称：{{company}}</p>\\n\\t\\t\\t<p class=\\\"layer-amount col-4 text-right\\\">金额：<em class=\\\"c-money f-bold\\\">{{ amount }}</em> 元</p>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"layer-pannel\\\">\\n\\t\\t\\t<p class=\\\"layer-title\\\">填写快递信息</p>\\n\\t\\t\\t<dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">收件人名称：</dt>\\n\\t            <dd class=\\\"right\\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_consignee\\\" class=\\\"ipt size3\\\" value=\\\"{{contact_name}}\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t        <dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">联系电话：</dt>\\n\\t            <dd class=\\\"right\\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_consignee_phone\\\" class=\\\"ipt size3\\\" value=\\\"{{contact_phone}}\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t        <dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">快递公司：</dt>\\n\\t            <dd class=\\\"right \\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_express_company\\\" class=\\\"ipt size3\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t        <dl class=\\\"horizontal horizontal-6em\\\">\\n\\t            <dt class=\\\"left text-right\\\">快递号：</dt>\\n\\t            <dd class=\\\"right\\\">\\n\\t                <input type=\\\"text\\\" name=\\\"invoice_express_no\\\" class=\\\"ipt size3\\\" required />\\n\\t            </dd>\\n\\t        </dl>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** D:/item/zbw/~/tpl-html-loader!D:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!../js/tpl/invoice.vue\n ** module id = 216\n ** module chunks = 9\n **/","var __vue_script__, __vue_template__\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./invoice.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../js/tpl/invoice.vue\n ** module id = 238\n ** module chunks = 9\n **/"],"sourceRoot":""}