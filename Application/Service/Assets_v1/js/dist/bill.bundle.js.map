{"version":3,"sources":["webpack:///./js/entry/bill.js","webpack:///./js/src/page/comBillList.js","webpack:///./js/src/modules/actions/bill.js","webpack:///./js/src/tpl/payBill.vue","webpack:///./js/src/tpl/payBill.vue?6163","webpack:///./js/src/page/comBillDetail.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA,IAAG;;AAEH,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAQ;AACR;AACA,KAAI;;AAEJ;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA,4BAA2B,UAAU;AACrC;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA,OAAM;;AAEN,MAAK;;AAEL;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;;;;;;;;;;;;ACxGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA,gGAA+F;AAC/F;AACA,aAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC,I;;;;;;;;;;AChBD,0NAAyN,KAAK,0rBAA0rB,IAAI,6DAA6D,SAAS,oB;;;;;;;;;;;ACCl+B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,GAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA,4BAA2B,UAAU;AACrC;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA,OAAM;;AAEN,MAAK;;AAEL;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA","file":"bill.bundle.js","sourcesContent":["if(process.env.NODE_ENV !== 'production'){\r\n\t// http://mockjs.com/\r\n\t// 只有不是开发环境 才使用 mock模拟ajax\r\n\t//require('mockData/index.js');\r\n}\r\n\r\n\r\nrequire('plug/bootstrap/index.js');\r\nrequire('plug/placeholder.js');\r\nvar initFn = $('script').eq(-1).data('init');\r\n\r\nvar pages = {\r\n\tcomBillList: require('page/comBillList.js'),\r\n\tcomBillDetail: require('page/comBillDetail.js')\r\n\r\n}\r\n\r\nif(pages[initFn]){\r\n\tpages[initFn].init();\r\n}\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/entry/bill.js\n ** module id = 0\n ** module chunks = 1\n **/","\r\n//企业账单列表\r\nvar template = require('art-template'),\r\n\tvalidateFn = require('modules/validate'),\r\n\ticheckFn = require('modules/icheck'),\r\n\tbillAct = require('modules/actions/bill');\r\n\r\nvar comBillList={\r\n\tinit:function(){\r\n\t\tthis.billPay();\r\n\r\n\t\ticheckFn.init().checkAll();\r\n\r\n\t\t$('[data-act=\"export-bill\"]').click(function(){\r\n\t\t\tvar url = 'Service-Bill-downloadBill?',\r\n\t\t\t\t$checked = $('#bill-list-form').find('.single-icheck:checked'),\r\n\t\t\t\tidArr = [],\r\n\t\t\t\tnoArr = [],\r\n\t\t\t\tlen = $checked.length;\r\n\r\n\t\t\tif(!len){\r\n\t\t\t\tlayer.alert('至少选择一个账单')\r\n\t\t\t} else{\r\n\t\t\t\t$checked.each(function(index){\r\n\t\t\t\t\tvar $this = $(this);\r\n\r\n\t\t\t\t\tidArr.push($this.data('bill_id'))\r\n\t\t\t\t\tnoArr.push($this.data('bill_no'))\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlocation.href = url + 'bill_id=' + idArr.join(',') + '&bill_no=' + noArr.join(',');\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t},\r\n\tbillPay:function(){\r\n\t\tvar self = this;\r\n\r\n\t\t$('[data-act=\"comBillpayment\"]').click(function(){\r\n\t\t\tvar dataAct = $(this).data(),\r\n\t\t\t\thtml = template.render(require('tpl/payBill.vue').template)(dataAct);\r\n\t\t\tvar $form = null;\r\n\r\n\t\t\tlayer.open({\r\n\t\t\t    type: 1,\r\n\t\t\t    skin: 'bill-pay', //样式类名\r\n\t\t\t    closeBtn: 0, //不显示关闭按钮\r\n\t\t\t    shift: 5,\r\n\t\t\t    shadeClose: true, //开启遮罩关闭\r\n\t\t\t    area:['400px','auto'],\r\n\t\t\t    btn:['确定', '取消'],\r\n\t\t\t    yes:function(){\r\n\r\n\t\t\t    \t$form.submit();\r\n\t\t\t    },\r\n\t\t\t    content: html\r\n\t\t\t});\r\n\r\n\t\t\t$form = $('#pay-form');\r\n\t\t\tself.validateObj = self.validate($form);\r\n\t\t})\r\n\t},\r\n\tvalidateObj: null,\r\n\tvalidate: function($form){\r\n\t\tvar self = this;\r\n\r\n\t\treturn $form.validate({\r\n\t\t\tsubmitHandler: function(){\r\n\t\t\t\tlayer.confirm('确定保存？', {\r\n\t\t\t\t    btn: ['确定','取消'] //按钮\r\n\t\t\t\t}, function(){\r\n\r\n\t\t\t\t\tvar data = $form.serializeArray();\r\n\r\n\t\t\t\t\tvar loadIndex = layer.msg('提交中..');\r\n\r\n\t\t\t\t\tbillAct.comBillpayment(data, function(json){\r\n\t\t\t\t\t\tlayer.msg(json.msg, {time:2000},function(){\r\n\t\t\t\t\t\t\tlayer.closeAll();\r\n\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).complete(function(){\r\n\t\t\t\t\t\tlayer.close(loadIndex);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tactual_price:{\r\n\t\t\t\t\tnumber: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmessages: {\r\n\t\t\t\tactual_price: {\r\n\t\t\t\t\trequired: '请输入实付金额'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n}\r\nmodule.exports = comBillList;\r\n\r\n\t\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/src/page/comBillList.js\n ** module id = 58\n ** module chunks = 1 5\n **/","var baseAct = require('./base');\r\n\r\n// 账单动作\r\nmodule.exports = {\r\n\t// 企业账单付款\r\n\tcomBillpayment: function(data, cb){\r\n\t\tvar opts = {\r\n\t\t\tdata: data,\r\n\t\t\turl: '/Service-Bill-comBillpayment'\r\n\t\t}\r\n\t\treturn baseAct.ajax(opts,cb);\r\n\t}\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/src/modules/actions/bill.js\n ** module id = 59\n ** module chunks = 1 5\n **/","var __vue_script__, __vue_template__\n__vue_template__ = require(\"!!tpl-html-loader!./../../../../../../node_modules/tpl-loader-ie8/lib/selector.js?type=template&index=0!./payBill.vue\")\nmodule.exports = __vue_script__ || {}\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  var id = \"_v-4fa8c49c/payBill.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/src/tpl/payBill.vue\n ** module id = 60\n ** module chunks = 1 5\n **/","module.exports = \"\\t\\n\\t<form id=\\\"pay-form\\\" class=\\\"pay-form-layer\\\" action=\\\"\\\">\\n\\t\\t<div class=\\\"total-pay\\\">\\n\\t\\t\\t<label class=\\\"label-left vertical-top\\\">账单总额：</label>\\n\\t\\t\\t<span class=\\\"c-money f-bold\\\">{{pay}}元</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t<label class=\\\"label-left vertical-top text-right\\\">\\n\\t        \\t实付：\\n\\t        </label>\\n\\t        <div class=\\\"inline-block\\\">\\n\\t        \\t<input type=\\\"text\\\" class=\\\"form-control \\\" required name=\\\"actual_price\\\" placeholder=\\\"\\\" value=\\\"\\\">\\n\\t        </div>\\n\\t    </div>\\n\\t    <div class=\\\"form-group\\\">\\n\\t\\t\\t<label class=\\\"label-left vertical-top text-right\\\">\\n\\t        \\t备注：\\n\\t        </label>\\n\\t        <div class=\\\"inline-block\\\">\\n\\t        \\t<input type=\\\"text\\\" class=\\\"form-control \\\" name=\\\"note\\\" placeholder=\\\"备注\\\" value=\\\"\\\">\\n\\t        </div>\\n\\t    </div>\\n\\t    <input type=\\\"hidden\\\" name=\\\"id\\\" value=\\\"{{id}}\\\">\\n\\t    <input type=\\\"hidden\\\" name=\\\"bill_no\\\" value=\\\"{{bill_no}}\\\">\\n    </form>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** F:/item/zbw/~/tpl-html-loader!F:/item/zbw/~/tpl-loader-ie8/lib/selector.js?type=template&index=0!./js/src/tpl/payBill.vue\n ** module id = 61\n ** module chunks = 1 5\n **/","\r\n//企业账单列表\r\nvar validateFn = require('modules/validate'),\r\n\ticheckFn = require('modules/icheck'),\r\n\tbillAct = require('modules/actions/bill');\r\n\r\nvar comBillList={\r\n\tinit:function(){\r\n\t\tthis.billPay();\r\n\t\ticheckFn.init();\r\n\r\n\r\n\t},\r\n\tbillPay:function(){\r\n\t\tvar self = this;\r\n\r\n\t\t$('[data-act=\"comBillpayment\"]').click(function(){\r\n\r\n\t\t\t$form = $('#pay-form');\r\n\t\t\tself.validateObj = self.validate($form);\r\n\t\t})\r\n\t},\r\n\tvalidateObj: null,\r\n\tvalidate: function($form){\r\n\t\tvar self = this;\r\n\r\n\t\treturn $form.validate({\r\n\t\t\tsubmitHandler: function(){\r\n\t\t\t\tlayer.confirm('确定保存？', {\r\n\t\t\t\t    btn: ['确定','取消'] //按钮\r\n\t\t\t\t}, function(){\r\n\r\n\t\t\t\t\tvar data = $form.serializeArray();\r\n\r\n\t\t\t\t\tvar loadIndex = layer.msg('提交中..');\r\n\r\n\t\t\t\t\tbillAct.comBillpayment(data, function(json){\r\n\t\t\t\t\t\tlayer.msg(json.msg, {time:2000},function(){\r\n\t\t\t\t\t\t\tlayer.closeAll();\r\n\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).complete(function(){\r\n\t\t\t\t\t\tlayer.close(loadIndex);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tactual_price:{\r\n\t\t\t\t\tnumber: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmessages: {\r\n\t\t\t\tactual_price: {\r\n\t\t\t\t\trequired: '请输入实付金额'\r\n\t\t\t\t},\r\n\t\t\t\thas_pay: {\r\n\t\t\t\t\trequired: '请选择确认付款'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n}\r\nmodule.exports = comBillList;\r\n\r\n\t\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/src/page/comBillDetail.js\n ** module id = 62\n ** module chunks = 1\n **/"],"sourceRoot":""}